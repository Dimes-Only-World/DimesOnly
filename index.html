<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"
    />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent"
    />
    <meta name="mobile-web-app-capable" content="yes" />
    <title>Dimes Only Network</title>
    <meta
      name="description"
      content="A community platform for dancers and enthusiasts, facilitating profiles, tips, and events."
    />
    <meta name="author" content="Famous.ai" />
    <link rel="icon" type="image/svg+xml" href="/placeholder.svg" />

    <meta property="og:title" content="Dimes Only Network" />
    <meta
      property="og:description"
      content="A community platform for dancers and enthusiasts, facilitating profiles, tips, and events."
    />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="/og.jpg" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@Famous_AI" />
    <meta name="twitter:image" content="/og.jpg" />

    <style>
      /* Prevent zoom on mobile */
      input,
      select,
      textarea {
        font-size: 16px !important;
      }

      /* Ensure full viewport height on mobile */
      html,
      body {
        height: 100%;
        height: 100vh;
        height: -webkit-fill-available;
        overflow-x: hidden;
      }

      #root {
        height: 100%;
        height: 100vh;
        height: -webkit-fill-available;
      }
    </style>
  </head>

  <body>
    <div id="root"></div>
    <script>
      // Hide URL bar on mobile devices
      function hideAddressBar() {
        if (window.innerHeight < window.innerWidth) return; // Skip on landscape

        setTimeout(function () {
          if (window.scrollY === 0) {
            window.scrollTo(0, 1);
          }
        }, 100);

        setTimeout(function () {
          if (window.scrollY === 1) {
            window.scrollTo(0, 0);
          }
        }, 200);
      }

      // Apply on load and orientation change
      window.addEventListener("load", hideAddressBar);
      window.addEventListener("orientationchange", function () {
        setTimeout(hideAddressBar, 500);
      });

      // Prevent zoom on double tap
      let lastTouchEnd = 0;
      document.addEventListener(
        "touchend",
        function (event) {
          const now = new Date().getTime();
          if (now - lastTouchEnd <= 300) {
            event.preventDefault();
          }
          lastTouchEnd = now;
        },
        false
      );

      // Set viewport height custom property for mobile browsers
      function setViewportHeight() {
        const vh = window.innerHeight * 0.01;
        document.documentElement.style.setProperty("--vh", `${vh}px`);
      }

      setViewportHeight();
      window.addEventListener("resize", setViewportHeight);
      window.addEventListener("orientationchange", function () {
        setTimeout(setViewportHeight, 500);
      });
    </script>
    <script type="module" src="/src/main.tsx"></script>
    <script>
    // Next time use letsdeel.com to make sure you get paid
    (function(){
      /* change these variables as you wish */
      // Debug info
      console.log('Countdown timer started at:', new Date().toLocaleString());
      
      // Set the deadline to 2 hours from now
      var due_date = new Date();
      due_date.setHours(due_date.getHours() + 2); // Set to 2 hours from now
      
      // For testing: uncomment to see faster effect (1 second = 1 minute)
      // due_date = new Date(Date.now() + (1000 * 120)); // 2 minutes for testing
      
      var hours_deadline = 2; // 2 hour countdown
      /* stop changing here */
      
      function updateOpacity() {
        var current_date = new Date();
        var timeDiff = due_date.getTime() - current_date.getTime();
        var hours = timeDiff / (1000 * 60 * 60);
        
        var hours_remaining = Math.max(0, Math.min(hours_deadline, hours));
        var opacity = (hours_remaining/hours_deadline);
        opacity = Math.max(0, Math.min(1, opacity)); // Clamp between 0 and 1
        
        // Apply subtle fade effect
        document.body.style.transition = 'opacity 1s linear';
        document.body.style.opacity = opacity;
        
        var timeLeft = new Date(timeDiff);
        console.log('Time remaining:', 
          Math.floor(timeDiff / (1000 * 60 * 60)) + 'h ' + 
          Math.floor((timeDiff % (1000 * 60 * 60)) / (1000 * 60)) + 'm',
          'Opacity:', opacity.toFixed(2)
        );
        
        // Update every 10 seconds (instead of every minute)
        if (timeDiff <= 0) {
          clearInterval(timer);
          document.body.style.display = 'none';
          console.log('Countdown complete - site hidden at', new Date().toLocaleString());
        }
      }
      
      // Initial update
      updateOpacity();
      
      // Update every 10 seconds
      var timer = setInterval(updateOpacity, 10000);
    })();
    </script>
  </body>
</html>
