var nv=e=>{throw TypeError(e)};var jf=(e,t,r)=>t.has(e)||nv("Cannot "+r);var B=(e,t,r)=>(jf(e,t,"read from private field"),r?r.call(e):t.get(e)),Ce=(e,t,r)=>t.has(e)?nv("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ve=(e,t,r,n)=>(jf(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),$e=(e,t,r)=>(jf(e,t,"access private method"),r);var ld=(e,t,r,n)=>({set _(a){ve(e,t,a,r)},get _(){return B(e,t,n)}});function yA(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function AN(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function RN(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var IN={exports:{}},ph={},ON={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $c=Symbol.for("react.element"),vA=Symbol.for("react.portal"),bA=Symbol.for("react.fragment"),wA=Symbol.for("react.strict_mode"),jA=Symbol.for("react.profiler"),NA=Symbol.for("react.provider"),_A=Symbol.for("react.context"),SA=Symbol.for("react.forward_ref"),kA=Symbol.for("react.suspense"),CA=Symbol.for("react.memo"),EA=Symbol.for("react.lazy"),av=Symbol.iterator;function PA(e){return e===null||typeof e!="object"?null:(e=av&&e[av]||e["@@iterator"],typeof e=="function"?e:null)}var LN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},MN=Object.assign,DN={};function Xo(e,t,r){this.props=e,this.context=t,this.refs=DN,this.updater=r||LN}Xo.prototype.isReactComponent={};Xo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Xo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function FN(){}FN.prototype=Xo.prototype;function cg(e,t,r){this.props=e,this.context=t,this.refs=DN,this.updater=r||LN}var dg=cg.prototype=new FN;dg.constructor=cg;MN(dg,Xo.prototype);dg.isPureReactComponent=!0;var iv=Array.isArray,$N=Object.prototype.hasOwnProperty,ug={current:null},UN={key:!0,ref:!0,__self:!0,__source:!0};function VN(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)$N.call(t,n)&&!UN.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:$c,type:e,key:i,ref:o,props:a,_owner:ug.current}}function TA(e,t){return{$$typeof:$c,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function hg(e){return typeof e=="object"&&e!==null&&e.$$typeof===$c}function AA(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var ov=/\/+/g;function Nf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?AA(""+e.key):t.toString(36)}function Qd(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case $c:case vA:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+Nf(o,0):n,iv(a)?(r="",e!=null&&(r=e.replace(ov,"$&/")+"/"),Qd(a,t,r,"",function(d){return d})):a!=null&&(hg(a)&&(a=TA(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(ov,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",iv(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Nf(i,l);o+=Qd(i,t,r,c,a)}else if(c=PA(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Nf(i,l++),o+=Qd(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function cd(e,t,r){if(e==null)return e;var n=[],a=0;return Qd(e,n,"","",function(i){return t.call(r,i,a++)}),n}function RA(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var pr={current:null},Xd={transition:null},IA={ReactCurrentDispatcher:pr,ReactCurrentBatchConfig:Xd,ReactCurrentOwner:ug};function BN(){throw Error("act(...) is not supported in production builds of React.")}De.Children={map:cd,forEach:function(e,t,r){cd(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return cd(e,function(){t++}),t},toArray:function(e){return cd(e,function(t){return t})||[]},only:function(e){if(!hg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};De.Component=Xo;De.Fragment=bA;De.Profiler=jA;De.PureComponent=cg;De.StrictMode=wA;De.Suspense=kA;De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IA;De.act=BN;De.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=MN({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=ug.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)$N.call(t,c)&&!UN.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:$c,type:e.type,key:a,ref:i,props:n,_owner:o}};De.createContext=function(e){return e={$$typeof:_A,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:NA,_context:e},e.Consumer=e};De.createElement=VN;De.createFactory=function(e){var t=VN.bind(null,e);return t.type=e,t};De.createRef=function(){return{current:null}};De.forwardRef=function(e){return{$$typeof:SA,render:e}};De.isValidElement=hg;De.lazy=function(e){return{$$typeof:EA,_payload:{_status:-1,_result:e},_init:RA}};De.memo=function(e,t){return{$$typeof:CA,type:e,compare:t===void 0?null:t}};De.startTransition=function(e){var t=Xd.transition;Xd.transition={};try{e()}finally{Xd.transition=t}};De.unstable_act=BN;De.useCallback=function(e,t){return pr.current.useCallback(e,t)};De.useContext=function(e){return pr.current.useContext(e)};De.useDebugValue=function(){};De.useDeferredValue=function(e){return pr.current.useDeferredValue(e)};De.useEffect=function(e,t){return pr.current.useEffect(e,t)};De.useId=function(){return pr.current.useId()};De.useImperativeHandle=function(e,t,r){return pr.current.useImperativeHandle(e,t,r)};De.useInsertionEffect=function(e,t){return pr.current.useInsertionEffect(e,t)};De.useLayoutEffect=function(e,t){return pr.current.useLayoutEffect(e,t)};De.useMemo=function(e,t){return pr.current.useMemo(e,t)};De.useReducer=function(e,t,r){return pr.current.useReducer(e,t,r)};De.useRef=function(e){return pr.current.useRef(e)};De.useState=function(e){return pr.current.useState(e)};De.useSyncExternalStore=function(e,t,r){return pr.current.useSyncExternalStore(e,t,r)};De.useTransition=function(){return pr.current.useTransition()};De.version="18.3.1";ON.exports=De;var f=ON.exports;const He=AN(f),fg=yA({__proto__:null,default:He},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OA=f,LA=Symbol.for("react.element"),MA=Symbol.for("react.fragment"),DA=Object.prototype.hasOwnProperty,FA=OA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$A={key:!0,ref:!0,__self:!0,__source:!0};function zN(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)DA.call(t,n)&&!$A.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:LA,type:e,key:i,ref:o,props:a,_owner:FA.current}}ph.Fragment=MA;ph.jsx=zN;ph.jsxs=zN;IN.exports=ph;var s=IN.exports,WN={exports:{}},Wr={},qN={exports:{}},HN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,G){var R=M.length;M.push(G);e:for(;0<R;){var D=R-1>>>1,te=M[D];if(0<a(te,G))M[D]=G,M[R]=te,R=D;else break e}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var G=M[0],R=M.pop();if(R!==G){M[0]=R;e:for(var D=0,te=M.length,J=te>>>1;D<J;){var ae=2*(D+1)-1,K=M[ae],O=ae+1,H=M[O];if(0>a(K,R))O<te&&0>a(H,K)?(M[D]=H,M[O]=R,D=O):(M[D]=K,M[ae]=R,D=ae);else if(O<te&&0>a(H,R))M[D]=H,M[O]=R,D=O;else break e}}return G}function a(M,G){var R=M.sortIndex-G.sortIndex;return R!==0?R:M.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,m=3,x=!1,g=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(M){for(var G=r(d);G!==null;){if(G.callback===null)n(d);else if(G.startTime<=M)n(d),G.sortIndex=G.expirationTime,t(c,G);else break;G=r(d)}}function j(M){if(v=!1,y(M),!g)if(r(c)!==null)g=!0,U(N);else{var G=r(d);G!==null&&Y(j,G.startTime-M)}}function N(M,G){g=!1,v&&(v=!1,b(S),S=-1),x=!0;var R=m;try{for(y(G),h=r(c);h!==null&&(!(h.expirationTime>G)||M&&!A());){var D=h.callback;if(typeof D=="function"){h.callback=null,m=h.priorityLevel;var te=D(h.expirationTime<=G);G=e.unstable_now(),typeof te=="function"?h.callback=te:h===r(c)&&n(c),y(G)}else n(c);h=r(c)}if(h!==null)var J=!0;else{var ae=r(d);ae!==null&&Y(j,ae.startTime-G),J=!1}return J}finally{h=null,m=R,x=!1}}var k=!1,_=null,S=-1,P=5,C=-1;function A(){return!(e.unstable_now()-C<P)}function L(){if(_!==null){var M=e.unstable_now();C=M;var G=!0;try{G=_(!0,M)}finally{G?F():(k=!1,_=null)}}else k=!1}var F;if(typeof p=="function")F=function(){p(L)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,W=E.port2;E.port1.onmessage=L,F=function(){W.postMessage(null)}}else F=function(){w(L,0)};function U(M){_=M,k||(k=!0,F())}function Y(M,G){S=w(function(){M(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){g||x||(g=!0,U(N))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(M){switch(m){case 1:case 2:case 3:var G=3;break;default:G=m}var R=m;m=G;try{return M()}finally{m=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,G){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var R=m;m=M;try{return G()}finally{m=R}},e.unstable_scheduleCallback=function(M,G,R){var D=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?D+R:D):R=D,M){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=R+te,M={id:u++,callback:G,priorityLevel:M,startTime:R,expirationTime:te,sortIndex:-1},R>D?(M.sortIndex=R,t(d,M),r(c)===null&&M===r(d)&&(v?(b(S),S=-1):v=!0,Y(j,R-D))):(M.sortIndex=te,t(c,M),g||x||(g=!0,U(N))),M},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(M){var G=m;return function(){var R=m;m=G;try{return M.apply(this,arguments)}finally{m=R}}}})(HN);qN.exports=HN;var UA=qN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VA=f,zr=UA;function ie(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var GN=new Set,Ql={};function gi(e,t){Mo(e,t),Mo(e+"Capture",t)}function Mo(e,t){for(Ql[e]=t,e=0;e<t.length;e++)GN.add(t[e])}var un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Km=Object.prototype.hasOwnProperty,BA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lv={},cv={};function zA(e){return Km.call(cv,e)?!0:Km.call(lv,e)?!1:BA.test(e)?cv[e]=!0:(lv[e]=!0,!1)}function WA(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qA(e,t,r,n){if(t===null||typeof t>"u"||WA(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function xr(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var qt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){qt[e]=new xr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];qt[t]=new xr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){qt[e]=new xr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){qt[e]=new xr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){qt[e]=new xr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){qt[e]=new xr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){qt[e]=new xr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){qt[e]=new xr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){qt[e]=new xr(e,5,!1,e.toLowerCase(),null,!1,!1)});var mg=/[\-:]([a-z])/g;function pg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(mg,pg);qt[t]=new xr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(mg,pg);qt[t]=new xr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(mg,pg);qt[t]=new xr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){qt[e]=new xr(e,1,!1,e.toLowerCase(),null,!1,!1)});qt.xlinkHref=new xr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){qt[e]=new xr(e,1,!1,e.toLowerCase(),null,!0,!0)});function xg(e,t,r,n){var a=qt.hasOwnProperty(t)?qt[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(qA(t,r,a,n)&&(r=null),n||a===null?zA(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var bn=VA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dd=Symbol.for("react.element"),qi=Symbol.for("react.portal"),Hi=Symbol.for("react.fragment"),gg=Symbol.for("react.strict_mode"),Ym=Symbol.for("react.profiler"),KN=Symbol.for("react.provider"),YN=Symbol.for("react.context"),yg=Symbol.for("react.forward_ref"),Jm=Symbol.for("react.suspense"),Qm=Symbol.for("react.suspense_list"),vg=Symbol.for("react.memo"),An=Symbol.for("react.lazy"),JN=Symbol.for("react.offscreen"),dv=Symbol.iterator;function ml(e){return e===null||typeof e!="object"?null:(e=dv&&e[dv]||e["@@iterator"],typeof e=="function"?e:null)}var mt=Object.assign,_f;function Sl(e){if(_f===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);_f=t&&t[1]||""}return`
`+_f+e}var Sf=!1;function kf(e,t){if(!e||Sf)return"";Sf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Sf=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Sl(e):""}function HA(e){switch(e.tag){case 5:return Sl(e.type);case 16:return Sl("Lazy");case 13:return Sl("Suspense");case 19:return Sl("SuspenseList");case 0:case 2:case 15:return e=kf(e.type,!1),e;case 11:return e=kf(e.type.render,!1),e;case 1:return e=kf(e.type,!0),e;default:return""}}function Xm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Hi:return"Fragment";case qi:return"Portal";case Ym:return"Profiler";case gg:return"StrictMode";case Jm:return"Suspense";case Qm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case YN:return(e.displayName||"Context")+".Consumer";case KN:return(e._context.displayName||"Context")+".Provider";case yg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case vg:return t=e.displayName||null,t!==null?t:Xm(e.type)||"Memo";case An:t=e._payload,e=e._init;try{return Xm(e(t))}catch{}}return null}function GA(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xm(t);case 8:return t===gg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function oa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function QN(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function KA(e){var t=QN(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ud(e){e._valueTracker||(e._valueTracker=KA(e))}function XN(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=QN(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function wu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Zm(e,t){var r=t.checked;return mt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function uv(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=oa(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ZN(e,t){t=t.checked,t!=null&&xg(e,"checked",t,!1)}function ep(e,t){ZN(e,t);var r=oa(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?tp(e,t.type,r):t.hasOwnProperty("defaultValue")&&tp(e,t.type,oa(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function hv(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function tp(e,t,r){(t!=="number"||wu(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var kl=Array.isArray;function co(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+oa(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function rp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ie(91));return mt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function fv(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ie(92));if(kl(r)){if(1<r.length)throw Error(ie(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:oa(r)}}function e1(e,t){var r=oa(t.value),n=oa(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function mv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function t1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?t1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var hd,r1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(hd=hd||document.createElement("div"),hd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=hd.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Xl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Il={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},YA=["Webkit","ms","Moz","O"];Object.keys(Il).forEach(function(e){YA.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Il[t]=Il[e]})});function s1(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Il.hasOwnProperty(e)&&Il[e]?(""+t).trim():t+"px"}function n1(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=s1(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var JA=mt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function np(e,t){if(t){if(JA[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ie(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ie(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ie(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ie(62))}}function ap(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ip=null;function bg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var op=null,uo=null,ho=null;function pv(e){if(e=Bc(e)){if(typeof op!="function")throw Error(ie(280));var t=e.stateNode;t&&(t=bh(t),op(e.stateNode,e.type,t))}}function a1(e){uo?ho?ho.push(e):ho=[e]:uo=e}function i1(){if(uo){var e=uo,t=ho;if(ho=uo=null,pv(e),t)for(e=0;e<t.length;e++)pv(t[e])}}function o1(e,t){return e(t)}function l1(){}var Cf=!1;function c1(e,t,r){if(Cf)return e(t,r);Cf=!0;try{return o1(e,t,r)}finally{Cf=!1,(uo!==null||ho!==null)&&(l1(),i1())}}function Zl(e,t){var r=e.stateNode;if(r===null)return null;var n=bh(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ie(231,t,typeof r));return r}var lp=!1;if(un)try{var pl={};Object.defineProperty(pl,"passive",{get:function(){lp=!0}}),window.addEventListener("test",pl,pl),window.removeEventListener("test",pl,pl)}catch{lp=!1}function QA(e,t,r,n,a,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var Ol=!1,ju=null,Nu=!1,cp=null,XA={onError:function(e){Ol=!0,ju=e}};function ZA(e,t,r,n,a,i,o,l,c){Ol=!1,ju=null,QA.apply(XA,arguments)}function eR(e,t,r,n,a,i,o,l,c){if(ZA.apply(this,arguments),Ol){if(Ol){var d=ju;Ol=!1,ju=null}else throw Error(ie(198));Nu||(Nu=!0,cp=d)}}function yi(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function d1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function xv(e){if(yi(e)!==e)throw Error(ie(188))}function tR(e){var t=e.alternate;if(!t){if(t=yi(e),t===null)throw Error(ie(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return xv(a),e;if(i===n)return xv(a),t;i=i.sibling}throw Error(ie(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(ie(189))}}if(r.alternate!==n)throw Error(ie(190))}if(r.tag!==3)throw Error(ie(188));return r.stateNode.current===r?e:t}function u1(e){return e=tR(e),e!==null?h1(e):null}function h1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=h1(e);if(t!==null)return t;e=e.sibling}return null}var f1=zr.unstable_scheduleCallback,gv=zr.unstable_cancelCallback,rR=zr.unstable_shouldYield,sR=zr.unstable_requestPaint,Nt=zr.unstable_now,nR=zr.unstable_getCurrentPriorityLevel,wg=zr.unstable_ImmediatePriority,m1=zr.unstable_UserBlockingPriority,_u=zr.unstable_NormalPriority,aR=zr.unstable_LowPriority,p1=zr.unstable_IdlePriority,xh=null,Us=null;function iR(e){if(Us&&typeof Us.onCommitFiberRoot=="function")try{Us.onCommitFiberRoot(xh,e,void 0,(e.current.flags&128)===128)}catch{}}var js=Math.clz32?Math.clz32:cR,oR=Math.log,lR=Math.LN2;function cR(e){return e>>>=0,e===0?32:31-(oR(e)/lR|0)|0}var fd=64,md=4194304;function Cl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Su(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=Cl(l):(i&=o,i!==0&&(n=Cl(i)))}else o=r&~a,o!==0?n=Cl(o):i!==0&&(n=Cl(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-js(t),a=1<<r,n|=e[r],t&=~a;return n}function dR(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uR(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-js(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=dR(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function dp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function x1(){var e=fd;return fd<<=1,!(fd&4194240)&&(fd=64),e}function Ef(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Uc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-js(t),e[t]=r}function hR(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-js(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function jg(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-js(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Ke=0;function g1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var y1,Ng,v1,b1,w1,up=!1,pd=[],Kn=null,Yn=null,Jn=null,ec=new Map,tc=new Map,On=[],fR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yv(e,t){switch(e){case"focusin":case"focusout":Kn=null;break;case"dragenter":case"dragleave":Yn=null;break;case"mouseover":case"mouseout":Jn=null;break;case"pointerover":case"pointerout":ec.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":tc.delete(t.pointerId)}}function xl(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Bc(t),t!==null&&Ng(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function mR(e,t,r,n,a){switch(t){case"focusin":return Kn=xl(Kn,e,t,r,n,a),!0;case"dragenter":return Yn=xl(Yn,e,t,r,n,a),!0;case"mouseover":return Jn=xl(Jn,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return ec.set(i,xl(ec.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,tc.set(i,xl(tc.get(i)||null,e,t,r,n,a)),!0}return!1}function j1(e){var t=Fa(e.target);if(t!==null){var r=yi(t);if(r!==null){if(t=r.tag,t===13){if(t=d1(r),t!==null){e.blockedOn=t,w1(e.priority,function(){v1(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Zd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=hp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);ip=n,r.target.dispatchEvent(n),ip=null}else return t=Bc(r),t!==null&&Ng(t),e.blockedOn=r,!1;t.shift()}return!0}function vv(e,t,r){Zd(e)&&r.delete(t)}function pR(){up=!1,Kn!==null&&Zd(Kn)&&(Kn=null),Yn!==null&&Zd(Yn)&&(Yn=null),Jn!==null&&Zd(Jn)&&(Jn=null),ec.forEach(vv),tc.forEach(vv)}function gl(e,t){e.blockedOn===t&&(e.blockedOn=null,up||(up=!0,zr.unstable_scheduleCallback(zr.unstable_NormalPriority,pR)))}function rc(e){function t(a){return gl(a,e)}if(0<pd.length){gl(pd[0],e);for(var r=1;r<pd.length;r++){var n=pd[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Kn!==null&&gl(Kn,e),Yn!==null&&gl(Yn,e),Jn!==null&&gl(Jn,e),ec.forEach(t),tc.forEach(t),r=0;r<On.length;r++)n=On[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<On.length&&(r=On[0],r.blockedOn===null);)j1(r),r.blockedOn===null&&On.shift()}var fo=bn.ReactCurrentBatchConfig,ku=!0;function xR(e,t,r,n){var a=Ke,i=fo.transition;fo.transition=null;try{Ke=1,_g(e,t,r,n)}finally{Ke=a,fo.transition=i}}function gR(e,t,r,n){var a=Ke,i=fo.transition;fo.transition=null;try{Ke=4,_g(e,t,r,n)}finally{Ke=a,fo.transition=i}}function _g(e,t,r,n){if(ku){var a=hp(e,t,r,n);if(a===null)Ff(e,t,n,Cu,r),yv(e,n);else if(mR(a,e,t,r,n))n.stopPropagation();else if(yv(e,n),t&4&&-1<fR.indexOf(e)){for(;a!==null;){var i=Bc(a);if(i!==null&&y1(i),i=hp(e,t,r,n),i===null&&Ff(e,t,n,Cu,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else Ff(e,t,n,null,r)}}var Cu=null;function hp(e,t,r,n){if(Cu=null,e=bg(n),e=Fa(e),e!==null)if(t=yi(e),t===null)e=null;else if(r=t.tag,r===13){if(e=d1(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Cu=e,null}function N1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nR()){case wg:return 1;case m1:return 4;case _u:case aR:return 16;case p1:return 536870912;default:return 16}default:return 16}}var qn=null,Sg=null,eu=null;function _1(){if(eu)return eu;var e,t=Sg,r=t.length,n,a="value"in qn?qn.value:qn.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return eu=a.slice(e,1<n?1-n:void 0)}function tu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function xd(){return!0}function bv(){return!1}function qr(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?xd:bv,this.isPropagationStopped=bv,this}return mt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=xd)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=xd)},persist:function(){},isPersistent:xd}),t}var Zo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kg=qr(Zo),Vc=mt({},Zo,{view:0,detail:0}),yR=qr(Vc),Pf,Tf,yl,gh=mt({},Vc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yl&&(yl&&e.type==="mousemove"?(Pf=e.screenX-yl.screenX,Tf=e.screenY-yl.screenY):Tf=Pf=0,yl=e),Pf)},movementY:function(e){return"movementY"in e?e.movementY:Tf}}),wv=qr(gh),vR=mt({},gh,{dataTransfer:0}),bR=qr(vR),wR=mt({},Vc,{relatedTarget:0}),Af=qr(wR),jR=mt({},Zo,{animationName:0,elapsedTime:0,pseudoElement:0}),NR=qr(jR),_R=mt({},Zo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),SR=qr(_R),kR=mt({},Zo,{data:0}),jv=qr(kR),CR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ER={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TR(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=PR[e])?!!t[e]:!1}function Cg(){return TR}var AR=mt({},Vc,{key:function(e){if(e.key){var t=CR[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=tu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ER[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cg,charCode:function(e){return e.type==="keypress"?tu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?tu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),RR=qr(AR),IR=mt({},gh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nv=qr(IR),OR=mt({},Vc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cg}),LR=qr(OR),MR=mt({},Zo,{propertyName:0,elapsedTime:0,pseudoElement:0}),DR=qr(MR),FR=mt({},gh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$R=qr(FR),UR=[9,13,27,32],Eg=un&&"CompositionEvent"in window,Ll=null;un&&"documentMode"in document&&(Ll=document.documentMode);var VR=un&&"TextEvent"in window&&!Ll,S1=un&&(!Eg||Ll&&8<Ll&&11>=Ll),_v=" ",Sv=!1;function k1(e,t){switch(e){case"keyup":return UR.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function C1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gi=!1;function BR(e,t){switch(e){case"compositionend":return C1(t);case"keypress":return t.which!==32?null:(Sv=!0,_v);case"textInput":return e=t.data,e===_v&&Sv?null:e;default:return null}}function zR(e,t){if(Gi)return e==="compositionend"||!Eg&&k1(e,t)?(e=_1(),eu=Sg=qn=null,Gi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return S1&&t.locale!=="ko"?null:t.data;default:return null}}var WR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!WR[e.type]:t==="textarea"}function E1(e,t,r,n){a1(n),t=Eu(t,"onChange"),0<t.length&&(r=new kg("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ml=null,sc=null;function qR(e){$1(e,0)}function yh(e){var t=Ji(e);if(XN(t))return e}function HR(e,t){if(e==="change")return t}var P1=!1;if(un){var Rf;if(un){var If="oninput"in document;if(!If){var Cv=document.createElement("div");Cv.setAttribute("oninput","return;"),If=typeof Cv.oninput=="function"}Rf=If}else Rf=!1;P1=Rf&&(!document.documentMode||9<document.documentMode)}function Ev(){Ml&&(Ml.detachEvent("onpropertychange",T1),sc=Ml=null)}function T1(e){if(e.propertyName==="value"&&yh(sc)){var t=[];E1(t,sc,e,bg(e)),c1(qR,t)}}function GR(e,t,r){e==="focusin"?(Ev(),Ml=t,sc=r,Ml.attachEvent("onpropertychange",T1)):e==="focusout"&&Ev()}function KR(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yh(sc)}function YR(e,t){if(e==="click")return yh(t)}function JR(e,t){if(e==="input"||e==="change")return yh(t)}function QR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ss=typeof Object.is=="function"?Object.is:QR;function nc(e,t){if(Ss(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Km.call(t,a)||!Ss(e[a],t[a]))return!1}return!0}function Pv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Tv(e,t){var r=Pv(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Pv(r)}}function A1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?A1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function R1(){for(var e=window,t=wu();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=wu(e.document)}return t}function Pg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function XR(e){var t=R1(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&A1(r.ownerDocument.documentElement,r)){if(n!==null&&Pg(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=Tv(r,i);var o=Tv(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ZR=un&&"documentMode"in document&&11>=document.documentMode,Ki=null,fp=null,Dl=null,mp=!1;function Av(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;mp||Ki==null||Ki!==wu(n)||(n=Ki,"selectionStart"in n&&Pg(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Dl&&nc(Dl,n)||(Dl=n,n=Eu(fp,"onSelect"),0<n.length&&(t=new kg("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ki)))}function gd(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Yi={animationend:gd("Animation","AnimationEnd"),animationiteration:gd("Animation","AnimationIteration"),animationstart:gd("Animation","AnimationStart"),transitionend:gd("Transition","TransitionEnd")},Of={},I1={};un&&(I1=document.createElement("div").style,"AnimationEvent"in window||(delete Yi.animationend.animation,delete Yi.animationiteration.animation,delete Yi.animationstart.animation),"TransitionEvent"in window||delete Yi.transitionend.transition);function vh(e){if(Of[e])return Of[e];if(!Yi[e])return e;var t=Yi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in I1)return Of[e]=t[r];return e}var O1=vh("animationend"),L1=vh("animationiteration"),M1=vh("animationstart"),D1=vh("transitionend"),F1=new Map,Rv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xa(e,t){F1.set(e,t),gi(t,[e])}for(var Lf=0;Lf<Rv.length;Lf++){var Mf=Rv[Lf],e3=Mf.toLowerCase(),t3=Mf[0].toUpperCase()+Mf.slice(1);xa(e3,"on"+t3)}xa(O1,"onAnimationEnd");xa(L1,"onAnimationIteration");xa(M1,"onAnimationStart");xa("dblclick","onDoubleClick");xa("focusin","onFocus");xa("focusout","onBlur");xa(D1,"onTransitionEnd");Mo("onMouseEnter",["mouseout","mouseover"]);Mo("onMouseLeave",["mouseout","mouseover"]);Mo("onPointerEnter",["pointerout","pointerover"]);Mo("onPointerLeave",["pointerout","pointerover"]);gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gi("onBeforeInput",["compositionend","keypress","textInput","paste"]);gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),r3=new Set("cancel close invalid load scroll toggle".split(" ").concat(El));function Iv(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,eR(n,t,void 0,e),e.currentTarget=null}function $1(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;Iv(a,l,d),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;Iv(a,l,d),i=c}}}if(Nu)throw e=cp,Nu=!1,cp=null,e}function st(e,t){var r=t[vp];r===void 0&&(r=t[vp]=new Set);var n=e+"__bubble";r.has(n)||(U1(t,e,2,!1),r.add(n))}function Df(e,t,r){var n=0;t&&(n|=4),U1(r,e,n,t)}var yd="_reactListening"+Math.random().toString(36).slice(2);function ac(e){if(!e[yd]){e[yd]=!0,GN.forEach(function(r){r!=="selectionchange"&&(r3.has(r)||Df(r,!1,e),Df(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[yd]||(t[yd]=!0,Df("selectionchange",!1,t))}}function U1(e,t,r,n){switch(N1(t)){case 1:var a=xR;break;case 4:a=gR;break;default:a=_g}r=a.bind(null,t,r,e),a=void 0,!lp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Ff(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Fa(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}c1(function(){var d=i,u=bg(r),h=[];e:{var m=F1.get(e);if(m!==void 0){var x=kg,g=e;switch(e){case"keypress":if(tu(r)===0)break e;case"keydown":case"keyup":x=RR;break;case"focusin":g="focus",x=Af;break;case"focusout":g="blur",x=Af;break;case"beforeblur":case"afterblur":x=Af;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=wv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=bR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=LR;break;case O1:case L1:case M1:x=NR;break;case D1:x=DR;break;case"scroll":x=yR;break;case"wheel":x=$R;break;case"copy":case"cut":case"paste":x=SR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=Nv}var v=(t&4)!==0,w=!v&&e==="scroll",b=v?m!==null?m+"Capture":null:m;v=[];for(var p=d,y;p!==null;){y=p;var j=y.stateNode;if(y.tag===5&&j!==null&&(y=j,b!==null&&(j=Zl(p,b),j!=null&&v.push(ic(p,j,y)))),w)break;p=p.return}0<v.length&&(m=new x(m,g,null,r,u),h.push({event:m,listeners:v}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",m&&r!==ip&&(g=r.relatedTarget||r.fromElement)&&(Fa(g)||g[hn]))break e;if((x||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,x?(g=r.relatedTarget||r.toElement,x=d,g=g?Fa(g):null,g!==null&&(w=yi(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(x=null,g=d),x!==g)){if(v=wv,j="onMouseLeave",b="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(v=Nv,j="onPointerLeave",b="onPointerEnter",p="pointer"),w=x==null?m:Ji(x),y=g==null?m:Ji(g),m=new v(j,p+"leave",x,r,u),m.target=w,m.relatedTarget=y,j=null,Fa(u)===d&&(v=new v(b,p+"enter",g,r,u),v.target=y,v.relatedTarget=w,j=v),w=j,x&&g)t:{for(v=x,b=g,p=0,y=v;y;y=Ti(y))p++;for(y=0,j=b;j;j=Ti(j))y++;for(;0<p-y;)v=Ti(v),p--;for(;0<y-p;)b=Ti(b),y--;for(;p--;){if(v===b||b!==null&&v===b.alternate)break t;v=Ti(v),b=Ti(b)}v=null}else v=null;x!==null&&Ov(h,m,x,v,!1),g!==null&&w!==null&&Ov(h,w,g,v,!0)}}e:{if(m=d?Ji(d):window,x=m.nodeName&&m.nodeName.toLowerCase(),x==="select"||x==="input"&&m.type==="file")var N=HR;else if(kv(m))if(P1)N=JR;else{N=KR;var k=GR}else(x=m.nodeName)&&x.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(N=YR);if(N&&(N=N(e,d))){E1(h,N,r,u);break e}k&&k(e,m,d),e==="focusout"&&(k=m._wrapperState)&&k.controlled&&m.type==="number"&&tp(m,"number",m.value)}switch(k=d?Ji(d):window,e){case"focusin":(kv(k)||k.contentEditable==="true")&&(Ki=k,fp=d,Dl=null);break;case"focusout":Dl=fp=Ki=null;break;case"mousedown":mp=!0;break;case"contextmenu":case"mouseup":case"dragend":mp=!1,Av(h,r,u);break;case"selectionchange":if(ZR)break;case"keydown":case"keyup":Av(h,r,u)}var _;if(Eg)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Gi?k1(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(S1&&r.locale!=="ko"&&(Gi||S!=="onCompositionStart"?S==="onCompositionEnd"&&Gi&&(_=_1()):(qn=u,Sg="value"in qn?qn.value:qn.textContent,Gi=!0)),k=Eu(d,S),0<k.length&&(S=new jv(S,e,null,r,u),h.push({event:S,listeners:k}),_?S.data=_:(_=C1(r),_!==null&&(S.data=_)))),(_=VR?BR(e,r):zR(e,r))&&(d=Eu(d,"onBeforeInput"),0<d.length&&(u=new jv("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:d}),u.data=_))}$1(h,t)})}function ic(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Eu(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Zl(e,r),i!=null&&n.unshift(ic(e,i,a)),i=Zl(e,t),i!=null&&n.push(ic(e,i,a))),e=e.return}return n}function Ti(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ov(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,a?(c=Zl(r,i),c!=null&&o.unshift(ic(r,c,l))):a||(c=Zl(r,i),c!=null&&o.push(ic(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var s3=/\r\n?/g,n3=/\u0000|\uFFFD/g;function Lv(e){return(typeof e=="string"?e:""+e).replace(s3,`
`).replace(n3,"")}function vd(e,t,r){if(t=Lv(t),Lv(e)!==t&&r)throw Error(ie(425))}function Pu(){}var pp=null,xp=null;function gp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var yp=typeof setTimeout=="function"?setTimeout:void 0,a3=typeof clearTimeout=="function"?clearTimeout:void 0,Mv=typeof Promise=="function"?Promise:void 0,i3=typeof queueMicrotask=="function"?queueMicrotask:typeof Mv<"u"?function(e){return Mv.resolve(null).then(e).catch(o3)}:yp;function o3(e){setTimeout(function(){throw e})}function $f(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),rc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);rc(t)}function Qn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Dv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var el=Math.random().toString(36).slice(2),Ds="__reactFiber$"+el,oc="__reactProps$"+el,hn="__reactContainer$"+el,vp="__reactEvents$"+el,l3="__reactListeners$"+el,c3="__reactHandles$"+el;function Fa(e){var t=e[Ds];if(t)return t;for(var r=e.parentNode;r;){if(t=r[hn]||r[Ds]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Dv(e);e!==null;){if(r=e[Ds])return r;e=Dv(e)}return t}e=r,r=e.parentNode}return null}function Bc(e){return e=e[Ds]||e[hn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ji(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ie(33))}function bh(e){return e[oc]||null}var bp=[],Qi=-1;function ga(e){return{current:e}}function nt(e){0>Qi||(e.current=bp[Qi],bp[Qi]=null,Qi--)}function tt(e,t){Qi++,bp[Qi]=e.current,e.current=t}var la={},Zt=ga(la),Cr=ga(!1),ii=la;function Do(e,t){var r=e.type.contextTypes;if(!r)return la;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Er(e){return e=e.childContextTypes,e!=null}function Tu(){nt(Cr),nt(Zt)}function Fv(e,t,r){if(Zt.current!==la)throw Error(ie(168));tt(Zt,t),tt(Cr,r)}function V1(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(ie(108,GA(e)||"Unknown",a));return mt({},r,n)}function Au(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||la,ii=Zt.current,tt(Zt,e),tt(Cr,Cr.current),!0}function $v(e,t,r){var n=e.stateNode;if(!n)throw Error(ie(169));r?(e=V1(e,t,ii),n.__reactInternalMemoizedMergedChildContext=e,nt(Cr),nt(Zt),tt(Zt,e)):nt(Cr),tt(Cr,r)}var tn=null,wh=!1,Uf=!1;function B1(e){tn===null?tn=[e]:tn.push(e)}function d3(e){wh=!0,B1(e)}function ya(){if(!Uf&&tn!==null){Uf=!0;var e=0,t=Ke;try{var r=tn;for(Ke=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}tn=null,wh=!1}catch(a){throw tn!==null&&(tn=tn.slice(e+1)),f1(wg,ya),a}finally{Ke=t,Uf=!1}}return null}var Xi=[],Zi=0,Ru=null,Iu=0,Jr=[],Qr=0,oi=null,on=1,ln="";function Ra(e,t){Xi[Zi++]=Iu,Xi[Zi++]=Ru,Ru=e,Iu=t}function z1(e,t,r){Jr[Qr++]=on,Jr[Qr++]=ln,Jr[Qr++]=oi,oi=e;var n=on;e=ln;var a=32-js(n)-1;n&=~(1<<a),r+=1;var i=32-js(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,on=1<<32-js(t)+a|r<<a|n,ln=i+e}else on=1<<i|r<<a|n,ln=e}function Tg(e){e.return!==null&&(Ra(e,1),z1(e,1,0))}function Ag(e){for(;e===Ru;)Ru=Xi[--Zi],Xi[Zi]=null,Iu=Xi[--Zi],Xi[Zi]=null;for(;e===oi;)oi=Jr[--Qr],Jr[Qr]=null,ln=Jr[--Qr],Jr[Qr]=null,on=Jr[--Qr],Jr[Qr]=null}var Vr=null,Ur=null,lt=!1,ys=null;function W1(e,t){var r=Zr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Uv(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Vr=e,Ur=Qn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Vr=e,Ur=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=oi!==null?{id:on,overflow:ln}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Zr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Vr=e,Ur=null,!0):!1;default:return!1}}function wp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function jp(e){if(lt){var t=Ur;if(t){var r=t;if(!Uv(e,t)){if(wp(e))throw Error(ie(418));t=Qn(r.nextSibling);var n=Vr;t&&Uv(e,t)?W1(n,r):(e.flags=e.flags&-4097|2,lt=!1,Vr=e)}}else{if(wp(e))throw Error(ie(418));e.flags=e.flags&-4097|2,lt=!1,Vr=e}}}function Vv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Vr=e}function bd(e){if(e!==Vr)return!1;if(!lt)return Vv(e),lt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!gp(e.type,e.memoizedProps)),t&&(t=Ur)){if(wp(e))throw q1(),Error(ie(418));for(;t;)W1(e,t),t=Qn(t.nextSibling)}if(Vv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ie(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ur=Qn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ur=null}}else Ur=Vr?Qn(e.stateNode.nextSibling):null;return!0}function q1(){for(var e=Ur;e;)e=Qn(e.nextSibling)}function Fo(){Ur=Vr=null,lt=!1}function Rg(e){ys===null?ys=[e]:ys.push(e)}var u3=bn.ReactCurrentBatchConfig;function vl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ie(309));var n=r.stateNode}if(!n)throw Error(ie(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(ie(284));if(!r._owner)throw Error(ie(290,e))}return e}function wd(e,t){throw e=Object.prototype.toString.call(t),Error(ie(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Bv(e){var t=e._init;return t(e._payload)}function H1(e){function t(b,p){if(e){var y=b.deletions;y===null?(b.deletions=[p],b.flags|=16):y.push(p)}}function r(b,p){if(!e)return null;for(;p!==null;)t(b,p),p=p.sibling;return null}function n(b,p){for(b=new Map;p!==null;)p.key!==null?b.set(p.key,p):b.set(p.index,p),p=p.sibling;return b}function a(b,p){return b=ta(b,p),b.index=0,b.sibling=null,b}function i(b,p,y){return b.index=y,e?(y=b.alternate,y!==null?(y=y.index,y<p?(b.flags|=2,p):y):(b.flags|=2,p)):(b.flags|=1048576,p)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,p,y,j){return p===null||p.tag!==6?(p=Gf(y,b.mode,j),p.return=b,p):(p=a(p,y),p.return=b,p)}function c(b,p,y,j){var N=y.type;return N===Hi?u(b,p,y.props.children,j,y.key):p!==null&&(p.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===An&&Bv(N)===p.type)?(j=a(p,y.props),j.ref=vl(b,p,y),j.return=b,j):(j=lu(y.type,y.key,y.props,null,b.mode,j),j.ref=vl(b,p,y),j.return=b,j)}function d(b,p,y,j){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=Kf(y,b.mode,j),p.return=b,p):(p=a(p,y.children||[]),p.return=b,p)}function u(b,p,y,j,N){return p===null||p.tag!==7?(p=ri(y,b.mode,j,N),p.return=b,p):(p=a(p,y),p.return=b,p)}function h(b,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Gf(""+p,b.mode,y),p.return=b,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case dd:return y=lu(p.type,p.key,p.props,null,b.mode,y),y.ref=vl(b,null,p),y.return=b,y;case qi:return p=Kf(p,b.mode,y),p.return=b,p;case An:var j=p._init;return h(b,j(p._payload),y)}if(kl(p)||ml(p))return p=ri(p,b.mode,y,null),p.return=b,p;wd(b,p)}return null}function m(b,p,y,j){var N=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return N!==null?null:l(b,p,""+y,j);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case dd:return y.key===N?c(b,p,y,j):null;case qi:return y.key===N?d(b,p,y,j):null;case An:return N=y._init,m(b,p,N(y._payload),j)}if(kl(y)||ml(y))return N!==null?null:u(b,p,y,j,null);wd(b,y)}return null}function x(b,p,y,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return b=b.get(y)||null,l(p,b,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case dd:return b=b.get(j.key===null?y:j.key)||null,c(p,b,j,N);case qi:return b=b.get(j.key===null?y:j.key)||null,d(p,b,j,N);case An:var k=j._init;return x(b,p,y,k(j._payload),N)}if(kl(j)||ml(j))return b=b.get(y)||null,u(p,b,j,N,null);wd(p,j)}return null}function g(b,p,y,j){for(var N=null,k=null,_=p,S=p=0,P=null;_!==null&&S<y.length;S++){_.index>S?(P=_,_=null):P=_.sibling;var C=m(b,_,y[S],j);if(C===null){_===null&&(_=P);break}e&&_&&C.alternate===null&&t(b,_),p=i(C,p,S),k===null?N=C:k.sibling=C,k=C,_=P}if(S===y.length)return r(b,_),lt&&Ra(b,S),N;if(_===null){for(;S<y.length;S++)_=h(b,y[S],j),_!==null&&(p=i(_,p,S),k===null?N=_:k.sibling=_,k=_);return lt&&Ra(b,S),N}for(_=n(b,_);S<y.length;S++)P=x(_,b,S,y[S],j),P!==null&&(e&&P.alternate!==null&&_.delete(P.key===null?S:P.key),p=i(P,p,S),k===null?N=P:k.sibling=P,k=P);return e&&_.forEach(function(A){return t(b,A)}),lt&&Ra(b,S),N}function v(b,p,y,j){var N=ml(y);if(typeof N!="function")throw Error(ie(150));if(y=N.call(y),y==null)throw Error(ie(151));for(var k=N=null,_=p,S=p=0,P=null,C=y.next();_!==null&&!C.done;S++,C=y.next()){_.index>S?(P=_,_=null):P=_.sibling;var A=m(b,_,C.value,j);if(A===null){_===null&&(_=P);break}e&&_&&A.alternate===null&&t(b,_),p=i(A,p,S),k===null?N=A:k.sibling=A,k=A,_=P}if(C.done)return r(b,_),lt&&Ra(b,S),N;if(_===null){for(;!C.done;S++,C=y.next())C=h(b,C.value,j),C!==null&&(p=i(C,p,S),k===null?N=C:k.sibling=C,k=C);return lt&&Ra(b,S),N}for(_=n(b,_);!C.done;S++,C=y.next())C=x(_,b,S,C.value,j),C!==null&&(e&&C.alternate!==null&&_.delete(C.key===null?S:C.key),p=i(C,p,S),k===null?N=C:k.sibling=C,k=C);return e&&_.forEach(function(L){return t(b,L)}),lt&&Ra(b,S),N}function w(b,p,y,j){if(typeof y=="object"&&y!==null&&y.type===Hi&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case dd:e:{for(var N=y.key,k=p;k!==null;){if(k.key===N){if(N=y.type,N===Hi){if(k.tag===7){r(b,k.sibling),p=a(k,y.props.children),p.return=b,b=p;break e}}else if(k.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===An&&Bv(N)===k.type){r(b,k.sibling),p=a(k,y.props),p.ref=vl(b,k,y),p.return=b,b=p;break e}r(b,k);break}else t(b,k);k=k.sibling}y.type===Hi?(p=ri(y.props.children,b.mode,j,y.key),p.return=b,b=p):(j=lu(y.type,y.key,y.props,null,b.mode,j),j.ref=vl(b,p,y),j.return=b,b=j)}return o(b);case qi:e:{for(k=y.key;p!==null;){if(p.key===k)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){r(b,p.sibling),p=a(p,y.children||[]),p.return=b,b=p;break e}else{r(b,p);break}else t(b,p);p=p.sibling}p=Kf(y,b.mode,j),p.return=b,b=p}return o(b);case An:return k=y._init,w(b,p,k(y._payload),j)}if(kl(y))return g(b,p,y,j);if(ml(y))return v(b,p,y,j);wd(b,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(r(b,p.sibling),p=a(p,y),p.return=b,b=p):(r(b,p),p=Gf(y,b.mode,j),p.return=b,b=p),o(b)):r(b,p)}return w}var $o=H1(!0),G1=H1(!1),Ou=ga(null),Lu=null,eo=null,Ig=null;function Og(){Ig=eo=Lu=null}function Lg(e){var t=Ou.current;nt(Ou),e._currentValue=t}function Np(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function mo(e,t){Lu=e,Ig=eo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Nr=!0),e.firstContext=null)}function ss(e){var t=e._currentValue;if(Ig!==e)if(e={context:e,memoizedValue:t,next:null},eo===null){if(Lu===null)throw Error(ie(308));eo=e,Lu.dependencies={lanes:0,firstContext:e}}else eo=eo.next=e;return t}var $a=null;function Mg(e){$a===null?$a=[e]:$a.push(e)}function K1(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Mg(t)):(r.next=a.next,a.next=r),t.interleaved=r,fn(e,n)}function fn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Rn=!1;function Dg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Y1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function cn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Xn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Be&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,fn(e,r)}return a=n.interleaved,a===null?(t.next=t,Mg(n)):(t.next=a.next,a.next=t),n.interleaved=t,fn(e,r)}function ru(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,jg(e,r)}}function zv(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Mu(e,t,r,n){var a=e.updateQueue;Rn=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var h=a.baseState;o=0,u=d=c=null,l=i;do{var m=l.lane,x=l.eventTime;if((n&m)===m){u!==null&&(u=u.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,v=l;switch(m=t,x=r,v.tag){case 1:if(g=v.payload,typeof g=="function"){h=g.call(x,h,m);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,m=typeof g=="function"?g.call(x,h,m):g,m==null)break e;h=mt({},h,m);break e;case 2:Rn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=a.effects,m===null?a.effects=[l]:m.push(l))}else x={eventTime:x,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=x,c=h):u=u.next=x,o|=m;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(u===null&&(c=h),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);ci|=o,e.lanes=o,e.memoizedState=h}}function Wv(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ie(191,a));a.call(n)}}}var zc={},Vs=ga(zc),lc=ga(zc),cc=ga(zc);function Ua(e){if(e===zc)throw Error(ie(174));return e}function Fg(e,t){switch(tt(cc,t),tt(lc,e),tt(Vs,zc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:sp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=sp(t,e)}nt(Vs),tt(Vs,t)}function Uo(){nt(Vs),nt(lc),nt(cc)}function J1(e){Ua(cc.current);var t=Ua(Vs.current),r=sp(t,e.type);t!==r&&(tt(lc,e),tt(Vs,r))}function $g(e){lc.current===e&&(nt(Vs),nt(lc))}var ut=ga(0);function Du(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vf=[];function Ug(){for(var e=0;e<Vf.length;e++)Vf[e]._workInProgressVersionPrimary=null;Vf.length=0}var su=bn.ReactCurrentDispatcher,Bf=bn.ReactCurrentBatchConfig,li=0,ft=null,Lt=null,Ft=null,Fu=!1,Fl=!1,dc=0,h3=0;function Ht(){throw Error(ie(321))}function Vg(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ss(e[r],t[r]))return!1;return!0}function Bg(e,t,r,n,a,i){if(li=i,ft=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,su.current=e===null||e.memoizedState===null?x3:g3,e=r(n,a),Fl){i=0;do{if(Fl=!1,dc=0,25<=i)throw Error(ie(301));i+=1,Ft=Lt=null,t.updateQueue=null,su.current=y3,e=r(n,a)}while(Fl)}if(su.current=$u,t=Lt!==null&&Lt.next!==null,li=0,Ft=Lt=ft=null,Fu=!1,t)throw Error(ie(300));return e}function zg(){var e=dc!==0;return dc=0,e}function Rs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?ft.memoizedState=Ft=e:Ft=Ft.next=e,Ft}function ns(){if(Lt===null){var e=ft.alternate;e=e!==null?e.memoizedState:null}else e=Lt.next;var t=Ft===null?ft.memoizedState:Ft.next;if(t!==null)Ft=t,Lt=e;else{if(e===null)throw Error(ie(310));Lt=e,e={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Ft===null?ft.memoizedState=Ft=e:Ft=Ft.next=e}return Ft}function uc(e,t){return typeof t=="function"?t(e):t}function zf(e){var t=ns(),r=t.queue;if(r===null)throw Error(ie(311));r.lastRenderedReducer=e;var n=Lt,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((li&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,ft.lanes|=u,ci|=u}d=d.next}while(d!==null&&d!==i);c===null?o=n:c.next=l,Ss(n,t.memoizedState)||(Nr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,ft.lanes|=i,ci|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Wf(e){var t=ns(),r=t.queue;if(r===null)throw Error(ie(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Ss(i,t.memoizedState)||(Nr=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Q1(){}function X1(e,t){var r=ft,n=ns(),a=t(),i=!Ss(n.memoizedState,a);if(i&&(n.memoizedState=a,Nr=!0),n=n.queue,Wg(t_.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Ft!==null&&Ft.memoizedState.tag&1){if(r.flags|=2048,hc(9,e_.bind(null,r,n,a,t),void 0,null),$t===null)throw Error(ie(349));li&30||Z1(r,t,a)}return a}function Z1(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ft.updateQueue,t===null?(t={lastEffect:null,stores:null},ft.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function e_(e,t,r,n){t.value=r,t.getSnapshot=n,r_(t)&&s_(e)}function t_(e,t,r){return r(function(){r_(t)&&s_(e)})}function r_(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ss(e,r)}catch{return!0}}function s_(e){var t=fn(e,1);t!==null&&Ns(t,e,1,-1)}function qv(e){var t=Rs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uc,lastRenderedState:e},t.queue=e,e=e.dispatch=p3.bind(null,ft,e),[t.memoizedState,e]}function hc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ft.updateQueue,t===null?(t={lastEffect:null,stores:null},ft.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function n_(){return ns().memoizedState}function nu(e,t,r,n){var a=Rs();ft.flags|=e,a.memoizedState=hc(1|t,r,void 0,n===void 0?null:n)}function jh(e,t,r,n){var a=ns();n=n===void 0?null:n;var i=void 0;if(Lt!==null){var o=Lt.memoizedState;if(i=o.destroy,n!==null&&Vg(n,o.deps)){a.memoizedState=hc(t,r,i,n);return}}ft.flags|=e,a.memoizedState=hc(1|t,r,i,n)}function Hv(e,t){return nu(8390656,8,e,t)}function Wg(e,t){return jh(2048,8,e,t)}function a_(e,t){return jh(4,2,e,t)}function i_(e,t){return jh(4,4,e,t)}function o_(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function l_(e,t,r){return r=r!=null?r.concat([e]):null,jh(4,4,o_.bind(null,t,e),r)}function qg(){}function c_(e,t){var r=ns();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Vg(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function d_(e,t){var r=ns();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Vg(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function u_(e,t,r){return li&21?(Ss(r,t)||(r=x1(),ft.lanes|=r,ci|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Nr=!0),e.memoizedState=r)}function f3(e,t){var r=Ke;Ke=r!==0&&4>r?r:4,e(!0);var n=Bf.transition;Bf.transition={};try{e(!1),t()}finally{Ke=r,Bf.transition=n}}function h_(){return ns().memoizedState}function m3(e,t,r){var n=ea(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},f_(e))m_(t,r);else if(r=K1(e,t,r,n),r!==null){var a=hr();Ns(r,e,n,a),p_(r,t,n)}}function p3(e,t,r){var n=ea(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(f_(e))m_(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,Ss(l,o)){var c=t.interleaved;c===null?(a.next=a,Mg(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=K1(e,t,a,n),r!==null&&(a=hr(),Ns(r,e,n,a),p_(r,t,n))}}function f_(e){var t=e.alternate;return e===ft||t!==null&&t===ft}function m_(e,t){Fl=Fu=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function p_(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,jg(e,r)}}var $u={readContext:ss,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useInsertionEffect:Ht,useLayoutEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useMutableSource:Ht,useSyncExternalStore:Ht,useId:Ht,unstable_isNewReconciler:!1},x3={readContext:ss,useCallback:function(e,t){return Rs().memoizedState=[e,t===void 0?null:t],e},useContext:ss,useEffect:Hv,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,nu(4194308,4,o_.bind(null,t,e),r)},useLayoutEffect:function(e,t){return nu(4194308,4,e,t)},useInsertionEffect:function(e,t){return nu(4,2,e,t)},useMemo:function(e,t){var r=Rs();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Rs();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=m3.bind(null,ft,e),[n.memoizedState,e]},useRef:function(e){var t=Rs();return e={current:e},t.memoizedState=e},useState:qv,useDebugValue:qg,useDeferredValue:function(e){return Rs().memoizedState=e},useTransition:function(){var e=qv(!1),t=e[0];return e=f3.bind(null,e[1]),Rs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ft,a=Rs();if(lt){if(r===void 0)throw Error(ie(407));r=r()}else{if(r=t(),$t===null)throw Error(ie(349));li&30||Z1(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,Hv(t_.bind(null,n,i,e),[e]),n.flags|=2048,hc(9,e_.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Rs(),t=$t.identifierPrefix;if(lt){var r=ln,n=on;r=(n&~(1<<32-js(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=dc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=h3++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},g3={readContext:ss,useCallback:c_,useContext:ss,useEffect:Wg,useImperativeHandle:l_,useInsertionEffect:a_,useLayoutEffect:i_,useMemo:d_,useReducer:zf,useRef:n_,useState:function(){return zf(uc)},useDebugValue:qg,useDeferredValue:function(e){var t=ns();return u_(t,Lt.memoizedState,e)},useTransition:function(){var e=zf(uc)[0],t=ns().memoizedState;return[e,t]},useMutableSource:Q1,useSyncExternalStore:X1,useId:h_,unstable_isNewReconciler:!1},y3={readContext:ss,useCallback:c_,useContext:ss,useEffect:Wg,useImperativeHandle:l_,useInsertionEffect:a_,useLayoutEffect:i_,useMemo:d_,useReducer:Wf,useRef:n_,useState:function(){return Wf(uc)},useDebugValue:qg,useDeferredValue:function(e){var t=ns();return Lt===null?t.memoizedState=e:u_(t,Lt.memoizedState,e)},useTransition:function(){var e=Wf(uc)[0],t=ns().memoizedState;return[e,t]},useMutableSource:Q1,useSyncExternalStore:X1,useId:h_,unstable_isNewReconciler:!1};function us(e,t){if(e&&e.defaultProps){t=mt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function _p(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:mt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Nh={isMounted:function(e){return(e=e._reactInternals)?yi(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=hr(),a=ea(e),i=cn(n,a);i.payload=t,r!=null&&(i.callback=r),t=Xn(e,i,a),t!==null&&(Ns(t,e,a,n),ru(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=hr(),a=ea(e),i=cn(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Xn(e,i,a),t!==null&&(Ns(t,e,a,n),ru(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=hr(),n=ea(e),a=cn(r,n);a.tag=2,t!=null&&(a.callback=t),t=Xn(e,a,n),t!==null&&(Ns(t,e,n,r),ru(t,e,n))}};function Gv(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!nc(r,n)||!nc(a,i):!0}function x_(e,t,r){var n=!1,a=la,i=t.contextType;return typeof i=="object"&&i!==null?i=ss(i):(a=Er(t)?ii:Zt.current,n=t.contextTypes,i=(n=n!=null)?Do(e,a):la),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Nh,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Kv(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Nh.enqueueReplaceState(t,t.state,null)}function Sp(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Dg(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=ss(i):(i=Er(t)?ii:Zt.current,a.context=Do(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(_p(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Nh.enqueueReplaceState(a,a.state,null),Mu(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Vo(e,t){try{var r="",n=t;do r+=HA(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function qf(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function kp(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var v3=typeof WeakMap=="function"?WeakMap:Map;function g_(e,t,r){r=cn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Vu||(Vu=!0,Mp=n),kp(e,t)},r}function y_(e,t,r){r=cn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){kp(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){kp(e,t),typeof n!="function"&&(Zn===null?Zn=new Set([this]):Zn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Yv(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new v3;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=I3.bind(null,e,t,r),t.then(e,e))}function Jv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Qv(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=cn(-1,1),t.tag=2,Xn(r,t,1))),r.lanes|=1),e)}var b3=bn.ReactCurrentOwner,Nr=!1;function ir(e,t,r,n){t.child=e===null?G1(t,null,r,n):$o(t,e.child,r,n)}function Xv(e,t,r,n,a){r=r.render;var i=t.ref;return mo(t,a),n=Bg(e,t,r,n,i,a),r=zg(),e!==null&&!Nr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,mn(e,t,a)):(lt&&r&&Tg(t),t.flags|=1,ir(e,t,n,a),t.child)}function Zv(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!Zg(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,v_(e,t,i,n,a)):(e=lu(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:nc,r(o,n)&&e.ref===t.ref)return mn(e,t,a)}return t.flags|=1,e=ta(i,n),e.ref=t.ref,e.return=t,t.child=e}function v_(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(nc(i,n)&&e.ref===t.ref)if(Nr=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Nr=!0);else return t.lanes=e.lanes,mn(e,t,a)}return Cp(e,t,r,n,a)}function b_(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(ro,Lr),Lr|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,tt(ro,Lr),Lr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,tt(ro,Lr),Lr|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,tt(ro,Lr),Lr|=n;return ir(e,t,a,r),t.child}function w_(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Cp(e,t,r,n,a){var i=Er(r)?ii:Zt.current;return i=Do(t,i),mo(t,a),r=Bg(e,t,r,n,i,a),n=zg(),e!==null&&!Nr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,mn(e,t,a)):(lt&&n&&Tg(t),t.flags|=1,ir(e,t,r,a),t.child)}function eb(e,t,r,n,a){if(Er(r)){var i=!0;Au(t)}else i=!1;if(mo(t,a),t.stateNode===null)au(e,t),x_(t,r,n),Sp(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=ss(d):(d=Er(r)?ii:Zt.current,d=Do(t,d));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&Kv(t,o,n,d),Rn=!1;var m=t.memoizedState;o.state=m,Mu(t,n,o,a),c=t.memoizedState,l!==n||m!==c||Cr.current||Rn?(typeof u=="function"&&(_p(t,r,u,n),c=t.memoizedState),(l=Rn||Gv(t,r,l,n,m,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Y1(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:us(t.type,l),o.props=d,h=t.pendingProps,m=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=ss(c):(c=Er(r)?ii:Zt.current,c=Do(t,c));var x=r.getDerivedStateFromProps;(u=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||m!==c)&&Kv(t,o,n,c),Rn=!1,m=t.memoizedState,o.state=m,Mu(t,n,o,a);var g=t.memoizedState;l!==h||m!==g||Cr.current||Rn?(typeof x=="function"&&(_p(t,r,x,n),g=t.memoizedState),(d=Rn||Gv(t,r,d,n,m,g,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return Ep(e,t,r,n,i,a)}function Ep(e,t,r,n,a,i){w_(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&$v(t,r,!1),mn(e,t,i);n=t.stateNode,b3.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=$o(t,e.child,null,i),t.child=$o(t,null,l,i)):ir(e,t,l,i),t.memoizedState=n.state,a&&$v(t,r,!0),t.child}function j_(e){var t=e.stateNode;t.pendingContext?Fv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Fv(e,t.context,!1),Fg(e,t.containerInfo)}function tb(e,t,r,n,a){return Fo(),Rg(a),t.flags|=256,ir(e,t,r,n),t.child}var Pp={dehydrated:null,treeContext:null,retryLane:0};function Tp(e){return{baseLanes:e,cachePool:null,transitions:null}}function N_(e,t,r){var n=t.pendingProps,a=ut.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),tt(ut,a&1),e===null)return jp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=kh(o,n,0,null),e=ri(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Tp(r),t.memoizedState=Pp,e):Hg(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return w3(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=ta(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=ta(l,i):(i=ri(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Tp(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Pp,n}return i=e.child,e=i.sibling,n=ta(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Hg(e,t){return t=kh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function jd(e,t,r,n){return n!==null&&Rg(n),$o(t,e.child,null,r),e=Hg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function w3(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=qf(Error(ie(422))),jd(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=kh({mode:"visible",children:n.children},a,0,null),i=ri(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&$o(t,e.child,null,o),t.child.memoizedState=Tp(o),t.memoizedState=Pp,i);if(!(t.mode&1))return jd(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(ie(419)),n=qf(i,n,void 0),jd(e,t,o,n)}if(l=(o&e.childLanes)!==0,Nr||l){if(n=$t,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,fn(e,a),Ns(n,e,a,-1))}return Xg(),n=qf(Error(ie(421))),jd(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=O3.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Ur=Qn(a.nextSibling),Vr=t,lt=!0,ys=null,e!==null&&(Jr[Qr++]=on,Jr[Qr++]=ln,Jr[Qr++]=oi,on=e.id,ln=e.overflow,oi=t),t=Hg(t,n.children),t.flags|=4096,t)}function rb(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Np(e.return,t,r)}function Hf(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function __(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(ir(e,t,n.children,r),n=ut.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rb(e,r,t);else if(e.tag===19)rb(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(tt(ut,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Du(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Hf(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Du(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Hf(t,!0,r,null,i);break;case"together":Hf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function au(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function mn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ci|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ie(153));if(t.child!==null){for(e=t.child,r=ta(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ta(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function j3(e,t,r){switch(t.tag){case 3:j_(t),Fo();break;case 5:J1(t);break;case 1:Er(t.type)&&Au(t);break;case 4:Fg(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;tt(Ou,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(tt(ut,ut.current&1),t.flags|=128,null):r&t.child.childLanes?N_(e,t,r):(tt(ut,ut.current&1),e=mn(e,t,r),e!==null?e.sibling:null);tt(ut,ut.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return __(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),tt(ut,ut.current),n)break;return null;case 22:case 23:return t.lanes=0,b_(e,t,r)}return mn(e,t,r)}var S_,Ap,k_,C_;S_=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ap=function(){};k_=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Ua(Vs.current);var i=null;switch(r){case"input":a=Zm(e,a),n=Zm(e,n),i=[];break;case"select":a=mt({},a,{value:void 0}),n=mt({},n,{value:void 0}),i=[];break;case"textarea":a=rp(e,a),n=rp(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Pu)}np(r,n);var o;r=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ql.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(l=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ql.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&st("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};C_=function(e,t,r,n){r!==n&&(t.flags|=4)};function bl(e,t){if(!lt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Gt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function N3(e,t,r){var n=t.pendingProps;switch(Ag(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(t),null;case 1:return Er(t.type)&&Tu(),Gt(t),null;case 3:return n=t.stateNode,Uo(),nt(Cr),nt(Zt),Ug(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(bd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ys!==null&&($p(ys),ys=null))),Ap(e,t),Gt(t),null;case 5:$g(t);var a=Ua(cc.current);if(r=t.type,e!==null&&t.stateNode!=null)k_(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ie(166));return Gt(t),null}if(e=Ua(Vs.current),bd(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Ds]=t,n[oc]=i,e=(t.mode&1)!==0,r){case"dialog":st("cancel",n),st("close",n);break;case"iframe":case"object":case"embed":st("load",n);break;case"video":case"audio":for(a=0;a<El.length;a++)st(El[a],n);break;case"source":st("error",n);break;case"img":case"image":case"link":st("error",n),st("load",n);break;case"details":st("toggle",n);break;case"input":uv(n,i),st("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},st("invalid",n);break;case"textarea":fv(n,i),st("invalid",n)}np(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&vd(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&vd(n.textContent,l,e),a=["children",""+l]):Ql.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&st("scroll",n)}switch(r){case"input":ud(n),hv(n,i,!0);break;case"textarea":ud(n),mv(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Pu)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=t1(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Ds]=t,e[oc]=n,S_(e,t,!1,!1),t.stateNode=e;e:{switch(o=ap(r,n),r){case"dialog":st("cancel",e),st("close",e),a=n;break;case"iframe":case"object":case"embed":st("load",e),a=n;break;case"video":case"audio":for(a=0;a<El.length;a++)st(El[a],e);a=n;break;case"source":st("error",e),a=n;break;case"img":case"image":case"link":st("error",e),st("load",e),a=n;break;case"details":st("toggle",e),a=n;break;case"input":uv(e,n),a=Zm(e,n),st("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=mt({},n,{value:void 0}),st("invalid",e);break;case"textarea":fv(e,n),a=rp(e,n),st("invalid",e);break;default:a=n}np(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?n1(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&r1(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Xl(e,c):typeof c=="number"&&Xl(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ql.hasOwnProperty(i)?c!=null&&i==="onScroll"&&st("scroll",e):c!=null&&xg(e,i,c,o))}switch(r){case"input":ud(e),hv(e,n,!1);break;case"textarea":ud(e),mv(e);break;case"option":n.value!=null&&e.setAttribute("value",""+oa(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?co(e,!!n.multiple,i,!1):n.defaultValue!=null&&co(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Pu)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Gt(t),null;case 6:if(e&&t.stateNode!=null)C_(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ie(166));if(r=Ua(cc.current),Ua(Vs.current),bd(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ds]=t,(i=n.nodeValue!==r)&&(e=Vr,e!==null))switch(e.tag){case 3:vd(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&vd(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ds]=t,t.stateNode=n}return Gt(t),null;case 13:if(nt(ut),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(lt&&Ur!==null&&t.mode&1&&!(t.flags&128))q1(),Fo(),t.flags|=98560,i=!1;else if(i=bd(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(ie(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ie(317));i[Ds]=t}else Fo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Gt(t),i=!1}else ys!==null&&($p(ys),ys=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ut.current&1?Mt===0&&(Mt=3):Xg())),t.updateQueue!==null&&(t.flags|=4),Gt(t),null);case 4:return Uo(),Ap(e,t),e===null&&ac(t.stateNode.containerInfo),Gt(t),null;case 10:return Lg(t.type._context),Gt(t),null;case 17:return Er(t.type)&&Tu(),Gt(t),null;case 19:if(nt(ut),i=t.memoizedState,i===null)return Gt(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)bl(i,!1);else{if(Mt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Du(e),o!==null){for(t.flags|=128,bl(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return tt(ut,ut.current&1|2),t.child}e=e.sibling}i.tail!==null&&Nt()>Bo&&(t.flags|=128,n=!0,bl(i,!1),t.lanes=4194304)}else{if(!n)if(e=Du(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),bl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!lt)return Gt(t),null}else 2*Nt()-i.renderingStartTime>Bo&&r!==1073741824&&(t.flags|=128,n=!0,bl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Nt(),t.sibling=null,r=ut.current,tt(ut,n?r&1|2:r&1),t):(Gt(t),null);case 22:case 23:return Qg(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Lr&1073741824&&(Gt(t),t.subtreeFlags&6&&(t.flags|=8192)):Gt(t),null;case 24:return null;case 25:return null}throw Error(ie(156,t.tag))}function _3(e,t){switch(Ag(t),t.tag){case 1:return Er(t.type)&&Tu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Uo(),nt(Cr),nt(Zt),Ug(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return $g(t),null;case 13:if(nt(ut),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ie(340));Fo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return nt(ut),null;case 4:return Uo(),null;case 10:return Lg(t.type._context),null;case 22:case 23:return Qg(),null;case 24:return null;default:return null}}var Nd=!1,Jt=!1,S3=typeof WeakSet=="function"?WeakSet:Set,be=null;function to(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){yt(e,t,n)}else r.current=null}function Rp(e,t,r){try{r()}catch(n){yt(e,t,n)}}var sb=!1;function k3(e,t){if(pp=ku,e=R1(),Pg(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,m=null;t:for(;;){for(var x;h!==r||a!==0&&h.nodeType!==3||(l=o+a),h!==i||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(x=h.firstChild)!==null;)m=h,h=x;for(;;){if(h===e)break t;if(m===r&&++d===a&&(l=o),m===i&&++u===n&&(c=o),(x=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=x}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(xp={focusedElem:e,selectionRange:r},ku=!1,be=t;be!==null;)if(t=be,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,be=e;else for(;be!==null;){t=be;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,w=g.memoizedState,b=t.stateNode,p=b.getSnapshotBeforeUpdate(t.elementType===t.type?v:us(t.type,v),w);b.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ie(163))}}catch(j){yt(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,be=e;break}be=t.return}return g=sb,sb=!1,g}function $l(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Rp(t,r,i)}a=a.next}while(a!==n)}}function _h(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Ip(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function E_(e){var t=e.alternate;t!==null&&(e.alternate=null,E_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ds],delete t[oc],delete t[vp],delete t[l3],delete t[c3])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function P_(e){return e.tag===5||e.tag===3||e.tag===4}function nb(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||P_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Op(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Pu));else if(n!==4&&(e=e.child,e!==null))for(Op(e,t,r),e=e.sibling;e!==null;)Op(e,t,r),e=e.sibling}function Lp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Lp(e,t,r),e=e.sibling;e!==null;)Lp(e,t,r),e=e.sibling}var Vt=null,ps=!1;function jn(e,t,r){for(r=r.child;r!==null;)T_(e,t,r),r=r.sibling}function T_(e,t,r){if(Us&&typeof Us.onCommitFiberUnmount=="function")try{Us.onCommitFiberUnmount(xh,r)}catch{}switch(r.tag){case 5:Jt||to(r,t);case 6:var n=Vt,a=ps;Vt=null,jn(e,t,r),Vt=n,ps=a,Vt!==null&&(ps?(e=Vt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Vt.removeChild(r.stateNode));break;case 18:Vt!==null&&(ps?(e=Vt,r=r.stateNode,e.nodeType===8?$f(e.parentNode,r):e.nodeType===1&&$f(e,r),rc(e)):$f(Vt,r.stateNode));break;case 4:n=Vt,a=ps,Vt=r.stateNode.containerInfo,ps=!0,jn(e,t,r),Vt=n,ps=a;break;case 0:case 11:case 14:case 15:if(!Jt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Rp(r,t,o),a=a.next}while(a!==n)}jn(e,t,r);break;case 1:if(!Jt&&(to(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){yt(r,t,l)}jn(e,t,r);break;case 21:jn(e,t,r);break;case 22:r.mode&1?(Jt=(n=Jt)||r.memoizedState!==null,jn(e,t,r),Jt=n):jn(e,t,r);break;default:jn(e,t,r)}}function ab(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new S3),t.forEach(function(n){var a=L3.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function os(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Vt=l.stateNode,ps=!1;break e;case 3:Vt=l.stateNode.containerInfo,ps=!0;break e;case 4:Vt=l.stateNode.containerInfo,ps=!0;break e}l=l.return}if(Vt===null)throw Error(ie(160));T_(i,o,a),Vt=null,ps=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){yt(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)A_(t,e),t=t.sibling}function A_(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(os(t,e),As(e),n&4){try{$l(3,e,e.return),_h(3,e)}catch(v){yt(e,e.return,v)}try{$l(5,e,e.return)}catch(v){yt(e,e.return,v)}}break;case 1:os(t,e),As(e),n&512&&r!==null&&to(r,r.return);break;case 5:if(os(t,e),As(e),n&512&&r!==null&&to(r,r.return),e.flags&32){var a=e.stateNode;try{Xl(a,"")}catch(v){yt(e,e.return,v)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&ZN(a,i),ap(l,o);var d=ap(l,i);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?n1(a,h):u==="dangerouslySetInnerHTML"?r1(a,h):u==="children"?Xl(a,h):xg(a,u,h,d)}switch(l){case"input":ep(a,i);break;case"textarea":e1(a,i);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?co(a,!!i.multiple,x,!1):m!==!!i.multiple&&(i.defaultValue!=null?co(a,!!i.multiple,i.defaultValue,!0):co(a,!!i.multiple,i.multiple?[]:"",!1))}a[oc]=i}catch(v){yt(e,e.return,v)}}break;case 6:if(os(t,e),As(e),n&4){if(e.stateNode===null)throw Error(ie(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(v){yt(e,e.return,v)}}break;case 3:if(os(t,e),As(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{rc(t.containerInfo)}catch(v){yt(e,e.return,v)}break;case 4:os(t,e),As(e);break;case 13:os(t,e),As(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Yg=Nt())),n&4&&ab(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Jt=(d=Jt)||u,os(t,e),Jt=d):os(t,e),As(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(be=e,u=e.child;u!==null;){for(h=be=u;be!==null;){switch(m=be,x=m.child,m.tag){case 0:case 11:case 14:case 15:$l(4,m,m.return);break;case 1:to(m,m.return);var g=m.stateNode;if(typeof g.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){yt(n,r,v)}}break;case 5:to(m,m.return);break;case 22:if(m.memoizedState!==null){ob(h);continue}}x!==null?(x.return=m,be=x):ob(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{a=h.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=s1("display",o))}catch(v){yt(e,e.return,v)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(v){yt(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:os(t,e),As(e),n&4&&ab(e);break;case 21:break;default:os(t,e),As(e)}}function As(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(P_(r)){var n=r;break e}r=r.return}throw Error(ie(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Xl(a,""),n.flags&=-33);var i=nb(e);Lp(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=nb(e);Op(e,l,o);break;default:throw Error(ie(161))}}catch(c){yt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function C3(e,t,r){be=e,R_(e)}function R_(e,t,r){for(var n=(e.mode&1)!==0;be!==null;){var a=be,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Nd;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Jt;l=Nd;var d=Jt;if(Nd=o,(Jt=c)&&!d)for(be=a;be!==null;)o=be,c=o.child,o.tag===22&&o.memoizedState!==null?lb(a):c!==null?(c.return=o,be=c):lb(a);for(;i!==null;)be=i,R_(i),i=i.sibling;be=a,Nd=l,Jt=d}ib(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,be=i):ib(e)}}function ib(e){for(;be!==null;){var t=be;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Jt||_h(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Jt)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:us(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Wv(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Wv(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&rc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ie(163))}Jt||t.flags&512&&Ip(t)}catch(m){yt(t,t.return,m)}}if(t===e){be=null;break}if(r=t.sibling,r!==null){r.return=t.return,be=r;break}be=t.return}}function ob(e){for(;be!==null;){var t=be;if(t===e){be=null;break}var r=t.sibling;if(r!==null){r.return=t.return,be=r;break}be=t.return}}function lb(e){for(;be!==null;){var t=be;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{_h(4,t)}catch(c){yt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){yt(t,a,c)}}var i=t.return;try{Ip(t)}catch(c){yt(t,i,c)}break;case 5:var o=t.return;try{Ip(t)}catch(c){yt(t,o,c)}}}catch(c){yt(t,t.return,c)}if(t===e){be=null;break}var l=t.sibling;if(l!==null){l.return=t.return,be=l;break}be=t.return}}var E3=Math.ceil,Uu=bn.ReactCurrentDispatcher,Gg=bn.ReactCurrentOwner,ts=bn.ReactCurrentBatchConfig,Be=0,$t=null,Et=null,Wt=0,Lr=0,ro=ga(0),Mt=0,fc=null,ci=0,Sh=0,Kg=0,Ul=null,wr=null,Yg=0,Bo=1/0,Zs=null,Vu=!1,Mp=null,Zn=null,_d=!1,Hn=null,Bu=0,Vl=0,Dp=null,iu=-1,ou=0;function hr(){return Be&6?Nt():iu!==-1?iu:iu=Nt()}function ea(e){return e.mode&1?Be&2&&Wt!==0?Wt&-Wt:u3.transition!==null?(ou===0&&(ou=x1()),ou):(e=Ke,e!==0||(e=window.event,e=e===void 0?16:N1(e.type)),e):1}function Ns(e,t,r,n){if(50<Vl)throw Vl=0,Dp=null,Error(ie(185));Uc(e,r,n),(!(Be&2)||e!==$t)&&(e===$t&&(!(Be&2)&&(Sh|=r),Mt===4&&Ln(e,Wt)),Pr(e,n),r===1&&Be===0&&!(t.mode&1)&&(Bo=Nt()+500,wh&&ya()))}function Pr(e,t){var r=e.callbackNode;uR(e,t);var n=Su(e,e===$t?Wt:0);if(n===0)r!==null&&gv(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&gv(r),t===1)e.tag===0?d3(cb.bind(null,e)):B1(cb.bind(null,e)),i3(function(){!(Be&6)&&ya()}),r=null;else{switch(g1(n)){case 1:r=wg;break;case 4:r=m1;break;case 16:r=_u;break;case 536870912:r=p1;break;default:r=_u}r=U_(r,I_.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function I_(e,t){if(iu=-1,ou=0,Be&6)throw Error(ie(327));var r=e.callbackNode;if(po()&&e.callbackNode!==r)return null;var n=Su(e,e===$t?Wt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=zu(e,n);else{t=n;var a=Be;Be|=2;var i=L_();($t!==e||Wt!==t)&&(Zs=null,Bo=Nt()+500,ti(e,t));do try{A3();break}catch(l){O_(e,l)}while(!0);Og(),Uu.current=i,Be=a,Et!==null?t=0:($t=null,Wt=0,t=Mt)}if(t!==0){if(t===2&&(a=dp(e),a!==0&&(n=a,t=Fp(e,a))),t===1)throw r=fc,ti(e,0),Ln(e,n),Pr(e,Nt()),r;if(t===6)Ln(e,n);else{if(a=e.current.alternate,!(n&30)&&!P3(a)&&(t=zu(e,n),t===2&&(i=dp(e),i!==0&&(n=i,t=Fp(e,i))),t===1))throw r=fc,ti(e,0),Ln(e,n),Pr(e,Nt()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(ie(345));case 2:Ia(e,wr,Zs);break;case 3:if(Ln(e,n),(n&130023424)===n&&(t=Yg+500-Nt(),10<t)){if(Su(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){hr(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=yp(Ia.bind(null,e,wr,Zs),t);break}Ia(e,wr,Zs);break;case 4:if(Ln(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-js(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=Nt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*E3(n/1960))-n,10<n){e.timeoutHandle=yp(Ia.bind(null,e,wr,Zs),n);break}Ia(e,wr,Zs);break;case 5:Ia(e,wr,Zs);break;default:throw Error(ie(329))}}}return Pr(e,Nt()),e.callbackNode===r?I_.bind(null,e):null}function Fp(e,t){var r=Ul;return e.current.memoizedState.isDehydrated&&(ti(e,t).flags|=256),e=zu(e,t),e!==2&&(t=wr,wr=r,t!==null&&$p(t)),e}function $p(e){wr===null?wr=e:wr.push.apply(wr,e)}function P3(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Ss(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ln(e,t){for(t&=~Kg,t&=~Sh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-js(t),n=1<<r;e[r]=-1,t&=~n}}function cb(e){if(Be&6)throw Error(ie(327));po();var t=Su(e,0);if(!(t&1))return Pr(e,Nt()),null;var r=zu(e,t);if(e.tag!==0&&r===2){var n=dp(e);n!==0&&(t=n,r=Fp(e,n))}if(r===1)throw r=fc,ti(e,0),Ln(e,t),Pr(e,Nt()),r;if(r===6)throw Error(ie(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ia(e,wr,Zs),Pr(e,Nt()),null}function Jg(e,t){var r=Be;Be|=1;try{return e(t)}finally{Be=r,Be===0&&(Bo=Nt()+500,wh&&ya())}}function di(e){Hn!==null&&Hn.tag===0&&!(Be&6)&&po();var t=Be;Be|=1;var r=ts.transition,n=Ke;try{if(ts.transition=null,Ke=1,e)return e()}finally{Ke=n,ts.transition=r,Be=t,!(Be&6)&&ya()}}function Qg(){Lr=ro.current,nt(ro)}function ti(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,a3(r)),Et!==null)for(r=Et.return;r!==null;){var n=r;switch(Ag(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Tu();break;case 3:Uo(),nt(Cr),nt(Zt),Ug();break;case 5:$g(n);break;case 4:Uo();break;case 13:nt(ut);break;case 19:nt(ut);break;case 10:Lg(n.type._context);break;case 22:case 23:Qg()}r=r.return}if($t=e,Et=e=ta(e.current,null),Wt=Lr=t,Mt=0,fc=null,Kg=Sh=ci=0,wr=Ul=null,$a!==null){for(t=0;t<$a.length;t++)if(r=$a[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}$a=null}return e}function O_(e,t){do{var r=Et;try{if(Og(),su.current=$u,Fu){for(var n=ft.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Fu=!1}if(li=0,Ft=Lt=ft=null,Fl=!1,dc=0,Gg.current=null,r===null||r.return===null){Mt=1,fc=t,Et=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Wt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var x=Jv(o);if(x!==null){x.flags&=-257,Qv(x,o,l,i,t),x.mode&1&&Yv(i,d,t),t=x,c=d;var g=t.updateQueue;if(g===null){var v=new Set;v.add(c),t.updateQueue=v}else g.add(c);break e}else{if(!(t&1)){Yv(i,d,t),Xg();break e}c=Error(ie(426))}}else if(lt&&l.mode&1){var w=Jv(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Qv(w,o,l,i,t),Rg(Vo(c,l));break e}}i=c=Vo(c,l),Mt!==4&&(Mt=2),Ul===null?Ul=[i]:Ul.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var b=g_(i,c,t);zv(i,b);break e;case 1:l=c;var p=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Zn===null||!Zn.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=y_(i,l,t);zv(i,j);break e}}i=i.return}while(i!==null)}D_(r)}catch(N){t=N,Et===r&&r!==null&&(Et=r=r.return);continue}break}while(!0)}function L_(){var e=Uu.current;return Uu.current=$u,e===null?$u:e}function Xg(){(Mt===0||Mt===3||Mt===2)&&(Mt=4),$t===null||!(ci&268435455)&&!(Sh&268435455)||Ln($t,Wt)}function zu(e,t){var r=Be;Be|=2;var n=L_();($t!==e||Wt!==t)&&(Zs=null,ti(e,t));do try{T3();break}catch(a){O_(e,a)}while(!0);if(Og(),Be=r,Uu.current=n,Et!==null)throw Error(ie(261));return $t=null,Wt=0,Mt}function T3(){for(;Et!==null;)M_(Et)}function A3(){for(;Et!==null&&!rR();)M_(Et)}function M_(e){var t=$_(e.alternate,e,Lr);e.memoizedProps=e.pendingProps,t===null?D_(e):Et=t,Gg.current=null}function D_(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=_3(r,t),r!==null){r.flags&=32767,Et=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Mt=6,Et=null;return}}else if(r=N3(r,t,Lr),r!==null){Et=r;return}if(t=t.sibling,t!==null){Et=t;return}Et=t=e}while(t!==null);Mt===0&&(Mt=5)}function Ia(e,t,r){var n=Ke,a=ts.transition;try{ts.transition=null,Ke=1,R3(e,t,r,n)}finally{ts.transition=a,Ke=n}return null}function R3(e,t,r,n){do po();while(Hn!==null);if(Be&6)throw Error(ie(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ie(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(hR(e,i),e===$t&&(Et=$t=null,Wt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||_d||(_d=!0,U_(_u,function(){return po(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=ts.transition,ts.transition=null;var o=Ke;Ke=1;var l=Be;Be|=4,Gg.current=null,k3(e,r),A_(r,e),XR(xp),ku=!!pp,xp=pp=null,e.current=r,C3(r),sR(),Be=l,Ke=o,ts.transition=i}else e.current=r;if(_d&&(_d=!1,Hn=e,Bu=a),i=e.pendingLanes,i===0&&(Zn=null),iR(r.stateNode),Pr(e,Nt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Vu)throw Vu=!1,e=Mp,Mp=null,e;return Bu&1&&e.tag!==0&&po(),i=e.pendingLanes,i&1?e===Dp?Vl++:(Vl=0,Dp=e):Vl=0,ya(),null}function po(){if(Hn!==null){var e=g1(Bu),t=ts.transition,r=Ke;try{if(ts.transition=null,Ke=16>e?16:e,Hn===null)var n=!1;else{if(e=Hn,Hn=null,Bu=0,Be&6)throw Error(ie(331));var a=Be;for(Be|=4,be=e.current;be!==null;){var i=be,o=i.child;if(be.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(be=d;be!==null;){var u=be;switch(u.tag){case 0:case 11:case 15:$l(8,u,i)}var h=u.child;if(h!==null)h.return=u,be=h;else for(;be!==null;){u=be;var m=u.sibling,x=u.return;if(E_(u),u===d){be=null;break}if(m!==null){m.return=x,be=m;break}be=x}}}var g=i.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}be=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,be=o;else e:for(;be!==null;){if(i=be,i.flags&2048)switch(i.tag){case 0:case 11:case 15:$l(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,be=b;break e}be=i.return}}var p=e.current;for(be=p;be!==null;){o=be;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,be=y;else e:for(o=p;be!==null;){if(l=be,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:_h(9,l)}}catch(N){yt(l,l.return,N)}if(l===o){be=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,be=j;break e}be=l.return}}if(Be=a,ya(),Us&&typeof Us.onPostCommitFiberRoot=="function")try{Us.onPostCommitFiberRoot(xh,e)}catch{}n=!0}return n}finally{Ke=r,ts.transition=t}}return!1}function db(e,t,r){t=Vo(r,t),t=g_(e,t,1),e=Xn(e,t,1),t=hr(),e!==null&&(Uc(e,1,t),Pr(e,t))}function yt(e,t,r){if(e.tag===3)db(e,e,r);else for(;t!==null;){if(t.tag===3){db(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Zn===null||!Zn.has(n))){e=Vo(r,e),e=y_(t,e,1),t=Xn(t,e,1),e=hr(),t!==null&&(Uc(t,1,e),Pr(t,e));break}}t=t.return}}function I3(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=hr(),e.pingedLanes|=e.suspendedLanes&r,$t===e&&(Wt&r)===r&&(Mt===4||Mt===3&&(Wt&130023424)===Wt&&500>Nt()-Yg?ti(e,0):Kg|=r),Pr(e,t)}function F_(e,t){t===0&&(e.mode&1?(t=md,md<<=1,!(md&130023424)&&(md=4194304)):t=1);var r=hr();e=fn(e,t),e!==null&&(Uc(e,t,r),Pr(e,r))}function O3(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),F_(e,r)}function L3(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ie(314))}n!==null&&n.delete(t),F_(e,r)}var $_;$_=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Cr.current)Nr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Nr=!1,j3(e,t,r);Nr=!!(e.flags&131072)}else Nr=!1,lt&&t.flags&1048576&&z1(t,Iu,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;au(e,t),e=t.pendingProps;var a=Do(t,Zt.current);mo(t,r),a=Bg(null,t,n,e,a,r);var i=zg();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Er(n)?(i=!0,Au(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Dg(t),a.updater=Nh,t.stateNode=a,a._reactInternals=t,Sp(t,n,e,r),t=Ep(null,t,n,!0,i,r)):(t.tag=0,lt&&i&&Tg(t),ir(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(au(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=D3(n),e=us(n,e),a){case 0:t=Cp(null,t,n,e,r);break e;case 1:t=eb(null,t,n,e,r);break e;case 11:t=Xv(null,t,n,e,r);break e;case 14:t=Zv(null,t,n,us(n.type,e),r);break e}throw Error(ie(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:us(n,a),Cp(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:us(n,a),eb(e,t,n,a,r);case 3:e:{if(j_(t),e===null)throw Error(ie(387));n=t.pendingProps,i=t.memoizedState,a=i.element,Y1(e,t),Mu(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Vo(Error(ie(423)),t),t=tb(e,t,n,r,a);break e}else if(n!==a){a=Vo(Error(ie(424)),t),t=tb(e,t,n,r,a);break e}else for(Ur=Qn(t.stateNode.containerInfo.firstChild),Vr=t,lt=!0,ys=null,r=G1(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Fo(),n===a){t=mn(e,t,r);break e}ir(e,t,n,r)}t=t.child}return t;case 5:return J1(t),e===null&&jp(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,gp(n,a)?o=null:i!==null&&gp(n,i)&&(t.flags|=32),w_(e,t),ir(e,t,o,r),t.child;case 6:return e===null&&jp(t),null;case 13:return N_(e,t,r);case 4:return Fg(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=$o(t,null,n,r):ir(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:us(n,a),Xv(e,t,n,a,r);case 7:return ir(e,t,t.pendingProps,r),t.child;case 8:return ir(e,t,t.pendingProps.children,r),t.child;case 12:return ir(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,tt(Ou,n._currentValue),n._currentValue=o,i!==null)if(Ss(i.value,o)){if(i.children===a.children&&!Cr.current){t=mn(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=cn(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Np(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ie(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Np(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ir(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,mo(t,r),a=ss(a),n=n(a),t.flags|=1,ir(e,t,n,r),t.child;case 14:return n=t.type,a=us(n,t.pendingProps),a=us(n.type,a),Zv(e,t,n,a,r);case 15:return v_(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:us(n,a),au(e,t),t.tag=1,Er(n)?(e=!0,Au(t)):e=!1,mo(t,r),x_(t,n,a),Sp(t,n,a,r),Ep(null,t,n,!0,e,r);case 19:return __(e,t,r);case 22:return b_(e,t,r)}throw Error(ie(156,t.tag))};function U_(e,t){return f1(e,t)}function M3(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zr(e,t,r,n){return new M3(e,t,r,n)}function Zg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function D3(e){if(typeof e=="function")return Zg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===yg)return 11;if(e===vg)return 14}return 2}function ta(e,t){var r=e.alternate;return r===null?(r=Zr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function lu(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")Zg(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Hi:return ri(r.children,a,i,t);case gg:o=8,a|=8;break;case Ym:return e=Zr(12,r,t,a|2),e.elementType=Ym,e.lanes=i,e;case Jm:return e=Zr(13,r,t,a),e.elementType=Jm,e.lanes=i,e;case Qm:return e=Zr(19,r,t,a),e.elementType=Qm,e.lanes=i,e;case JN:return kh(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case KN:o=10;break e;case YN:o=9;break e;case yg:o=11;break e;case vg:o=14;break e;case An:o=16,n=null;break e}throw Error(ie(130,e==null?e:typeof e,""))}return t=Zr(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function ri(e,t,r,n){return e=Zr(7,e,n,t),e.lanes=r,e}function kh(e,t,r,n){return e=Zr(22,e,n,t),e.elementType=JN,e.lanes=r,e.stateNode={isHidden:!1},e}function Gf(e,t,r){return e=Zr(6,e,null,t),e.lanes=r,e}function Kf(e,t,r){return t=Zr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function F3(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ef(0),this.expirationTimes=Ef(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ef(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function e0(e,t,r,n,a,i,o,l,c){return e=new F3(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Zr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dg(i),e}function $3(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qi,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function V_(e){if(!e)return la;e=e._reactInternals;e:{if(yi(e)!==e||e.tag!==1)throw Error(ie(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Er(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ie(171))}if(e.tag===1){var r=e.type;if(Er(r))return V1(e,r,t)}return t}function B_(e,t,r,n,a,i,o,l,c){return e=e0(r,n,!0,e,a,i,o,l,c),e.context=V_(null),r=e.current,n=hr(),a=ea(r),i=cn(n,a),i.callback=t??null,Xn(r,i,a),e.current.lanes=a,Uc(e,a,n),Pr(e,n),e}function Ch(e,t,r,n){var a=t.current,i=hr(),o=ea(a);return r=V_(r),t.context===null?t.context=r:t.pendingContext=r,t=cn(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Xn(a,t,o),e!==null&&(Ns(e,a,o,i),ru(e,a,o)),o}function Wu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ub(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function t0(e,t){ub(e,t),(e=e.alternate)&&ub(e,t)}function U3(){return null}var z_=typeof reportError=="function"?reportError:function(e){console.error(e)};function r0(e){this._internalRoot=e}Eh.prototype.render=r0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ie(409));Ch(e,t,null,null)};Eh.prototype.unmount=r0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;di(function(){Ch(null,e,null,null)}),t[hn]=null}};function Eh(e){this._internalRoot=e}Eh.prototype.unstable_scheduleHydration=function(e){if(e){var t=b1();e={blockedOn:null,target:e,priority:t};for(var r=0;r<On.length&&t!==0&&t<On[r].priority;r++);On.splice(r,0,e),r===0&&j1(e)}};function s0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ph(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function hb(){}function V3(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var d=Wu(o);i.call(d)}}var o=B_(t,n,e,0,null,!1,!1,"",hb);return e._reactRootContainer=o,e[hn]=o.current,ac(e.nodeType===8?e.parentNode:e),di(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var d=Wu(c);l.call(d)}}var c=e0(e,0,!1,null,null,!1,!1,"",hb);return e._reactRootContainer=c,e[hn]=c.current,ac(e.nodeType===8?e.parentNode:e),di(function(){Ch(t,c,r,n)}),c}function Th(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=Wu(o);l.call(c)}}Ch(t,o,e,a)}else o=V3(r,t,e,a,n);return Wu(o)}y1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Cl(t.pendingLanes);r!==0&&(jg(t,r|1),Pr(t,Nt()),!(Be&6)&&(Bo=Nt()+500,ya()))}break;case 13:di(function(){var n=fn(e,1);if(n!==null){var a=hr();Ns(n,e,1,a)}}),t0(e,1)}};Ng=function(e){if(e.tag===13){var t=fn(e,134217728);if(t!==null){var r=hr();Ns(t,e,134217728,r)}t0(e,134217728)}};v1=function(e){if(e.tag===13){var t=ea(e),r=fn(e,t);if(r!==null){var n=hr();Ns(r,e,t,n)}t0(e,t)}};b1=function(){return Ke};w1=function(e,t){var r=Ke;try{return Ke=e,t()}finally{Ke=r}};op=function(e,t,r){switch(t){case"input":if(ep(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=bh(n);if(!a)throw Error(ie(90));XN(n),ep(n,a)}}}break;case"textarea":e1(e,r);break;case"select":t=r.value,t!=null&&co(e,!!r.multiple,t,!1)}};o1=Jg;l1=di;var B3={usingClientEntryPoint:!1,Events:[Bc,Ji,bh,a1,i1,Jg]},wl={findFiberByHostInstance:Fa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},z3={bundleType:wl.bundleType,version:wl.version,rendererPackageName:wl.rendererPackageName,rendererConfig:wl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=u1(e),e===null?null:e.stateNode},findFiberByHostInstance:wl.findFiberByHostInstance||U3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sd.isDisabled&&Sd.supportsFiber)try{xh=Sd.inject(z3),Us=Sd}catch{}}Wr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B3;Wr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!s0(t))throw Error(ie(200));return $3(e,t,null,r)};Wr.createRoot=function(e,t){if(!s0(e))throw Error(ie(299));var r=!1,n="",a=z_;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=e0(e,1,!1,null,null,r,!1,n,a),e[hn]=t.current,ac(e.nodeType===8?e.parentNode:e),new r0(t)};Wr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ie(188)):(e=Object.keys(e).join(","),Error(ie(268,e)));return e=u1(t),e=e===null?null:e.stateNode,e};Wr.flushSync=function(e){return di(e)};Wr.hydrate=function(e,t,r){if(!Ph(t))throw Error(ie(200));return Th(null,e,t,!0,r)};Wr.hydrateRoot=function(e,t,r){if(!s0(e))throw Error(ie(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=z_;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=B_(t,null,e,1,r??null,a,!1,i,o),e[hn]=t.current,ac(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Eh(t)};Wr.render=function(e,t,r){if(!Ph(t))throw Error(ie(200));return Th(null,e,t,!1,r)};Wr.unmountComponentAtNode=function(e){if(!Ph(e))throw Error(ie(40));return e._reactRootContainer?(di(function(){Th(null,null,e,!1,function(){e._reactRootContainer=null,e[hn]=null})}),!0):!1};Wr.unstable_batchedUpdates=Jg;Wr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ph(r))throw Error(ie(200));if(e==null||e._reactInternals===void 0)throw Error(ie(38));return Th(e,t,r,!1,n)};Wr.version="18.3.1-next-f1338f8080-20240426";function W_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(W_)}catch(e){console.error(e)}}W_(),WN.exports=Wr;var vi=WN.exports;const W3=AN(vi);var q_,fb=vi;q_=fb.createRoot,fb.hydrateRoot;/*!
 * react-paypal-js v8.9.2 (2025-10-02T20:17:55.069Z)
 * Copyright 2020-present, PayPal, Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Is;(function(e){e.INITIAL="initial",e.PENDING="pending",e.REJECTED="rejected",e.RESOLVED="resolved"})(Is||(Is={}));var ra;(function(e){e.LOADING_STATUS="setLoadingStatus",e.RESET_OPTIONS="resetOptions",e.SET_BRAINTREE_INSTANCE="braintreeInstance"})(ra||(ra={}));var mb;(function(e){e.NUMBER="number",e.CVV="cvv",e.EXPIRATION_DATE="expirationDate",e.EXPIRATION_MONTH="expirationMonth",e.EXPIRATION_YEAR="expirationYear",e.POSTAL_CODE="postalCode"})(mb||(mb={}));var Kt=function(){return Kt=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Kt.apply(this,arguments)};function q3(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}var mc="data-react-paypal-script-id",so={DATA_JS_SDK_LIBRARY:"dataJsSdkLibrary",DATA_LIBRARY_VALUE:"react-paypal-js",DATA_SDK_INTEGRATION_SOURCE:"dataSdkIntegrationSource"},H3="Failed to load the PayPal JS SDK script.";function G3(e){for(var t="",r=0;r<e.length;r++){var n=e[r].charCodeAt(0)*r;e[r+1]&&(n+=e[r+1].charCodeAt(0)*(r-1)),t+=String.fromCharCode(97+Math.abs(n)%26)}return t}function H_(e){var t=e,r=mc;t[r];var n=q3(t,[r+""]);return"react-paypal-js-".concat(G3(JSON.stringify(n)))}function K3(e){var t=self.document.querySelector("script[".concat(mc,'="').concat(e,'"]'));t!=null&&t.parentNode&&t.parentNode.removeChild(t)}function Y3(e,t){var r,n;switch(t.type){case ra.LOADING_STATUS:return typeof t.value=="object"?Kt(Kt({},e),{loadingStatus:t.value.state,loadingStatusErrorMessage:t.value.message}):Kt(Kt({},e),{loadingStatus:t.value});case ra.RESET_OPTIONS:return K3(e.options[mc]),Kt(Kt({},e),{loadingStatus:Is.PENDING,options:Kt(Kt((r={},r[so.DATA_SDK_INTEGRATION_SOURCE]=so.DATA_LIBRARY_VALUE,r),t.value),(n={},n[mc]="".concat(H_(t.value)),n))});case ra.SET_BRAINTREE_INSTANCE:return Kt(Kt({},e),{braintreePayPalCheckoutInstance:t.value});default:return e}}var J3=f.createContext(null);f.createContext({});function Q3(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function X3(e,t){var r=document.querySelector('script[src="'.concat(e,'"]'));if(r===null)return null;var n=G_(e,t),a=r.cloneNode();if(delete a.dataset.uidAuto,Object.keys(a.dataset).length!==Object.keys(n.dataset).length)return null;var i=!0;return Object.keys(a.dataset).forEach(function(o){a.dataset[o]!==n.dataset[o]&&(i=!1)}),i?r:null}function Z3(e){var t=e.url,r=e.attributes,n=e.onSuccess,a=e.onError,i=G_(t,r);i.onerror=a,i.onload=n,document.head.insertBefore(i,document.head.firstElementChild)}function e5(e){var t=e.sdkBaseUrl,r=e.environment,n=Q3(e,["sdkBaseUrl","environment"]),a=t||s5(r),i=n,o=Object.keys(i).filter(function(d){return typeof i[d]<"u"&&i[d]!==null&&i[d]!==""}).reduce(function(d,u){var h=i[u].toString();return u=t5(u),u.substring(0,4)==="data"||u==="crossorigin"?d.attributes[u]=h:d.queryParams[u]=h,d},{queryParams:{},attributes:{}}),l=o.queryParams,c=o.attributes;return l["merchant-id"]&&l["merchant-id"].indexOf(",")!==-1&&(c["data-merchant-id"]=l["merchant-id"],l["merchant-id"]="*"),{url:"".concat(a,"?").concat(r5(l)),attributes:c}}function t5(e){var t=function(r,n){return(n?"-":"")+r.toLowerCase()};return e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,t)}function r5(e){var t="";return Object.keys(e).forEach(function(r){t.length!==0&&(t+="&"),t+=r+"="+e[r]}),t}function s5(e){return e==="sandbox"?"https://www.sandbox.paypal.com/sdk/js":"https://www.paypal.com/sdk/js"}function G_(e,t){t===void 0&&(t={});var r=document.createElement("script");return r.src=e,Object.keys(t).forEach(function(n){r.setAttribute(n,t[n]),n==="data-csp-nonce"&&r.setAttribute("nonce",t["data-csp-nonce"])}),r}function n5(e,t){if(t===void 0&&(t=Promise),K_(e,t),typeof document>"u")return t.resolve(null);var r=e5(e),n=r.url,a=r.attributes,i=a["data-namespace"]||"paypal",o=pb(i);return a["data-js-sdk-library"]||(a["data-js-sdk-library"]="paypal-js"),X3(n,a)&&o?t.resolve(o):a5({url:n,attributes:a},t).then(function(){var l=pb(i);if(l)return l;throw new Error("The window.".concat(i," global variable is not available."))})}function a5(e,t){t===void 0&&(t=Promise),K_(e,t);var r=e.url,n=e.attributes;if(typeof r!="string"||r.length===0)throw new Error("Invalid url.");if(typeof n<"u"&&typeof n!="object")throw new Error("Expected attributes to be an object.");return new t(function(a,i){if(typeof document>"u")return a();Z3({url:r,attributes:n,onSuccess:function(){return a()},onError:function(){var o=new Error('The script "'.concat(r,'" failed to load. Check the HTTP status code and response body in DevTools to learn more.'));return i(o)}})})}function pb(e){return window[e]}function K_(e,t){if(typeof e!="object"||e===null)throw new Error("Expected an options object.");var r=e.environment;if(r&&r!=="production"&&r!=="sandbox")throw new Error('The `environment` option must be either "production" or "sandbox".');if(typeof t<"u"&&typeof t!="function")throw new Error("Expected PromisePonyfill to be a function.")}var i5=function(e){var t,r=e.options,n=r===void 0?{clientId:"test"}:r,a=e.children,i=e.deferLoading,o=i===void 0?!1:i,l=f.useReducer(Y3,{options:Kt(Kt({},n),(t={},t[so.DATA_JS_SDK_LIBRARY]=so.DATA_LIBRARY_VALUE,t[so.DATA_SDK_INTEGRATION_SOURCE]=so.DATA_LIBRARY_VALUE,t[mc]="".concat(H_(n)),t)),loadingStatus:o?Is.INITIAL:Is.PENDING}),c=l[0],d=l[1];return f.useEffect(function(){if(o===!1&&c.loadingStatus===Is.INITIAL)return d({type:ra.LOADING_STATUS,value:Is.PENDING});if(c.loadingStatus===Is.PENDING){var u=!0;return n5(c.options).then(function(){u&&d({type:ra.LOADING_STATUS,value:Is.RESOLVED})}).catch(function(h){console.error("".concat(H3," ").concat(h)),u&&d({type:ra.LOADING_STATUS,value:{state:Is.REJECTED,message:String(h)}})}),function(){u=!1}}},[c.options,o,c.loadingStatus]),He.createElement(J3.Provider,{value:Kt(Kt({},c),{dispatch:d})},a)};function xb(){}f.createContext({cardFieldsForm:null,fields:{},registerField:xb,unregisterField:xb});/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pc(){return pc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pc.apply(this,arguments)}var Gn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Gn||(Gn={}));const gb="popstate";function o5(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return Up("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:qu(a)}return c5(t,r,null,e)}function Rt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Y_(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function l5(){return Math.random().toString(36).substr(2,8)}function yb(e,t){return{usr:e.state,key:e.key,idx:t}}function Up(e,t,r,n){return r===void 0&&(r=null),pc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?tl(t):t,{state:r,key:t&&t.key||n||l5()})}function qu(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function tl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function c5(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=Gn.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(pc({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function h(){l=Gn.Pop;let w=u(),b=w==null?null:w-d;d=w,c&&c({action:l,location:v.location,delta:b})}function m(w,b){l=Gn.Push;let p=Up(v.location,w,b);d=u()+1;let y=yb(p,d),j=v.createHref(p);try{o.pushState(y,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(j)}i&&c&&c({action:l,location:v.location,delta:1})}function x(w,b){l=Gn.Replace;let p=Up(v.location,w,b);d=u();let y=yb(p,d),j=v.createHref(p);o.replaceState(y,"",j),i&&c&&c({action:l,location:v.location,delta:0})}function g(w){let b=a.location.origin!=="null"?a.location.origin:a.location.href,p=typeof w=="string"?w:qu(w);return p=p.replace(/ $/,"%20"),Rt(b,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,b)}let v={get action(){return l},get location(){return e(a,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(gb,h),c=w,()=>{a.removeEventListener(gb,h),c=null}},createHref(w){return t(a,w)},createURL:g,encodeLocation(w){let b=g(w);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:m,replace:x,go(w){return o.go(w)}};return v}var vb;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(vb||(vb={}));function d5(e,t,r){return r===void 0&&(r="/"),u5(e,t,r)}function u5(e,t,r,n){let a=typeof t=="string"?tl(t):t,i=n0(a.pathname||"/",r);if(i==null)return null;let o=J_(e);h5(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=_5(i);l=w5(o[c],d)}return l}function J_(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Rt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=sa([n,c.relativePath]),u=r.concat(c);i.children&&i.children.length>0&&(Rt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),J_(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:v5(d,i.index),routesMeta:u})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of Q_(i.path))a(i,o,c)}),t}function Q_(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=Q_(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function h5(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:b5(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const f5=/^:[\w-]+$/,m5=3,p5=2,x5=1,g5=10,y5=-2,bb=e=>e==="*";function v5(e,t){let r=e.split("/"),n=r.length;return r.some(bb)&&(n+=y5),t&&(n+=p5),r.filter(a=>!bb(a)).reduce((a,i)=>a+(f5.test(i)?m5:i===""?x5:g5),n)}function b5(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function w5(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",h=j5({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),m=c.route;if(!h)return null;Object.assign(a,h.params),o.push({params:a,pathname:sa([i,h.pathname]),pathnameBase:E5(sa([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=sa([i,h.pathnameBase]))}return o}function j5(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=N5(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((d,u,h)=>{let{paramName:m,isOptional:x}=u;if(m==="*"){let v=l[h]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const g=l[h];return x&&!g?d[m]=void 0:d[m]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function N5(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Y_(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function _5(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Y_(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function n0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function S5(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?tl(e):e;return{pathname:r?r.startsWith("/")?r:k5(r,t):t,search:P5(n),hash:T5(a)}}function k5(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Yf(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function C5(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function X_(e,t){let r=C5(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Z_(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=tl(e):(a=pc({},e),Rt(!a.pathname||!a.pathname.includes("?"),Yf("?","pathname","search",a)),Rt(!a.pathname||!a.pathname.includes("#"),Yf("#","pathname","hash",a)),Rt(!a.search||!a.search.includes("#"),Yf("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;a.pathname=m.join("/")}l=h>=0?t[h]:"/"}let c=S5(a,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const sa=e=>e.join("/").replace(/\/\/+/g,"/"),E5=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),P5=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,T5=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function A5(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const eS=["post","put","patch","delete"];new Set(eS);const R5=["get",...eS];new Set(R5);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xc(){return xc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xc.apply(this,arguments)}const a0=f.createContext(null),I5=f.createContext(null),bi=f.createContext(null),Ah=f.createContext(null),va=f.createContext({outlet:null,matches:[],isDataRoute:!1}),tS=f.createContext(null);function O5(e,t){let{relative:r}=t===void 0?{}:t;Wc()||Rt(!1);let{basename:n,navigator:a}=f.useContext(bi),{hash:i,pathname:o,search:l}=sS(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:sa([n,o])),a.createHref({pathname:c,search:l,hash:i})}function Wc(){return f.useContext(Ah)!=null}function wi(){return Wc()||Rt(!1),f.useContext(Ah).location}function rS(e){f.useContext(bi).static||f.useLayoutEffect(e)}function pt(){let{isDataRoute:e}=f.useContext(va);return e?K5():L5()}function L5(){Wc()||Rt(!1);let e=f.useContext(a0),{basename:t,future:r,navigator:n}=f.useContext(bi),{matches:a}=f.useContext(va),{pathname:i}=wi(),o=JSON.stringify(X_(a,r.v7_relativeSplatPath)),l=f.useRef(!1);return rS(()=>{l.current=!0}),f.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let h=Z_(d,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:sa([t,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[t,n,o,i,e])}function M5(){let{matches:e}=f.useContext(va),t=e[e.length-1];return t?t.params:{}}function sS(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=f.useContext(bi),{matches:a}=f.useContext(va),{pathname:i}=wi(),o=JSON.stringify(X_(a,n.v7_relativeSplatPath));return f.useMemo(()=>Z_(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function D5(e,t){return F5(e,t)}function F5(e,t,r,n){Wc()||Rt(!1);let{navigator:a}=f.useContext(bi),{matches:i}=f.useContext(va),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=wi(),u;if(t){var h;let w=typeof t=="string"?tl(t):t;c==="/"||(h=w.pathname)!=null&&h.startsWith(c)||Rt(!1),u=w}else u=d;let m=u.pathname||"/",x=m;if(c!=="/"){let w=c.replace(/^\//,"").split("/");x="/"+m.replace(/^\//,"").split("/").slice(w.length).join("/")}let g=d5(e,{pathname:x}),v=z5(g&&g.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:sa([c,a.encodeLocation?a.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:sa([c,a.encodeLocation?a.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,r,n);return t&&v?f.createElement(Ah.Provider,{value:{location:xc({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Gn.Pop}},v):v}function $5(){let e=G5(),t=A5(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},t),r?f.createElement("pre",{style:a},r):null,null)}const U5=f.createElement($5,null);class V5 extends f.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?f.createElement(va.Provider,{value:this.props.routeContext},f.createElement(tS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function B5(e){let{routeContext:t,match:r,children:n}=e,a=f.useContext(a0);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),f.createElement(va.Provider,{value:t},n)}function z5(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let u=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);u>=0||Rt(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:m,errors:x}=r,g=h.route.loader&&m[h.route.id]===void 0&&(!x||x[h.route.id]===void 0);if(h.route.lazy||g){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,h,m)=>{let x,g=!1,v=null,w=null;r&&(x=l&&h.route.id?l[h.route.id]:void 0,v=h.route.errorElement||U5,c&&(d<0&&m===0?(Y5("route-fallback"),g=!0,w=null):d===m&&(g=!0,w=h.route.hydrateFallbackElement||null)));let b=t.concat(o.slice(0,m+1)),p=()=>{let y;return x?y=v:g?y=w:h.route.Component?y=f.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=u,f.createElement(B5,{match:h,routeContext:{outlet:u,matches:b,isDataRoute:r!=null},children:y})};return r&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?f.createElement(V5,{location:r.location,revalidation:r.revalidation,component:v,error:x,children:p(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):p()},null)}var nS=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(nS||{}),aS=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(aS||{});function W5(e){let t=f.useContext(a0);return t||Rt(!1),t}function q5(e){let t=f.useContext(I5);return t||Rt(!1),t}function H5(e){let t=f.useContext(va);return t||Rt(!1),t}function iS(e){let t=H5(),r=t.matches[t.matches.length-1];return r.route.id||Rt(!1),r.route.id}function G5(){var e;let t=f.useContext(tS),r=q5(),n=iS();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function K5(){let{router:e}=W5(nS.UseNavigateStable),t=iS(aS.UseNavigateStable),r=f.useRef(!1);return rS(()=>{r.current=!0}),f.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,xc({fromRouteId:t},i)))},[e,t])}const wb={};function Y5(e,t,r){wb[e]||(wb[e]=!0)}function J5(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function qe(e){Rt(!1)}function Q5(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Gn.Pop,navigator:i,static:o=!1,future:l}=e;Wc()&&Rt(!1);let c=t.replace(/^\/*/,"/"),d=f.useMemo(()=>({basename:c,navigator:i,static:o,future:xc({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=tl(n));let{pathname:u="/",search:h="",hash:m="",state:x=null,key:g="default"}=n,v=f.useMemo(()=>{let w=n0(u,c);return w==null?null:{location:{pathname:w,search:h,hash:m,state:x,key:g},navigationType:a}},[c,u,h,m,x,g,a]);return v==null?null:f.createElement(bi.Provider,{value:d},f.createElement(Ah.Provider,{children:r,value:v}))}function X5(e){let{children:t,location:r}=e;return D5(Vp(t),r)}new Promise(()=>{});function Vp(e,t){t===void 0&&(t=[]);let r=[];return f.Children.forEach(e,(n,a)=>{if(!f.isValidElement(n))return;let i=[...t,a];if(n.type===f.Fragment){r.push.apply(r,Vp(n.props.children,i));return}n.type!==qe&&Rt(!1),!n.props.index||!n.props.children||Rt(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Vp(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bp(){return Bp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bp.apply(this,arguments)}function Z5(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function e6(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function t6(e,t){return e.button===0&&(!t||t==="_self")&&!e6(e)}function zp(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function r6(e,t){let r=zp(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const s6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],n6="6";try{window.__reactRouterVersion=n6}catch{}const a6="startTransition",jb=fg[a6];function i6(e){let{basename:t,children:r,future:n,window:a}=e,i=f.useRef();i.current==null&&(i.current=o5({window:a,v5Compat:!0}));let o=i.current,[l,c]=f.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},u=f.useCallback(h=>{d&&jb?jb(()=>c(h)):c(h)},[c,d]);return f.useLayoutEffect(()=>o.listen(u),[o,u]),f.useEffect(()=>J5(n),[n]),f.createElement(Q5,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const o6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",l6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,c6=f.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:h}=t,m=Z5(t,s6),{basename:x}=f.useContext(bi),g,v=!1;if(typeof d=="string"&&l6.test(d)&&(g=d,o6))try{let y=new URL(window.location.href),j=d.startsWith("//")?new URL(y.protocol+d):new URL(d),N=n0(j.pathname,x);j.origin===y.origin&&N!=null?d=N+j.search+j.hash:v=!0}catch{}let w=O5(d,{relative:a}),b=d6(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:h});function p(y){n&&n(y),y.defaultPrevented||b(y)}return f.createElement("a",Bp({},m,{href:g||w,onClick:v||i?n:p,ref:r,target:c}))});var Nb;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Nb||(Nb={}));var _b;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(_b||(_b={}));function d6(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=pt(),d=wi(),u=sS(e,{relative:o});return f.useCallback(h=>{if(t6(h,r)){h.preventDefault();let m=n!==void 0?n:qu(d)===qu(u);c(e,{replace:m,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,n,a,r,e,i,o,l])}function gr(e){let t=f.useRef(zp(e)),r=f.useRef(!1),n=wi(),a=f.useMemo(()=>r6(n.search,r.current?null:t.current),[n.search]),i=pt(),o=f.useCallback((l,c)=>{const d=zp(typeof l=="function"?l(a):l);r.current=!0,i("?"+d,c)},[i,a]);return[a,o]}var Wp=function(e,t){return Wp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},Wp(e,t)};function oS(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Wp(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Xr=function(){return Xr=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Xr.apply(this,arguments)};function ba(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function lS(e,t,r,n){var a=arguments.length,i=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i}function cS(e,t){return function(r,n){t(r,n,e)}}function dS(e,t,r,n,a,i){function o(b){if(b!==void 0&&typeof b!="function")throw new TypeError("Function expected");return b}for(var l=n.kind,c=l==="getter"?"get":l==="setter"?"set":"value",d=!t&&e?n.static?e:e.prototype:null,u=t||(d?Object.getOwnPropertyDescriptor(d,n.name):{}),h,m=!1,x=r.length-1;x>=0;x--){var g={};for(var v in n)g[v]=v==="access"?{}:n[v];for(var v in n.access)g.access[v]=n.access[v];g.addInitializer=function(b){if(m)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(b||null))};var w=(0,r[x])(l==="accessor"?{get:u.get,set:u.set}:u[c],g);if(l==="accessor"){if(w===void 0)continue;if(w===null||typeof w!="object")throw new TypeError("Object expected");(h=o(w.get))&&(u.get=h),(h=o(w.set))&&(u.set=h),(h=o(w.init))&&a.unshift(h)}else(h=o(w))&&(l==="field"?a.unshift(h):u[c]=h)}d&&Object.defineProperty(d,n.name,u),m=!0}function uS(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function hS(e){return typeof e=="symbol"?e:"".concat(e)}function fS(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function mS(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Ne(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(n.next(u))}catch(h){o(h)}}function c(u){try{d(n.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((n=n.apply(e,t||[])).next())})}function pS(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(u){return c([d,u])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(r=0)),r;)try{if(n=1,a&&(i=d[0]&2?a.return:d[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,d[1])).done)return i;switch(a=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,a=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){r.label=d[1];break}if(d[0]===6&&r.label<i[1]){r.label=i[1],i=d;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(d);break}i[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(u){d=[6,u],a=0}finally{n=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var Rh=Object.create?function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function xS(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Rh(t,e,r)}function Hu(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function i0(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(l){o={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function gS(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i0(arguments[t]));return e}function yS(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var i=arguments[t],o=0,l=i.length;o<l;o++,a++)n[a]=i[o];return n}function o0(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function zo(e){return this instanceof zo?(this.v=e,this):new zo(e)}function vS(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,i=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),a[Symbol.asyncIterator]=function(){return this},a;function o(x){return function(g){return Promise.resolve(g).then(x,h)}}function l(x,g){n[x]&&(a[x]=function(v){return new Promise(function(w,b){i.push([x,v,w,b])>1||c(x,v)})},g&&(a[x]=g(a[x])))}function c(x,g){try{d(n[x](g))}catch(v){m(i[0][3],v)}}function d(x){x.value instanceof zo?Promise.resolve(x.value.v).then(u,h):m(i[0][2],x)}function u(x){c("next",x)}function h(x){c("throw",x)}function m(x,g){x(g),i.shift(),i.length&&c(i[0][0],i[0][1])}}function bS(e){var t,r;return t={},n("next"),n("throw",function(a){throw a}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(a,i){t[a]=e[a]?function(o){return(r=!r)?{value:zo(e[a](o)),done:!1}:i?i(o):o}:i}}function wS(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Hu=="function"?Hu(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(o){return new Promise(function(l,c){o=e[i](o),a(l,c,o.done,o.value)})}}function a(i,o,l,c){Promise.resolve(c).then(function(d){i({value:d,done:l})},o)}}function jS(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var u6=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},qp=function(e){return qp=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},qp(e)};function NS(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=qp(e),n=0;n<r.length;n++)r[n]!=="default"&&Rh(t,e,r[n]);return u6(t,e),t}function _S(e){return e&&e.__esModule?e:{default:e}}function SS(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function kS(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}function CS(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function ES(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var h6=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function PS(e){function t(i){e.error=e.hasError?new h6(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function a(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(a,function(o){return t(o),a()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function TS(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,a,i,o){return n?t?".jsx":".js":a&&(!i||!o)?r:a+i+"."+o.toLowerCase()+"js"}):e}const f6={__extends:oS,__assign:Xr,__rest:ba,__decorate:lS,__param:cS,__esDecorate:dS,__runInitializers:uS,__propKey:hS,__setFunctionName:fS,__metadata:mS,__awaiter:Ne,__generator:pS,__createBinding:Rh,__exportStar:xS,__values:Hu,__read:i0,__spread:gS,__spreadArrays:yS,__spreadArray:o0,__await:zo,__asyncGenerator:vS,__asyncDelegator:bS,__asyncValues:wS,__makeTemplateObject:jS,__importStar:NS,__importDefault:_S,__classPrivateFieldGet:SS,__classPrivateFieldSet:kS,__classPrivateFieldIn:CS,__addDisposableResource:ES,__disposeResources:PS,__rewriteRelativeImportExtension:TS},m6=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:ES,get __assign(){return Xr},__asyncDelegator:bS,__asyncGenerator:vS,__asyncValues:wS,__await:zo,__awaiter:Ne,__classPrivateFieldGet:SS,__classPrivateFieldIn:CS,__classPrivateFieldSet:kS,__createBinding:Rh,__decorate:lS,__disposeResources:PS,__esDecorate:dS,__exportStar:xS,__extends:oS,__generator:pS,__importDefault:_S,__importStar:NS,__makeTemplateObject:jS,__metadata:mS,__param:cS,__propKey:hS,__read:i0,__rest:ba,__rewriteRelativeImportExtension:TS,__runInitializers:uS,__setFunctionName:fS,__spread:gS,__spreadArray:o0,__spreadArrays:yS,__values:Hu,default:f6},Symbol.toStringTag,{value:"Module"})),p6="modulepreload",x6=function(e){return"/"+e},Sb={},wa=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=x6(c),c in Sb)return;Sb[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":p6,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((m,x)=>{h.addEventListener("load",m),h.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},g6=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>wa(async()=>{const{default:n}=await Promise.resolve().then(()=>ji);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class l0 extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class kb extends l0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Cb extends l0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Eb extends l0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Hp;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Hp||(Hp={}));class y6{constructor(t,{headers:r={},customFetch:n,region:a=Hp.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=g6(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Ne(this,arguments,void 0,function*(r,n={}){var a;try{const{headers:i,method:o,body:l,signal:c}=n;let d={},{region:u}=n;u||(u=this.region);const h=new URL(`${this.url}/${r}`);u&&u!=="any"&&(d["x-region"]=u,h.searchParams.set("forceFunctionRegion",u));let m;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",m=l):typeof l=="string"?(d["Content-Type"]="text/plain",m=l):typeof FormData<"u"&&l instanceof FormData?m=l:(d["Content-Type"]="application/json",m=JSON.stringify(l)):m=l;const x=yield this.fetch(h.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),i),body:m,signal:c}).catch(b=>{throw b.name==="AbortError"?b:new kb(b)}),g=x.headers.get("x-relay-error");if(g&&g==="true")throw new Cb(x);if(!x.ok)throw new Eb(x);let v=((a=x.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),w;return v==="application/json"?w=yield x.json():v==="application/octet-stream"||v==="application/pdf"?w=yield x.blob():v==="text/event-stream"?w=x:v==="multipart/form-data"?w=yield x.formData():w=yield x.text(),{data:w,error:null,response:x}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new kb(i)}:{data:null,error:i,response:i instanceof Eb||i instanceof Cb?i.context:void 0}}})}}var jr={};const rl=RN(m6);var kd={},Cd={},Ed={},Pd={},Td={},v6=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Wo=v6();const b6=Wo.fetch,AS=Wo.fetch.bind(Wo),RS=Wo.Headers,w6=Wo.Request,j6=Wo.Response,ji=Object.freeze(Object.defineProperty({__proto__:null,Headers:RS,Request:w6,Response:j6,default:AS,fetch:b6},Symbol.toStringTag,{value:"Module"})),N6=RN(ji);var Ad={},Pb;function IS(){if(Pb)return Ad;Pb=1,Object.defineProperty(Ad,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Ad.default=e,Ad}var Tb;function OS(){if(Tb)return Td;Tb=1,Object.defineProperty(Td,"__esModule",{value:!0});const e=rl,t=e.__importDefault(N6),r=e.__importDefault(IS());class n{constructor(i){var o,l;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(l=i.isMaybeSingle)!==null&&l!==void 0?l:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var u,h,m,x;let g=null,v=null,w=null,b=d.status,p=d.statusText;if(d.ok){if(this.method!=="HEAD"){const k=await d.text();k===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?v=k:v=JSON.parse(k))}const j=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),N=(m=d.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");j&&N&&N.length>1&&(w=parseInt(N[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(g={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,w=null,b=406,p="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const j=await d.text();try{g=JSON.parse(j),Array.isArray(g)&&d.status===404&&(v=[],g=null,b=200,p="OK")}catch{d.status===404&&j===""?(b=204,p="No Content"):g={message:j}}if(g&&this.isMaybeSingle&&(!((x=g==null?void 0:g.details)===null||x===void 0)&&x.includes("0 rows"))&&(g=null,b=200,p="OK"),g&&this.shouldThrowOnError)throw new r.default(g)}return{error:g,data:v,count:w,status:b,statusText:p}});return this.shouldThrowOnError||(c=c.catch(d=>{var u,h,m;return{error:{message:`${(u=d==null?void 0:d.name)!==null&&u!==void 0?u:"FetchError"}: ${d==null?void 0:d.message}`,details:`${(h=d==null?void 0:d.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(m=d==null?void 0:d.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),c.then(i,o)}returns(){return this}overrideTypes(){return this}}return Td.default=n,Td}var Ab;function LS(){if(Ab)return Pd;Ab=1,Object.defineProperty(Pd,"__esModule",{value:!0});const t=rl.__importDefault(OS());class r extends t.default{select(a){let i=!1;const o=(a??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const d=c?`${c}.order`:"order",u=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${u?`${u},`:""}${a}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:o=i}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${a}`),this}range(a,i,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"offset":`${l}.offset`,d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${a}`),this.url.searchParams.set(d,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:d="text"}={}){var u;const h=[a?"analyze":null,i?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),m=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${m}"; options=${h};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return Pd.default=r,Pd}var Rb;function c0(){if(Rb)return Ed;Rb=1,Object.defineProperty(Ed,"__esModule",{value:!0});const t=rl.__importDefault(LS());class r extends t.default{eq(a,i){return this.url.searchParams.append(a,`eq.${i}`),this}neq(a,i){return this.url.searchParams.append(a,`neq.${i}`),this}gt(a,i){return this.url.searchParams.append(a,`gt.${i}`),this}gte(a,i){return this.url.searchParams.append(a,`gte.${i}`),this}lt(a,i){return this.url.searchParams.append(a,`lt.${i}`),this}lte(a,i){return this.url.searchParams.append(a,`lte.${i}`),this}like(a,i){return this.url.searchParams.append(a,`like.${i}`),this}likeAllOf(a,i){return this.url.searchParams.append(a,`like(all).{${i.join(",")}}`),this}likeAnyOf(a,i){return this.url.searchParams.append(a,`like(any).{${i.join(",")}}`),this}ilike(a,i){return this.url.searchParams.append(a,`ilike.${i}`),this}ilikeAllOf(a,i){return this.url.searchParams.append(a,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(a,i){return this.url.searchParams.append(a,`ilike(any).{${i.join(",")}}`),this}is(a,i){return this.url.searchParams.append(a,`is.${i}`),this}in(a,i){const o=Array.from(new Set(i)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(a,`in.(${o})`),this}contains(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cs.{${i.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(i)}`),this}containedBy(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cd.{${i.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(i)}`),this}rangeGt(a,i){return this.url.searchParams.append(a,`sr.${i}`),this}rangeGte(a,i){return this.url.searchParams.append(a,`nxl.${i}`),this}rangeLt(a,i){return this.url.searchParams.append(a,`sl.${i}`),this}rangeLte(a,i){return this.url.searchParams.append(a,`nxr.${i}`),this}rangeAdjacent(a,i){return this.url.searchParams.append(a,`adj.${i}`),this}overlaps(a,i){return typeof i=="string"?this.url.searchParams.append(a,`ov.${i}`):this.url.searchParams.append(a,`ov.{${i.join(",")}}`),this}textSearch(a,i,{config:o,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const d=o===void 0?"":`(${o})`;return this.url.searchParams.append(a,`${c}fts${d}.${i}`),this}match(a){return Object.entries(a).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(a,i,o){return this.url.searchParams.append(a,`not.${i}.${o}`),this}or(a,{foreignTable:i,referencedTable:o=i}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${a})`),this}filter(a,i,o){return this.url.searchParams.append(a,`${i}.${o}`),this}}return Ed.default=r,Ed}var Ib;function MS(){if(Ib)return Cd;Ib=1,Object.defineProperty(Cd,"__esModule",{value:!0});const t=rl.__importDefault(c0());class r{constructor(a,{headers:i={},schema:o,fetch:l}){this.url=a,this.headers=new Headers(i),this.schema=o,this.fetch=l}select(a,i){const{head:o=!1,count:l}=i??{},c=o?"HEAD":"GET";let d=!1;const u=(a??"*").split("").map(h=>/\s/.test(h)&&!d?"":(h==='"'&&(d=!d),h)).join("");return this.url.searchParams.set("select",u),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:o=!0}={}){var l;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const d=a.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(d.length>0){const u=[...new Set(d)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){var d;const u="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const h=a.reduce((m,x)=>m.concat(Object.keys(x)),[]);if(h.length>0){const m=[...new Set(h)].map(x=>`"${x}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(a,{count:i}={}){var o;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:a}={}){var i;const o="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Cd.default=r,Cd}var Ob;function _6(){if(Ob)return kd;Ob=1,Object.defineProperty(kd,"__esModule",{value:!0});const e=rl,t=e.__importDefault(MS()),r=e.__importDefault(c0());class n{constructor(i,{headers:o={},schema:l,fetch:c}={}){this.url=i,this.headers=new Headers(o),this.schemaName=l,this.fetch=c}from(i){const o=new URL(`${this.url}/${i}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:l=!1,get:c=!1,count:d}={}){var u;let h;const m=new URL(`${this.url}/rpc/${i}`);let x;l||c?(h=l?"HEAD":"GET",Object.entries(o).filter(([v,w])=>w!==void 0).map(([v,w])=>[v,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([v,w])=>{m.searchParams.append(v,w)})):(h="POST",x=o);const g=new Headers(this.headers);return d&&g.set("Prefer",`count=${d}`),new r.default({method:h,url:m,headers:g,schema:this.schemaName,body:x,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return kd.default=n,kd}Object.defineProperty(jr,"__esModule",{value:!0});jr.PostgrestError=jr.PostgrestBuilder=jr.PostgrestTransformBuilder=jr.PostgrestFilterBuilder=jr.PostgrestQueryBuilder=jr.PostgrestClient=void 0;const sl=rl,DS=sl.__importDefault(_6());jr.PostgrestClient=DS.default;const FS=sl.__importDefault(MS());jr.PostgrestQueryBuilder=FS.default;const $S=sl.__importDefault(c0());jr.PostgrestFilterBuilder=$S.default;const US=sl.__importDefault(LS());jr.PostgrestTransformBuilder=US.default;const VS=sl.__importDefault(OS());jr.PostgrestBuilder=VS.default;const BS=sl.__importDefault(IS());jr.PostgrestError=BS.default;var S6=jr.default={PostgrestClient:DS.default,PostgrestQueryBuilder:FS.default,PostgrestFilterBuilder:$S.default,PostgrestTransformBuilder:US.default,PostgrestBuilder:VS.default,PostgrestError:BS.default};const{PostgrestClient:k6,PostgrestQueryBuilder:_H,PostgrestFilterBuilder:SH,PostgrestTransformBuilder:kH,PostgrestBuilder:CH,PostgrestError:EH}=S6;class C6{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const E6="2.76.1",P6=`realtime-js/${E6}`,T6="1.0.0",Gp=1e4,A6=1e3,R6=100;var Bl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Bl||(Bl={}));var Ot;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ot||(Ot={}));var xs;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(xs||(xs={}));var Kp;(function(e){e.websocket="websocket"})(Kp||(Kp={}));var Ma;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ma||(Ma={}));class I6{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+a));o=o+a;const c=n.decode(t.slice(o,o+i));o=o+i;const d=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class zS{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var et;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(et||(et={}));const Lb=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=O6(o,e,t,a),i),{}):{}},O6=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?WS(i,o):Yp(o)},WS=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return F6(t,r)}switch(e){case et.bool:return L6(t);case et.float4:case et.float8:case et.int2:case et.int4:case et.int8:case et.numeric:case et.oid:return M6(t);case et.json:case et.jsonb:return D6(t);case et.timestamp:return $6(t);case et.abstime:case et.date:case et.daterange:case et.int4range:case et.int8range:case et.money:case et.reltime:case et.text:case et.time:case et.timestamptz:case et.timetz:case et.tsrange:case et.tstzrange:return Yp(t);default:return Yp(t)}},Yp=e=>e,L6=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},M6=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},D6=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},F6=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>WS(t,l))}return e},$6=e=>typeof e=="string"?e.replace(" ","T"):e,qS=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Jf{constructor(t,r,n={},a=Gp){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Mb;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Mb||(Mb={}));class zl{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=zl.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=zl.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=zl.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const h=i[d];if(h){const m=u.map(w=>w.presence_ref),x=h.map(w=>w.presence_ref),g=u.filter(w=>x.indexOf(w.presence_ref)<0),v=h.filter(w=>m.indexOf(w.presence_ref)<0);g.length>0&&(l[d]=g),v.length>0&&(c[d]=v)}else l[d]=u}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var d;const u=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),u.length>0){const h=t[l].map(x=>x.presence_ref),m=u.filter(x=>h.indexOf(x.presence_ref)<0);t[l].unshift(...m)}n(l,u,c)}),this.map(o,(l,c)=>{let d=t[l];if(!d)return;const u=c.map(h=>h.presence_ref);d=d.filter(h=>u.indexOf(h.presence_ref)<0),t[l]=d,a(l,d,c),d.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Db;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Db||(Db={}));var Wl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Wl||(Wl={}));var en;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(en||(en={}));class d0{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ot.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Jf(this,xs.join,this.params,this.timeout),this.rejoinTimer=new zS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ot.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ot.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ot.errored,this.rejoinTimer.scheduleTimeout())}),this._on(xs.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new zl(this),this.broadcastEndpointURL=qS(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Ot.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,d=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(x=>x.filter))!==null&&a!==void 0?a:[],u=!!this.bindings[Wl.PRESENCE]&&this.bindings[Wl.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},m={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:u}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(x=>t==null?void 0:t(en.CHANNEL_ERROR,x)),this._onClose(()=>t==null?void 0:t(en.CLOSED)),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:x})=>{var g;if(this.socket.setAuth(),x===void 0){t==null||t(en.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,w=(g=v==null?void 0:v.length)!==null&&g!==void 0?g:0,b=[];for(let p=0;p<w;p++){const y=v[p],{filter:{event:j,schema:N,table:k,filter:_}}=y,S=x&&x[p];if(S&&S.event===j&&S.schema===N&&S.table===k&&S.filter===_)b.push(Object.assign(Object.assign({},y),{id:S.id}));else{this.unsubscribe(),this.state=Ot.errored,t==null||t(en.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(en.SUBSCRIBED);return}}).receive("error",x=>{this.state=Ot.errored,t==null||t(en.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(en.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Ot.joined&&t===Wl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const d=await l.json();c=d.error||d.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ot.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(xs.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Jf(this,xs.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ot.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Jf(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>R6){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=xs;if(n&&[l,c,d,u].indexOf(o)>=0&&n!==this._joinRef())return;let m=this._onMessage(o,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(x=>{var g,v,w;return((g=x.filter)===null||g===void 0?void 0:g.event)==="*"||((w=(v=x.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(x=>x.callback(m,n)):(i=this.bindings[o])===null||i===void 0||i.filter(x=>{var g,v,w,b,p,y;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in x){const j=x.id,N=(g=x.filter)===null||g===void 0?void 0:g.event;return j&&((v=r.ids)===null||v===void 0?void 0:v.includes(j))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const j=(p=(b=x==null?void 0:x.filter)===null||b===void 0?void 0:b.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return j==="*"||j===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===o}).map(x=>{if(typeof m=="object"&&"ids"in m){const g=m.data,{schema:v,table:w,commit_timestamp:b,type:p,errors:y}=g;m=Object.assign(Object.assign({},{schema:v,table:w,commit_timestamp:b,eventType:p,new:{},old:{},errors:y}),this._getPayloadRecords(g))}x.callback(m,n)})}_isClosed(){return this.state===Ot.closed}_isJoined(){return this.state===Ot.joined}_isJoining(){return this.state===Ot.joining}_isLeaving(){return this.state===Ot.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&d0.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(xs.close,{},t)}_onError(t){this._on(xs.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ot.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Lb(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Lb(t.columns,t.old_record)),r}}const Qf=()=>{},Rd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},U6=[1e3,2e3,5e3,1e4],V6=1e4,B6=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class z6{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Gp,this.transport=null,this.heartbeatIntervalMs=Rd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Qf,this.ref=0,this.reconnectTimer=null,this.logger=Qf,this.conn=null,this.sendBuffer=[],this.serializer=new I6,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>wa(async()=>{const{default:l}=await Promise.resolve().then(()=>ji);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Kp.websocket}`,this.httpEndpoint=qS(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=C6.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:T6}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Bl.connecting:return Ma.Connecting;case Bl.open:return Ma.Open;case Bl.closing:return Ma.Closing;default:return Ma.Closed}}isConnected(){return this.connectionState()===Ma.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new d0(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(A6,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Rd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(xs.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([B6],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:P6};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(xs.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new zS(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Rd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,l,c,d,u;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Gp,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:Rd.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Qf,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:h=>U6[h-1]||V6,this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(h,m)=>m(JSON.stringify(h)),this.decode=(u=t==null?void 0:t.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class u0 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function dt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class W6 extends u0{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Jp extends u0{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const h0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>wa(async()=>{const{default:n}=await Promise.resolve().then(()=>ji);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},q6=()=>Ne(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield wa(()=>Promise.resolve().then(()=>ji),void 0)).Response:Response}),Qp=e=>{if(Array.isArray(e))return e.map(r=>Qp(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=Qp(n)}),t},H6=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Xf=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),G6=(e,t,r)=>Ne(void 0,void 0,void 0,function*(){const n=yield q6();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const i=e.status||500,o=(a==null?void 0:a.statusCode)||i+"";t(new W6(Xf(a),i,o))}).catch(a=>{t(new Jp(Xf(a),a))}):t(new Jp(Xf(e),e))}),K6=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(H6(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function qc(e,t,r,n,a,i){return Ne(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,K6(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>G6(c,l,n))})})}function gc(e,t,r,n){return Ne(this,void 0,void 0,function*(){return qc(e,"GET",t,r,n)})}function hs(e,t,r,n,a){return Ne(this,void 0,void 0,function*(){return qc(e,"POST",t,n,a,r)})}function Xp(e,t,r,n,a){return Ne(this,void 0,void 0,function*(){return qc(e,"PUT",t,n,a,r)})}function Y6(e,t,r,n){return Ne(this,void 0,void 0,function*(){return qc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function f0(e,t,r,n,a){return Ne(this,void 0,void 0,function*(){return qc(e,"DELETE",t,n,a,r)})}class J6{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return Ne(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(dt(t))return{data:null,error:t};throw t}})}}var HS;class Q6{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[HS]="BlobDownloadBuilder",this.promise=null}asStream(){return new J6(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Ne(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(dt(t))return{data:null,error:t};throw t}})}}HS=Symbol.toStringTag;const X6={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Fb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Z6{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=h0(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return Ne(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Fb),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),h=yield(t=="PUT"?Xp:hs)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(dt(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return Ne(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:Fb.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const h=yield Xp(this.fetch,l.toString(),c,{headers:u});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(dt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Ne(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield hs(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new u0("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ne(this,void 0,void 0,function*(){try{return{data:yield hs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(dt(a))return{data:null,error:a};throw a}})}copy(t,r,n){return Ne(this,void 0,void 0,function*(){try{return{data:{path:(yield hs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(dt(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return Ne(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield hs(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(dt(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return Ne(this,void 0,void 0,function*(){try{const a=yield hs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(dt(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",l=this._getFinalPath(t),c=()=>gc(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new Q6(c,this.shouldThrowOnError)}info(t){return Ne(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield gc(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Qp(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}})}exists(t){return Ne(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Y6(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dt(n)&&n instanceof Jp){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${d}`)}}}remove(t){return Ne(this,void 0,void 0,function*(){try{return{data:yield f0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ne(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},X6),r),{prefix:t||""});return{data:yield hs(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(dt(a))return{data:null,error:a};throw a}})}listV2(t,r){return Ne(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield hs(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const GS="2.76.1",KS={"X-Client-Info":`storage-js/${GS}`};class eI{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},KS),r),this.fetch=h0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Ne(this,void 0,void 0,function*(){try{return{data:yield gc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(dt(t))return{data:null,error:t};throw t}})}getBucket(t){return Ne(this,void 0,void 0,function*(){try{return{data:yield gc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}createBucket(t){return Ne(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield hs(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(dt(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return Ne(this,void 0,void 0,function*(){try{return{data:yield Xp(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Ne(this,void 0,void 0,function*(){try{return{data:yield hs(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ne(this,void 0,void 0,function*(){try{return{data:yield f0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}}class tI{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},KS),r),this.fetch=h0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ne(this,void 0,void 0,function*(){try{return{data:yield hs(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}listBuckets(t){return Ne(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`,i=yield gc(this.fetch,a,{headers:this.headers});return{data:Array.isArray(i)?i.filter(l=>l.type==="ANALYTICS"):[],error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ne(this,void 0,void 0,function*(){try{return{data:yield f0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}}const m0={"X-Client-Info":`storage-js/${GS}`,"Content-Type":"application/json"};class YS extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Dr(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Zf extends YS{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class rI extends YS{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var $b;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})($b||($b={}));const p0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>wa(async()=>{const{default:n}=await Promise.resolve().then(()=>ji);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},sI=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Ub=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),nI=(e,t,r)=>Ne(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e.status||500,i=e;if(typeof i.json=="function")i.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||a+"";t(new Zf(Ub(o),a,l))}).catch(()=>{const o=a+"",l=i.statusText||`HTTP ${a} error`;t(new Zf(l,a,o))});else{const o=a+"",l=i.statusText||`HTTP ${a} error`;t(new Zf(l,a,o))}}else t(new rI(Ub(e),e))}),aI=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(sI(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a};function iI(e,t,r,n,a,i){return Ne(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,aI(t,n,a,i)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const d=c.headers.get("content-type");return!d||!d.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>nI(c,l,n))})})}function Fr(e,t,r,n,a){return Ne(this,void 0,void 0,function*(){return iI(e,"POST",t,n,a,r)})}class oI{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},m0),r),this.fetch=p0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Ne(this,void 0,void 0,function*(){try{return{data:(yield Fr(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}getIndex(t,r){return Ne(this,void 0,void 0,function*(){try{return{data:yield Fr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Dr(n))return{data:null,error:n};throw n}})}listIndexes(t){return Ne(this,void 0,void 0,function*(){try{return{data:yield Fr(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return Ne(this,void 0,void 0,function*(){try{return{data:(yield Fr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Dr(n))return{data:null,error:n};throw n}})}}class lI{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},m0),r),this.fetch=p0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Ne(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Fr(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}getVectors(t){return Ne(this,void 0,void 0,function*(){try{return{data:yield Fr(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}listVectors(t){return Ne(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Fr(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}queryVectors(t){return Ne(this,void 0,void 0,function*(){try{return{data:yield Fr(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}deleteVectors(t){return Ne(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Fr(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}}class cI{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},m0),r),this.fetch=p0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ne(this,void 0,void 0,function*(){try{return{data:(yield Fr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}getBucket(t){return Ne(this,void 0,void 0,function*(){try{return{data:yield Fr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}listBuckets(){return Ne(this,arguments,void 0,function*(t={}){try{return{data:yield Fr(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ne(this,void 0,void 0,function*(){try{return{data:(yield Fr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dr(r))return{data:null,error:r};throw r}})}}class dI extends cI{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new uI(this.url,this.headers,t,this.fetch)}}class uI extends oI{constructor(t,r,n,a){super(t,r,a),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Ne(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Ne(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Ne(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Ne(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new hI(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class hI extends lI{constructor(t,r,n,a,i){super(t,r,i),this.vectorBucketName=n,this.indexName=a}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Ne(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Ne(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Ne(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Ne(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Ne(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class fI extends eI{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new Z6(this.url,this.headers,t,this.fetch)}get vectors(){return new dI(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new tI(this.url+"/iceberg",this.headers,this.fetch)}}const mI="2.76.1";let Pl="";typeof Deno<"u"?Pl="deno":typeof document<"u"?Pl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Pl="react-native":Pl="node";const pI={"X-Client-Info":`supabase-js-${Pl}/${mI}`},xI={headers:pI},gI={schema:"public"},yI={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},vI={},bI=e=>{let t;return e?t=e:typeof fetch>"u"?t=AS:t=fetch,(...r)=>t(...r)},wI=()=>typeof Headers>"u"?RS:Headers,jI=(e,t,r)=>{const n=bI(r),a=wI();return async(i,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let d=new a(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:d}))}};function NI(e){return e.endsWith("/")?e:e+"/"}function _I(e,t){var r,n;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:d,realtime:u,global:h}=t,m={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function SI(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(NI(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const JS="2.76.1",Bi=30*1e3,Zp=3,em=Zp*Bi,kI="http://localhost:9999",CI="supabase.auth.token",EI={"X-Client-Info":`gotrue-js/${JS}`},ex="X-Supabase-Api-Version",QS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},PI=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,TI=10*60*1e3;class yc extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ke(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class AI extends yc{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function RI(e){return ke(e)&&e.name==="AuthApiError"}class Da extends yc{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ja extends yc{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Cn extends ja{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function II(e){return ke(e)&&e.name==="AuthSessionMissingError"}class Ai extends ja{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Id extends ja{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Od extends ja{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function OI(e){return ke(e)&&e.name==="AuthImplicitGrantRedirectError"}class Vb extends ja{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class tx extends ja{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function tm(e){return ke(e)&&e.name==="AuthRetryableFetchError"}class Bb extends ja{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class rx extends ja{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Gu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),zb=` 	
\r=`.split(""),LI=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<zb.length;t+=1)e[zb[t].charCodeAt(0)]=-2;for(let t=0;t<Gu.length;t+=1)e[Gu[t].charCodeAt(0)]=t;return e})();function Wb(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Gu[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Gu[n]),t.queuedBits-=6}}function XS(e,t,r){const n=LI[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function qb(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{FI(o,n,r)};for(let o=0;o<e.length;o+=1)XS(e.charCodeAt(o),a,i);return t.join("")}function MI(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function DI(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}MI(n,t)}}function FI(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function xo(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)XS(e.charCodeAt(a),r,n);return new Uint8Array(t)}function $I(e){const t=[];return DI(e,r=>t.push(r)),new Uint8Array(t)}function Va(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>Wb(a,r,n)),Wb(null,r,n),t.join("")}function UI(e){return Math.round(Date.now()/1e3)+e}function VI(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Or=()=>typeof window<"u"&&typeof document<"u",Ea={tested:!1,writable:!1},ZS=()=>{if(!Or())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ea.tested)return Ea.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ea.tested=!0,Ea.writable=!0}catch{Ea.tested=!0,Ea.writable=!1}return Ea.writable};function BI(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const e2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>wa(async()=>{const{default:n}=await Promise.resolve().then(()=>ji);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},zI=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",zi=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Pa=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Nn=async(e,t)=>{await e.removeItem(t)};class Ih{constructor(){this.promise=new Ih.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Ih.promiseConstructor=Promise;function rm(e){const t=e.split(".");if(t.length!==3)throw new rx("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!PI.test(t[n]))throw new rx("JWT not in base64url format");return{header:JSON.parse(qb(t[0])),payload:JSON.parse(qb(t[1])),signature:xo(t[2]),raw:{header:t[0],payload:t[1]}}}async function WI(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function qI(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function HI(e){return("0"+e.toString(16)).substr(-2)}function GI(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,HI).join("")}async function KI(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function YI(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await KI(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ri(e,t,r=!1){const n=GI();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await zi(e,`${t}-code-verifier`,a);const i=await YI(n);return[i,n===i?"plain":"s256"]}const JI=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function QI(e){const t=e.headers.get(ex);if(!t||!t.match(JI))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function XI(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function ZI(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const eO=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ii(e){if(!eO.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function sm(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Hb(e){return JSON.parse(JSON.stringify(e))}const Oa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),tO=[502,503,504];async function Gb(e){var t;if(!zI(e))throw new tx(Oa(e),0);if(tO.includes(e.status))throw new tx(Oa(e),e.status);let r;try{r=await e.json()}catch(i){throw new Da(Oa(i),i)}let n;const a=QI(e);if(a&&a.getTime()>=QS["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Bb(Oa(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Cn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Bb(Oa(r),e.status,r.weak_password.reasons);throw new AI(Oa(r),e.status||500,n)}const rO=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Te(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[ex]||(i[ex]=QS["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await sO(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function sO(e,t,r,n,a,i){const o=rO(t,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new tx(Oa(c),0)}if(l.ok||await Gb(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Gb(c)}}function ls(e){var t;let r=null;iO(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=UI(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Kb(e){const t=ls(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Mn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function nO(e){return{data:e,error:null}}function aO(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=ba(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function Yb(e){return e}function iO(e){return e.access_token&&e.refresh_token&&e.expires_in}const nm=["global","local","others"];class oO{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=e2(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=nm[0]){if(nm.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${nm.join(", ")}`);try{return await Te(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Te(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Mn})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=ba(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:aO,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ke(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Te(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Mn})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await Te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:Yb});if(u.error)throw u.error;const h=await u.json(),m=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,x=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return x.length>0&&(x.forEach(g=>{const v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(g.split(";")[1].split("=")[1]);d[`${w}Page`]=v}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(ke(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){Ii(t);try{return await Te(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Mn})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ii(t);try{return await Te(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Mn})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Ii(t);try{return await Te(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Mn})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Ii(t.userId);try{const{data:r,error:n}=await Te(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ii(t.userId),Ii(t.id);try{return{data:await Te(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await Te(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:Yb});if(u.error)throw u.error;const h=await u.json(),m=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,x=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return x.length>0&&(x.forEach(g=>{const v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(g.split(";")[1].split("=")[1]);d[`${w}Page`]=v}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(ke(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(t){try{return await Te(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Te(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await Te(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Te(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ke(r))return{data:null,error:r};throw r}}}function Jb(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Oi={debug:!!(globalThis&&ZS()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class t2 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class lO extends t2{}async function cO(e,t,r){Oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Oi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new lO(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Oi.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function dO(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function r2(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function uO(e){return parseInt(e,16)}function hO(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function fO(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:d,scheme:u,uri:h,version:m}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const x=r2(e.address),g=u?`${u}://${n}`:n,v=e.statement?`${e.statement}
`:"",w=`${g} wants you to sign in with your Ethereum account:
${x}

${v}`;let b=`URI: ${h}
Version: ${m}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(b+=`
Expiration Time: ${a.toISOString()}`),l&&(b+=`
Not Before: ${l.toISOString()}`),c&&(b+=`
Request ID: ${c}`),d){let p=`
Resources:`;for(const y of d){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);p+=`
- ${y}`}b+=p}return`${w}
${b}`}class kt extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Ku extends kt{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function mO({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new kt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new kt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new kt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new kt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new kt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new kt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new kt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new kt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(s2(o)){if(i.rp.id!==o)return new kt({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new kt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new kt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new kt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new kt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function pO({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new kt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new kt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(s2(n)){if(r.rpId!==n)return new kt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new kt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new kt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new kt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class xO{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const gO=new xO;function yO(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=ba(e,["challenge","user","excludeCredentials"]),i=xo(t).buffer,o=Object.assign(Object.assign({},r),{id:xo(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const d=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},d),{id:xo(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function vO(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=ba(e,["challenge","allowCredentials"]),a=xo(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:xo(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function bO(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Va(new Uint8Array(e.response.attestationObject)),clientDataJSON:Va(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function wO(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Va(new Uint8Array(a.authenticatorData)),clientDataJSON:Va(new Uint8Array(a.clientDataJSON)),signature:Va(new Uint8Array(a.signature)),userHandle:a.userHandle?Va(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function s2(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Qb(){var e,t;return!!(Or()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function jO(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ku("Browser returned unexpected credential type",t)}:{data:null,error:new Ku("Empty credential response",t)}}catch(t){return{data:null,error:mO({error:t,options:e})}}}async function NO(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ku("Browser returned unexpected credential type",t)}:{data:null,error:new Ku("Empty credential response",t)}}catch(t){return{data:null,error:pO({error:t,options:e})}}}const _O={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},SO={userVerification:"preferred",hints:["security-key"]};function Yu(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const l=n[i];t(l)?n[i]=Yu(l,o):n[i]=Yu(o)}else n[i]=o}return n}function kO(e,t){return Yu(_O,e,t||{})}function CO(e,t){return Yu(SO,e,t||{})}class EO{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const c=a??gO.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:d}=o.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${n}`),d.displayName||(d.displayName=d.name)}switch(o.webauthn.type){case"create":{const d=kO(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:u,error:h}=await jO({publicKey:d,signal:c});return u?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}case"request":{const d=CO(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:u,error:h}=await NO(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:d,signal:c}));return u?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}}}catch(o){return ke(o)?{data:null,error:o}:{data:null,error:new Da("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}},i){if(!r)return{data:null,error:new yc("rpId is required for WebAuthn authentication")};try{if(!Qb())return{data:null,error:new Da("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return ke(o)?{data:null,error:o}:{data:null,error:new Da("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a},i){if(!r)return{data:null,error:new yc("rpId is required for WebAuthn registration")};try{if(!Qb())return{data:null,error:new Da("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(u=>{var h;return(h=u.data)===null||h===void 0?void 0:h.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===t&&m.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:l};const{data:c,error:d}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:d}}catch(o){return ke(o)?{data:null,error:o}:{data:null,error:new Da("Unexpected error in register",o)}}}}dO();const PO={url:kI,storageKey:CI,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:EI,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Xb(e,t,r){return await r()}const Li={};class vc{get jwks(){var t,r;return(r=(t=Li[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Li[this.storageKey]=Object.assign(Object.assign({},Li[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Li[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Li[this.storageKey]=Object.assign(Object.assign({},Li[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=vc.nextInstanceID,vc.nextInstanceID+=1,this.instanceID>0&&Or()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},PO),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new oO({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=e2(a.fetch),this.lock=a.lock||Xb,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Or()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=cO:this.lock=Xb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new EO(this)},this.persistSession?(a.storage?this.storage=a.storage:ZS()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Jb(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Jb(this.memoryStorage)),Or()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${JS}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=BI(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Or()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),OI(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ke(r)?{error:r}:{error:new Da("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:ls}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(ke(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:u,password:h,options:m}=t;let x=null,g=null;this.flowType==="pkce"&&([x,g]=await Ri(this.storage,this.storageKey)),i=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:u,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:x,code_challenge_method:g},xform:ls})}else if("phone"in t){const{phone:u,password:h,options:m}=t;i=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(a=m==null?void 0:m.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:ls})}else throw new Id("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(ke(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await Te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Kb})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await Te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Kb})}else throw new Id("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Ai}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(ke(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,o,l,c,d,u,h,m;let x,g;if("message"in t)x=t.message,g=t.signature;else{const{chain:v,wallet:w,statement:b,options:p}=t;let y;if(Or())if(typeof w=="object")y=w;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")y=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=w}const j=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href),N=await y.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=r2(N[0]);let _=(n=p==null?void 0:p.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!_){const P=await y.request({method:"eth_chainId"});_=uO(P)}const S={domain:j.host,address:k,statement:b,uri:j.href,version:"1",chainId:_,nonce:(a=p==null?void 0:p.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=p==null?void 0:p.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=p==null?void 0:p.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=p==null?void 0:p.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(d=p==null?void 0:p.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(u=p==null?void 0:p.signInWithEthereum)===null||u===void 0?void 0:u.resources};x=fO(S),g=await y.request({method:"personal_sign",params:[hO(x),k]})}try{const{data:v,error:w}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:g},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:ls});if(w)throw w;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new Ai}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:w})}catch(v){if(ke(v))return{data:{user:null,session:null},error:v};throw v}}async signInWithSolana(t){var r,n,a,i,o,l,c,d,u,h,m,x;let g,v;if("message"in t)g=t.message,v=t.signature;else{const{chain:w,wallet:b,statement:p,options:y}=t;let j;if(Or())if(typeof b=="object")j=b;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))j=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=b}const N=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const k=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),p?{statement:p}:null));let _;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")_=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)_=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)g=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),v=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${N.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(a=(n=y==null?void 0:y.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((d=y==null?void 0:y.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((h=(u=y==null?void 0:y.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...y.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const k=await j.signMessage(new TextEncoder().encode(g),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=k}}try{const{data:w,error:b}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Va(v)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:ls});if(b)throw b;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Ai}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:b})}catch(w){if(ke(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const r=await Pa(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ls});if(await Nn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ai}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(ke(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await Te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ls}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Ai}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(ke(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await Ri(this.storage,this.storageKey));const{error:h}=await Te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:u}=await Te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new Id("You must provide either an email or phone number.")}catch(l){if(ke(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:ls});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(ke(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Ri(this.storage,this.storageKey)),await Te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:nO})}catch(i){if(ke(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Cn;const{error:a}=await Te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(ke(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await Te(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await Te(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Id("You must provide either an email or phone number and a type")}catch(r){if(ke(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Pa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<em:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Pa(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=sm()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,d,u)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Mn}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Cn}:await Te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Mn})})}catch(r){if(ke(r))return II(r)&&(await this._removeSession(),await Nn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Cn;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Ri(this.storage,this.storageKey));const{data:d,error:u}=await Te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Mn});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Cn;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=rm(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(ke(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Cn;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ke(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Or())throw new Od("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Od(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Vb("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Od("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Vb("No code detected.");const{data:p,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=t;if(!i||!l||!o||!d)throw new Od("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(l);let m=u+h;c&&(m=parseInt(c));const x=m-u;x*1e3<=Bi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${h}s`);const g=m-h;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,m,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,m,u);const{data:v,error:w}=await this._getUser(i);if(w)throw w;const b={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:h,expires_at:m,refresh_token:o,token_type:d,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:t.type},error:null}}catch(n){if(ke(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Pa(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(RI(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Nn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=VI(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Ri(this.storage,this.storageKey,!0));try{return await Te(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(ke(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,d,u;const{data:h,error:m}=i;if(m)throw m;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Te(this.fetch,"GET",x,{headers:this.headers,jwt:(u=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return Or()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ke(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:l,token:c,access_token:d,nonce:u}=t,h=await Te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:d,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ls}),{data:m,error:x}=h;return x?{data:{user:null,session:null},error:x}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new Ai}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),{data:m,error:x})}catch(a){if(ke(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await Te(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await qI(async a=>(a>0&&await WI(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ls})),(a,i)=>{const o=200*Math.pow(2,a);return i&&tm(i)&&Date.now()+o-n<Bi})}catch(n){if(this._debug(r,"error",n),ke(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Or()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Pa(this.storage,this.storageKey);if(a&&this.userStorage){let o=await Pa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await zi(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:sm()}else if(a&&!a.user&&!a.user){const o=await Pa(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await Nn(this.storage,this.storageKey+"-user"),await zi(this.storage,this.storageKey,a)):a.user=sm()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<em;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${em}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),tm(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Cn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Ih;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Cn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),ke(i)){const o={data:null,error:i};return tm(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await zi(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=Hb(a);await zi(this.storage,this.storageKey,i)}else{const a=Hb(r);await zi(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Nn(this.storage,this.storageKey),await Nn(this.storage,this.storageKey+"-code-verifier"),await Nn(this.storage,this.storageKey+"-user"),this.userStorage&&await Nn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Or()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Bi);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Bi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Bi}ms, refresh threshold is ${Zp} ticks`),a<=Zp&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof t2)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Or()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Ri(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Te(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:d}=await Te(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&c.type==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(ke(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?bO(t.webauthn.credential_response):wO(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await Te(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(r){if(ke(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=await Te(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:yO(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:vO(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ke(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=rm(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+TI>a)return n;const{data:i,error:o}=await Te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:x,error:g}=await this.getSession();if(g||!x.session)return{data:null,error:g};n=x.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=rm(n);r!=null&&r.allowExpired||XI(i.exp);const d=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:x}=await this.getUser(n);if(x)throw x;return{data:{claims:i,header:a,signature:o},error:null}}const u=ZI(a.alg),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,$I(`${l}.${c}`)))throw new rx("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}}}vc.nextInstanceID=0;const TO=vc;class AO extends TO{constructor(t){super(t)}}class RO{constructor(t,r,n){var a,i,o;this.supabaseUrl=t,this.supabaseKey=r;const l=SI(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:gI,realtime:vI,auth:Object.assign(Object.assign({},yI),{storageKey:c}),global:xI},u=_I(n??{},d);this.storageKey=(a=u.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=jI(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new k6(new URL("rest/v1",l).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new fI(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new y6(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:o,flowType:l,lock:c,debug:d},u,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new AO({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),u),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:l,lock:c,debug:d,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new z6(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const n2=(e,t,r)=>new RO(e,t,r);function IO(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}IO()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");let am=null,im=null;const Ju="https://qkcuykpndrolrewwnkwb.supabase.co",vs="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFrY3V5a3BuZHJvbHJld3dua3diIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkzODIwNzAsImV4cCI6MjA2NDk1ODA3MH0.gamp40tIrDSMaI5_YMIrn3qCR-oVdx__YtvBl75yOJs",OO=()=>(am||(am=n2(Ju,vs,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storageKey:"dimes-only-auth"}})),am),LO=()=>(im||(im=n2(Ju,"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFrY3V5a3BuZHJvbHJld3dua3diIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc0OTM4MjA3MCwiZXhwIjoyMDY0OTU4MDcwfQ.ayaH1xWQQU-KzPkS5Zufk_Ss6wHns95u6DBhtdLKFN8",{auth:{storageKey:"dimes-only-admin-auth"}})),im),I=OO(),Ve=LO(),MO={sidebarOpen:!1,toggleSidebar:()=>{},user:null,setUser:()=>{},loading:!0},a2=f.createContext(MO),Es=()=>f.useContext(a2),DO=({children:e})=>{const[t,r]=f.useState(!1),[n,a]=f.useState(null),[i,o]=f.useState(!0),[l,c]=f.useState(!1),d=()=>{r(h=>!h)},u=async h=>{try{console.log("Fetching user data from database for ID:",h);const{data:m,error:x}=await I.from("users").select("*").eq("id",h).single();if(x)return console.error("Error fetching user from database:",x),null;if(m)return console.log("User data fetched from database:",m),{id:String(m.id),username:String(m.username),email:String(m.email),firstName:String(m.first_name||""),lastName:String(m.last_name||""),userType:String(m.user_type||""),profilePhoto:String(m.profile_photo||""),bannerPhoto:String(m.banner_photo||""),mobileNumber:String(m.mobile_number||""),address:String(m.address||""),city:String(m.city||""),state:String(m.state||""),zip:String(m.zip||""),gender:String(m.gender||""),membershipType:String(m.membership_type||""),tipsEarned:Number(m.tips_earned||0),referralFees:Number(m.referral_fees||0),overrides:Number(m.overrides||0),weeklyHours:Number(m.weekly_hours||0),isRanked:!!m.is_ranked,rankNumber:Number(m.rank_number||0)}}catch(m){console.error("Error in fetchUserFromDatabase:",m)}return null};return f.useEffect(()=>{(async()=>{if(!l){console.log("Initializing user data..."),c(!0);try{const m=localStorage.getItem("authToken"),x=sessionStorage.getItem("userData");if(m&&x)try{const w=JSON.parse(x);console.log("Found user data in session storage:",w),a(w),o(!1);return}catch(w){console.error("Error parsing saved user data:",w)}if(m&&m.startsWith("authenticated_")){const w=m.replace("authenticated_","");console.log("Found custom auth token for user:",w);const b=await u(w);if(b){a(b),o(!1);return}}if(m&&!m.startsWith("authenticated_")){console.log("Found Supabase Auth token, checking session...");const{data:{session:w},error:b}=await I.auth.getSession();if(w!=null&&w.user){console.log("Found valid Supabase session:",w.user.id);const p=await u(w.user.id);if(p){a(p),o(!1);return}}}const{data:{session:g},error:v}=await I.auth.getSession();if(v)console.error("Error getting session:",v);else if(g!=null&&g.user){console.log("Found Supabase session:",g.user.id);const w=await u(g.user.id);w&&(a(w),sessionStorage.setItem("userData",JSON.stringify(w)),sessionStorage.setItem("currentUser",w.username),localStorage.setItem("authToken",g.access_token))}else console.log("No active session found")}catch(m){console.error("Error in initialization:",m)}finally{console.log("Initialization complete, setting loading to false"),o(!1)}}})()},[l]),f.useEffect(()=>{n?(sessionStorage.setItem("userData",JSON.stringify(n)),sessionStorage.setItem("currentUser",n.username)):(sessionStorage.removeItem("userData"),sessionStorage.removeItem("currentUser"),localStorage.removeItem("authToken"))},[n]),f.useEffect(()=>{const{data:{subscription:h}}=I.auth.onAuthStateChange(async(m,x)=>{console.log("Auth state changed:",m),m==="SIGNED_OUT"&&(console.log("User signed out, clearing user data"),a(null))});return()=>h.unsubscribe()},[]),s.jsx(a2.Provider,{value:{sidebarOpen:t,toggleSidebar:d,user:n,setUser:a,loading:i},children:e})},FO=1,$O=1e6;let om=0;function UO(){return om=(om+1)%Number.MAX_SAFE_INTEGER,om.toString()}const lm=new Map,Zb=e=>{if(lm.has(e))return;const t=setTimeout(()=>{lm.delete(e),ql({type:"REMOVE_TOAST",toastId:e})},$O);lm.set(e,t)},VO=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,FO)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Zb(r):e.toasts.forEach(n=>{Zb(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},cu=[];let du={toasts:[]};function ql(e){du=VO(du,e),cu.forEach(t=>{t(du)})}function uu({...e}){const t=UO(),r=a=>ql({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>ql({type:"DISMISS_TOAST",toastId:t});return ql({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function Pe(){const[e,t]=f.useState(du);return f.useEffect(()=>(cu.push(t),()=>{const r=cu.indexOf(t);r>-1&&cu.splice(r,1)}),[e]),{...e,toast:uu,dismiss:r=>ql({type:"DISMISS_TOAST",toastId:r})}}function we(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function ew(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function i2(...e){return t=>{let r=!1;const n=e.map(a=>{const i=ew(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():ew(e[a],null)}}}}function Le(...e){return f.useCallback(i2(...e),e)}function BO(e,t){const r=f.createContext(t),n=i=>{const{children:o,...l}=i,c=f.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=f.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function tr(e,t=[]){let r=[];function n(i,o){const l=f.createContext(o),c=r.length;r=[...r,o];const d=h=>{var b;const{scope:m,children:x,...g}=h,v=((b=m==null?void 0:m[e])==null?void 0:b[c])||l,w=f.useMemo(()=>g,Object.values(g));return s.jsx(v.Provider,{value:w,children:x})};d.displayName=i+"Provider";function u(h,m){var v;const x=((v=m==null?void 0:m[e])==null?void 0:v[c])||l,g=f.useContext(x);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=r.map(o=>f.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return f.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,zO(a,...t)]}function zO(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function qo(e){const t=qO(e),r=f.forwardRef((n,a)=>{const{children:i,...o}=n,l=f.Children.toArray(i),c=l.find(GO);if(c){const d=c.props.children,u=l.map(h=>h===c?f.Children.count(d)>1?f.Children.only(null):f.isValidElement(d)?d.props.children:null:h);return s.jsx(t,{...o,ref:a,children:f.isValidElement(d)?f.cloneElement(d,void 0,u):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var WO=qo("Slot");function qO(e){const t=f.forwardRef((r,n)=>{const{children:a,...i}=r;if(f.isValidElement(a)){const o=YO(a),l=KO(i,a.props);return a.type!==f.Fragment&&(l.ref=n?i2(n,o):o),f.cloneElement(a,l)}return f.Children.count(a)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var o2=Symbol("radix.slottable");function HO(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=o2,t}function GO(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===o2}function KO(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function YO(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Oh(e){const t=e+"CollectionProvider",[r,n]=tr(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:w,children:b}=v,p=He.useRef(null),y=He.useRef(new Map).current;return s.jsx(a,{scope:w,itemMap:y,collectionRef:p,children:b})};o.displayName=t;const l=e+"CollectionSlot",c=qo(l),d=He.forwardRef((v,w)=>{const{scope:b,children:p}=v,y=i(l,b),j=Le(w,y.collectionRef);return s.jsx(c,{ref:j,children:p})});d.displayName=l;const u=e+"CollectionItemSlot",h="data-radix-collection-item",m=qo(u),x=He.forwardRef((v,w)=>{const{scope:b,children:p,...y}=v,j=He.useRef(null),N=Le(w,j),k=i(u,b);return He.useEffect(()=>(k.itemMap.set(j,{ref:j,...y}),()=>void k.itemMap.delete(j))),s.jsx(m,{[h]:"",ref:N,children:p})});x.displayName=u;function g(v){const w=i(e+"CollectionConsumer",v);return He.useCallback(()=>{const p=w.collectionRef.current;if(!p)return[];const y=Array.from(p.querySelectorAll(`[${h}]`));return Array.from(w.itemMap.values()).sort((k,_)=>y.indexOf(k.ref.current)-y.indexOf(_.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:d,ItemSlot:x},g,n]}var JO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],je=JO.reduce((e,t)=>{const r=qo(`Primitive.${t}`),n=f.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function l2(e,t){e&&vi.flushSync(()=>e.dispatchEvent(t))}function Pt(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function QO(e,t=globalThis==null?void 0:globalThis.document){const r=Pt(e);f.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var XO="DismissableLayer",sx="dismissableLayer.update",ZO="dismissableLayer.pointerDownOutside",eL="dismissableLayer.focusOutside",tw,c2=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Hc=f.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,d=f.useContext(c2),[u,h]=f.useState(null),m=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=f.useState({}),g=Le(t,_=>h(_)),v=Array.from(d.layers),[w]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),b=v.indexOf(w),p=u?v.indexOf(u):-1,y=d.layersWithOutsidePointerEventsDisabled.size>0,j=p>=b,N=rL(_=>{const S=_.target,P=[...d.branches].some(C=>C.contains(S));!j||P||(a==null||a(_),o==null||o(_),_.defaultPrevented||l==null||l())},m),k=sL(_=>{const S=_.target;[...d.branches].some(C=>C.contains(S))||(i==null||i(_),o==null||o(_),_.defaultPrevented||l==null||l())},m);return QO(_=>{p===d.layers.size-1&&(n==null||n(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},m),f.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(tw=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),rw(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=tw)}},[u,m,r,d]),f.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),rw())},[u,d]),f.useEffect(()=>{const _=()=>x({});return document.addEventListener(sx,_),()=>document.removeEventListener(sx,_)},[]),s.jsx(je.div,{...c,ref:g,style:{pointerEvents:y?j?"auto":"none":void 0,...e.style},onFocusCapture:we(e.onFocusCapture,k.onFocusCapture),onBlurCapture:we(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:we(e.onPointerDownCapture,N.onPointerDownCapture)})});Hc.displayName=XO;var tL="DismissableLayerBranch",d2=f.forwardRef((e,t)=>{const r=f.useContext(c2),n=f.useRef(null),a=Le(t,n);return f.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(je.div,{...e,ref:a})});d2.displayName=tL;function rL(e,t=globalThis==null?void 0:globalThis.document){const r=Pt(e),n=f.useRef(!1),a=f.useRef(()=>{});return f.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){u2(ZO,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function sL(e,t=globalThis==null?void 0:globalThis.document){const r=Pt(e),n=f.useRef(!1);return f.useEffect(()=>{const a=i=>{i.target&&!n.current&&u2(eL,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function rw(){const e=new CustomEvent(sx);document.dispatchEvent(e)}function u2(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?l2(a,i):a.dispatchEvent(i)}var nL=Hc,aL=d2,wt=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},iL="Portal",Lh=f.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=f.useState(!1);wt(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?W3.createPortal(s.jsx(je.div,{...n,ref:t}),o):null});Lh.displayName=iL;function oL(e,t){return f.useReducer((r,n)=>t[r][n]??r,e)}var Ir=e=>{const{present:t,children:r}=e,n=lL(t),a=typeof r=="function"?r({present:n.isPresent}):f.Children.only(r),i=Le(n.ref,cL(a));return typeof r=="function"||n.isPresent?f.cloneElement(a,{ref:i}):null};Ir.displayName="Presence";function lL(e){const[t,r]=f.useState(),n=f.useRef(null),a=f.useRef(e),i=f.useRef("none"),o=e?"mounted":"unmounted",[l,c]=oL(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const d=Ld(n.current);i.current=l==="mounted"?d:"none"},[l]),wt(()=>{const d=n.current,u=a.current;if(u!==e){const m=i.current,x=Ld(d);e?c("MOUNT"):x==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&m!==x?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),wt(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,h=x=>{const v=Ld(n.current).includes(CSS.escape(x.animationName));if(x.target===t&&v&&(c("ANIMATION_END"),!a.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},m=x=>{x.target===t&&(i.current=Ld(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:f.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function Ld(e){return(e==null?void 0:e.animationName)||"none"}function cL(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var dL=fg[" useInsertionEffect ".trim().toString()]||wt;function as({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=uL({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const u=f.useRef(e!==void 0);f.useEffect(()=>{const h=u.current;h!==l&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,n])}const d=f.useCallback(u=>{var h;if(l){const m=hL(u)?u(e):u;m!==e&&((h=o.current)==null||h.call(o,m))}else i(u)},[l,e,i,o]);return[c,d]}function uL({defaultProp:e,onChange:t}){const[r,n]=f.useState(e),a=f.useRef(r),i=f.useRef(t);return dL(()=>{i.current=t},[t]),f.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,n,i]}function hL(e){return typeof e=="function"}var h2=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),fL="VisuallyHidden",Mh=f.forwardRef((e,t)=>s.jsx(je.span,{...e,ref:t,style:{...h2,...e.style}}));Mh.displayName=fL;var mL=Mh,x0="ToastProvider",[g0,pL,xL]=Oh("Toast"),[f2]=tr("Toast",[xL]),[gL,Dh]=f2(x0),m2=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=f.useState(null),[d,u]=f.useState(0),h=f.useRef(!1),m=f.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${x0}\`. Expected non-empty \`string\`.`),s.jsx(g0.Provider,{scope:t,children:s.jsx(gL,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:f.useCallback(()=>u(x=>x+1),[]),onToastRemove:f.useCallback(()=>u(x=>x-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:o})})};m2.displayName=x0;var p2="ToastViewport",yL=["F8"],nx="toast.viewportPause",ax="toast.viewportResume",x2=f.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=yL,label:a="Notifications ({hotkey})",...i}=e,o=Dh(p2,r),l=pL(r),c=f.useRef(null),d=f.useRef(null),u=f.useRef(null),h=f.useRef(null),m=Le(t,h,o.onViewportChange),x=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;f.useEffect(()=>{const w=b=>{var y;n.length!==0&&n.every(j=>b[j]||b.code===j)&&((y=h.current)==null||y.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[n]),f.useEffect(()=>{const w=c.current,b=h.current;if(g&&w&&b){const p=()=>{if(!o.isClosePausedRef.current){const k=new CustomEvent(nx);b.dispatchEvent(k),o.isClosePausedRef.current=!0}},y=()=>{if(o.isClosePausedRef.current){const k=new CustomEvent(ax);b.dispatchEvent(k),o.isClosePausedRef.current=!1}},j=k=>{!w.contains(k.relatedTarget)&&y()},N=()=>{w.contains(document.activeElement)||y()};return w.addEventListener("focusin",p),w.addEventListener("focusout",j),w.addEventListener("pointermove",p),w.addEventListener("pointerleave",N),window.addEventListener("blur",p),window.addEventListener("focus",y),()=>{w.removeEventListener("focusin",p),w.removeEventListener("focusout",j),w.removeEventListener("pointermove",p),w.removeEventListener("pointerleave",N),window.removeEventListener("blur",p),window.removeEventListener("focus",y)}}},[g,o.isClosePausedRef]);const v=f.useCallback(({tabbingDirection:w})=>{const p=l().map(y=>{const j=y.ref.current,N=[j,...AL(j)];return w==="forwards"?N:N.reverse()});return(w==="forwards"?p.reverse():p).flat()},[l]);return f.useEffect(()=>{const w=h.current;if(w){const b=p=>{var N,k,_;const y=p.altKey||p.ctrlKey||p.metaKey;if(p.key==="Tab"&&!y){const S=document.activeElement,P=p.shiftKey;if(p.target===w&&P){(N=d.current)==null||N.focus();return}const L=v({tabbingDirection:P?"backwards":"forwards"}),F=L.findIndex(E=>E===S);cm(L.slice(F+1))?p.preventDefault():P?(k=d.current)==null||k.focus():(_=u.current)==null||_.focus()}};return w.addEventListener("keydown",b),()=>w.removeEventListener("keydown",b)}},[l,v]),s.jsxs(aL,{ref:c,role:"region","aria-label":a.replace("{hotkey}",x),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&s.jsx(ix,{ref:d,onFocusFromOutsideViewport:()=>{const w=v({tabbingDirection:"forwards"});cm(w)}}),s.jsx(g0.Slot,{scope:r,children:s.jsx(je.ol,{tabIndex:-1,...i,ref:m})}),g&&s.jsx(ix,{ref:u,onFocusFromOutsideViewport:()=>{const w=v({tabbingDirection:"backwards"});cm(w)}})]})});x2.displayName=p2;var g2="ToastFocusProxy",ix=f.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=Dh(g2,r);return s.jsx(Mh,{tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&n()}})});ix.displayName=g2;var Gc="Toast",vL="toast.swipeStart",bL="toast.swipeMove",wL="toast.swipeCancel",jL="toast.swipeEnd",y2=f.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=as({prop:n,defaultProp:a??!0,onChange:i,caller:Gc});return s.jsx(Ir,{present:r||l,children:s.jsx(SL,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Pt(e.onPause),onResume:Pt(e.onResume),onSwipeStart:we(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:we(e.onSwipeMove,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:we(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:we(e.onSwipeEnd,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});y2.displayName=Gc;var[NL,_L]=f2(Gc,{onClose(){}}),SL=f.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:x,...g}=e,v=Dh(Gc,r),[w,b]=f.useState(null),p=Le(t,E=>b(E)),y=f.useRef(null),j=f.useRef(null),N=a||v.duration,k=f.useRef(0),_=f.useRef(N),S=f.useRef(0),{onToastAdd:P,onToastRemove:C}=v,A=Pt(()=>{var W;(w==null?void 0:w.contains(document.activeElement))&&((W=v.viewport)==null||W.focus()),o()}),L=f.useCallback(E=>{!E||E===1/0||(window.clearTimeout(S.current),k.current=new Date().getTime(),S.current=window.setTimeout(A,E))},[A]);f.useEffect(()=>{const E=v.viewport;if(E){const W=()=>{L(_.current),d==null||d()},U=()=>{const Y=new Date().getTime()-k.current;_.current=_.current-Y,window.clearTimeout(S.current),c==null||c()};return E.addEventListener(nx,U),E.addEventListener(ax,W),()=>{E.removeEventListener(nx,U),E.removeEventListener(ax,W)}}},[v.viewport,N,c,d,L]),f.useEffect(()=>{i&&!v.isClosePausedRef.current&&L(N)},[i,N,v.isClosePausedRef,L]),f.useEffect(()=>(P(),()=>C()),[P,C]);const F=f.useMemo(()=>w?S2(w):null,[w]);return v.viewport?s.jsxs(s.Fragment,{children:[F&&s.jsx(kL,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:F}),s.jsx(NL,{scope:r,onClose:A,children:vi.createPortal(s.jsx(g0.ItemSlot,{scope:r,children:s.jsx(nL,{asChild:!0,onEscapeKeyDown:we(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||A(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(je.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...g,ref:p,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:we(e.onKeyDown,E=>{E.key==="Escape"&&(l==null||l(E.nativeEvent),E.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,A()))}),onPointerDown:we(e.onPointerDown,E=>{E.button===0&&(y.current={x:E.clientX,y:E.clientY})}),onPointerMove:we(e.onPointerMove,E=>{if(!y.current)return;const W=E.clientX-y.current.x,U=E.clientY-y.current.y,Y=!!j.current,M=["left","right"].includes(v.swipeDirection),G=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,R=M?G(0,W):0,D=M?0:G(0,U),te=E.pointerType==="touch"?10:2,J={x:R,y:D},ae={originalEvent:E,delta:J};Y?(j.current=J,Md(bL,h,ae,{discrete:!1})):sw(J,v.swipeDirection,te)?(j.current=J,Md(vL,u,ae,{discrete:!1}),E.target.setPointerCapture(E.pointerId)):(Math.abs(W)>te||Math.abs(U)>te)&&(y.current=null)}),onPointerUp:we(e.onPointerUp,E=>{const W=j.current,U=E.target;if(U.hasPointerCapture(E.pointerId)&&U.releasePointerCapture(E.pointerId),j.current=null,y.current=null,W){const Y=E.currentTarget,M={originalEvent:E,delta:W};sw(W,v.swipeDirection,v.swipeThreshold)?Md(jL,x,M,{discrete:!0}):Md(wL,m,M,{discrete:!0}),Y.addEventListener("click",G=>G.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),kL=e=>{const{__scopeToast:t,children:r,...n}=e,a=Dh(Gc,t),[i,o]=f.useState(!1),[l,c]=f.useState(!1);return PL(()=>o(!0)),f.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:s.jsx(Lh,{asChild:!0,children:s.jsx(Mh,{...n,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",r]})})})},CL="ToastTitle",v2=f.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(je.div,{...n,ref:t})});v2.displayName=CL;var EL="ToastDescription",b2=f.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(je.div,{...n,ref:t})});b2.displayName=EL;var w2="ToastAction",j2=f.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(_2,{altText:r,asChild:!0,children:s.jsx(y0,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${w2}\`. Expected non-empty \`string\`.`),null)});j2.displayName=w2;var N2="ToastClose",y0=f.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=_L(N2,r);return s.jsx(_2,{asChild:!0,children:s.jsx(je.button,{type:"button",...n,ref:t,onClick:we(e.onClick,a.onClose)})})});y0.displayName=N2;var _2=f.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return s.jsx(je.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function S2(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),TL(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...S2(n))}}),t}function Md(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?l2(a,i):a.dispatchEvent(i)}var sw=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function PL(e=()=>{}){const t=Pt(e);wt(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function TL(e){return e.nodeType===e.ELEMENT_NODE}function AL(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function cm(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var RL=m2,k2=x2,C2=y2,E2=v2,P2=b2,T2=j2,A2=y0;function R2(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=R2(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function I2(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=R2(e))&&(n&&(n+=" "),n+=t);return n}const nw=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,aw=I2,Kc=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return aw(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(d=>{const u=r==null?void 0:r[d],h=i==null?void 0:i[d];if(u===null)return null;const m=nw(u)||nw(h);return a[d][m]}),l=r&&Object.entries(r).reduce((d,u)=>{let[h,m]=u;return m===void 0||(d[h]=m),d},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,u)=>{let{class:h,className:m,...x}=u;return Object.entries(x).every(g=>{let[v,w]=g;return Array.isArray(w)?w.includes({...i,...l}[v]):{...i,...l}[v]===w})?[...d,h,m]:d},[]);return aw(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IL=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),O2=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var OL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LL=f.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>f.createElement("svg",{ref:c,...OL,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:O2("lucide",a),...l},[...o.map(([d,u])=>f.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=(e,t)=>{const r=f.forwardRef(({className:n,...a},i)=>f.createElement(LL,{ref:i,iconNode:t,className:O2(`lucide-${IL(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=ge("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=ge("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=ge("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=ge("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=ge("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=ge("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=ge("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=ge("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=ge("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=ge("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=ge("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=ge("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=ge("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=ge("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=ge("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=ge("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FL=ge("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=ge("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $L=ge("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=ge("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=ge("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=ge("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=ge("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=ge("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=ge("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VL=ge("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=ge("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=ge("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zL=ge("FileVideo",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 11 5 3-5 3v-6Z",key:"7ntvm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=ge("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WL=ge("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=ge("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=ge("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qL=ge("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HL=ge("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=ge("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=ge("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GL=ge("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=ge("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=ge("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KL=ge("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=ge("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YL=ge("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $h=ge("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=ge("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JL=ge("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QL=ge("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XL=ge("Replace",[["path",{d:"M14 4a2 2 0 0 1 2-2",key:"1w2hp7"}],["path",{d:"M16 10a2 2 0 0 1-2-2",key:"shjach"}],["path",{d:"M20 2a2 2 0 0 1 2 2",key:"188mtx"}],["path",{d:"M22 8a2 2 0 0 1-2 2",key:"ddf4tu"}],["path",{d:"m3 7 3 3 3-3",key:"x25e72"}],["path",{d:"M6 10V5a3 3 0 0 1 3-3h1",key:"3y3t5z"}],["rect",{x:"2",y:"14",width:"8",height:"8",rx:"2",key:"4rksxw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZL=ge("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=ge("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=ge("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=ge("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=ge("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=ge("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=ge("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=ge("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=ge("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=ge("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dd=ge("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=ge("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=ge("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=ge("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=ge("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dn=ge("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=ge("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=ge("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=ge("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=ge("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=ge("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=ge("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=ge("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),j0="-",aM=e=>{const t=oM(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(j0);return l[0]===""&&l.length!==1&&l.shift(),V2(l,t)||iM(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},V2=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?V2(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(j0);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},dw=/^\[(.+)\]$/,iM=e=>{if(dw.test(e)){const t=dw.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},oM=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return cM(Object.entries(e.classGroups),r).forEach(([i,o])=>{lx(o,n,i,t)}),n},lx=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:uw(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(lM(a)){lx(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{lx(o,uw(t,i),r,n)})})},uw=(e,t)=>{let r=e;return t.split(j0).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},lM=e=>e.isThemeGetter,cM=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,dM=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},B2="!",uM=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let d=0,u=0,h;for(let w=0;w<l.length;w++){let b=l[w];if(d===0){if(b===a&&(n||l.slice(w,w+i)===t)){c.push(l.slice(u,w)),u=w+i;continue}if(b==="/"){h=w;continue}}b==="["?d++:b==="]"&&d--}const m=c.length===0?l:l.substring(u),x=m.startsWith(B2),g=x?m.substring(1):m,v=h&&h>u?h-u:void 0;return{modifiers:c,hasImportantModifier:x,baseClassName:g,maybePostfixModifierPosition:v}};return r?l=>r({className:l,parseClassName:o}):o},hM=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},fM=e=>({cache:dM(e.cacheSize),parseClassName:uM(e),...aM(e)}),mM=/\s+/,pM=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(mM);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:x}=r(d);let g=!!x,v=n(g?m.substring(0,x):m);if(!v){if(!g){l=d+(l.length>0?" "+l:l);continue}if(v=n(m),!v){l=d+(l.length>0?" "+l:l);continue}g=!1}const w=hM(u).join(":"),b=h?w+B2:w,p=b+v;if(i.includes(p))continue;i.push(p);const y=a(v,g);for(let j=0;j<y.length;++j){const N=y[j];i.push(b+N)}l=d+(l.length>0?" "+l:l)}return l};function xM(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=z2(t))&&(n&&(n+=" "),n+=r);return n}const z2=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=z2(e[n]))&&(r&&(r+=" "),r+=t);return r};function gM(e,...t){let r,n,a,i=o;function o(c){const d=t.reduce((u,h)=>h(u),e());return r=fM(d),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const d=n(c);if(d)return d;const u=pM(c,r);return a(c,u),u}return function(){return i(xM.apply(null,arguments))}}const rt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},W2=/^\[(?:([a-z-]+):)?(.+)\]$/i,yM=/^\d+\/\d+$/,vM=new Set(["px","full","screen"]),bM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,wM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,jM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,NM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,_M=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qs=e=>vo(e)||vM.has(e)||yM.test(e),_n=e=>nl(e,"length",RM),vo=e=>!!e&&!Number.isNaN(Number(e)),hm=e=>nl(e,"number",vo),jl=e=>!!e&&Number.isInteger(Number(e)),SM=e=>e.endsWith("%")&&vo(e.slice(0,-1)),Ie=e=>W2.test(e),Sn=e=>bM.test(e),kM=new Set(["length","size","percentage"]),CM=e=>nl(e,kM,q2),EM=e=>nl(e,"position",q2),PM=new Set(["image","url"]),TM=e=>nl(e,PM,OM),AM=e=>nl(e,"",IM),Nl=()=>!0,nl=(e,t,r)=>{const n=W2.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},RM=e=>wM.test(e)&&!jM.test(e),q2=()=>!1,IM=e=>NM.test(e),OM=e=>_M.test(e),LM=()=>{const e=rt("colors"),t=rt("spacing"),r=rt("blur"),n=rt("brightness"),a=rt("borderColor"),i=rt("borderRadius"),o=rt("borderSpacing"),l=rt("borderWidth"),c=rt("contrast"),d=rt("grayscale"),u=rt("hueRotate"),h=rt("invert"),m=rt("gap"),x=rt("gradientColorStops"),g=rt("gradientColorStopPositions"),v=rt("inset"),w=rt("margin"),b=rt("opacity"),p=rt("padding"),y=rt("saturate"),j=rt("scale"),N=rt("sepia"),k=rt("skew"),_=rt("space"),S=rt("translate"),P=()=>["auto","contain","none"],C=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",Ie,t],L=()=>[Ie,t],F=()=>["",Qs,_n],E=()=>["auto",vo,Ie],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],G=()=>["","0",Ie],R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>[vo,Ie];return{cacheSize:500,separator:":",theme:{colors:[Nl],spacing:[Qs,_n],blur:["none","",Sn,Ie],brightness:D(),borderColor:[e],borderRadius:["none","","full",Sn,Ie],borderSpacing:L(),borderWidth:F(),contrast:D(),grayscale:G(),hueRotate:D(),invert:G(),gap:L(),gradientColorStops:[e],gradientColorStopPositions:[SM,_n],inset:A(),margin:A(),opacity:D(),padding:L(),saturate:D(),scale:D(),sepia:G(),skew:D(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",Ie]}],container:["container"],columns:[{columns:[Sn]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),Ie]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",jl,Ie]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ie]}],grow:[{grow:G()}],shrink:[{shrink:G()}],order:[{order:["first","last","none",jl,Ie]}],"grid-cols":[{"grid-cols":[Nl]}],"col-start-end":[{col:["auto",{span:["full",jl,Ie]},Ie]}],"col-start":[{"col-start":E()}],"col-end":[{"col-end":E()}],"grid-rows":[{"grid-rows":[Nl]}],"row-start-end":[{row:["auto",{span:[jl,Ie]},Ie]}],"row-start":[{"row-start":E()}],"row-end":[{"row-end":E()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ie]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ie]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ie,t]}],"min-w":[{"min-w":[Ie,t,"min","max","fit"]}],"max-w":[{"max-w":[Ie,t,"none","full","min","max","fit","prose",{screen:[Sn]},Sn]}],h:[{h:[Ie,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ie,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ie,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ie,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Sn,_n]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",hm]}],"font-family":[{font:[Nl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ie]}],"line-clamp":[{"line-clamp":["none",vo,hm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Qs,Ie]}],"list-image":[{"list-image":["none",Ie]}],"list-style-type":[{list:["none","disc","decimal",Ie]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Qs,_n]}],"underline-offset":[{"underline-offset":["auto",Qs,Ie]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ie]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ie]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),EM]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",CM]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},TM]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:U()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[Qs,Ie]}],"outline-w":[{outline:[Qs,_n]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Qs,_n]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Sn,AM]}],"shadow-color":[{shadow:[Nl]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...Y(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Sn,Ie]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[y]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ie]}],duration:[{duration:D()}],ease:[{ease:["linear","in","out","in-out",Ie]}],delay:[{delay:D()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ie]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[jl,Ie]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ie]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ie]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ie]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Qs,_n,hm]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},MM=gM(LM);function _e(...e){return MM(I2(e))}function N0(e){if(!e)return"";try{const t=decodeURIComponent(e);return t!==e?t:e}catch(t){return console.warn("Failed to decode URL parameter:",e,t),e}}function DM(e){const t=e.get("ref");return N0(t)}function _a(e){const t=N0(e).trim();if(!t)return"company";const r=t.toLowerCase();return r==="default"||r==="the company"?"company":t}const FM=RL,H2=f.forwardRef(({className:e,...t},r)=>s.jsx(k2,{ref:r,className:_e("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));H2.displayName=k2.displayName;const $M=Kc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),G2=f.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(C2,{ref:n,className:_e($M({variant:t}),e),...r}));G2.displayName=C2.displayName;const UM=f.forwardRef(({className:e,...t},r)=>s.jsx(T2,{ref:r,className:_e("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));UM.displayName=T2.displayName;const K2=f.forwardRef(({className:e,...t},r)=>s.jsx(A2,{ref:r,className:_e("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(er,{className:"h-4 w-4"})}));K2.displayName=A2.displayName;const Y2=f.forwardRef(({className:e,...t},r)=>s.jsx(E2,{ref:r,className:_e("text-sm font-semibold",e),...t}));Y2.displayName=E2.displayName;const J2=f.forwardRef(({className:e,...t},r)=>s.jsx(P2,{ref:r,className:_e("text-sm opacity-90",e),...t}));J2.displayName=P2.displayName;function VM(){const{toasts:e}=Pe();return s.jsxs(FM,{children:[e.map(function({id:t,title:r,description:n,action:a,...i}){return s.jsxs(G2,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(Y2,{children:r}),n&&s.jsx(J2,{children:n})]}),a,s.jsx(K2,{})]},t)}),s.jsx(H2,{})]})}const BM=({onVerified:e})=>{const t=()=>{console.log("Age verification button clicked");try{sessionStorage.setItem("ageVerifiedThisSession","true"),console.log("Age verification saved to sessionStorage"),typeof e=="function"?(e(),console.log("onVerified callback called")):console.error("onVerified is not a function:",e)}catch(r){console.error("Error in handleVerify:",r)}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-gray-900 text-white p-4 sm:p-8 rounded-2xl border-4 border-orange-500 shadow-2xl max-w-4xl w-full flex flex-col sm:flex-row items-center gap-4 sm:gap-6",children:[s.jsx("div",{className:"flex-shrink-0 w-full sm:w-auto",children:s.jsxs("video",{autoPlay:!0,muted:!0,loop:!0,className:"w-full sm:w-64 h-48 object-cover rounded-lg border-2 border-orange-500",children:[s.jsx("source",{src:"https://dimesonlyworld.s3.us-east-2.amazonaws.com/opening+intro.webm",type:"video/webm"}),"Your browser does not support the video tag."]})}),s.jsxs("div",{className:"text-center flex-1",children:[s.jsx("h2",{className:"text-orange-500 text-xl sm:text-2xl font-bold mb-4",children:"WARNING: This site is for adults only!"}),s.jsx("p",{className:"mb-6 text-xs sm:text-sm leading-relaxed",children:"By entering this website, I acknowledge that I am 18 years old or older and agree to the Terms of Service, which are available per request at the footer of the website."}),s.jsx("button",{onClick:t,type:"button",className:"bg-orange-500 hover:bg-orange-600 text-white px-4 sm:px-6 py-2 sm:py-3 rounded-lg font-semibold transition-colors text-sm sm:text-base cursor-pointer",children:"ENTER - I am 18 years old or older"})]})]})})},zM=({children:e})=>{const[t,r]=f.useState(!0),[n,a]=f.useState(!0);f.useEffect(()=>{localStorage.removeItem("ageVerified"),r(!0),a(!1),console.log("Age verification will be shown on home page visit")},[]);const i=()=>{console.log("handleAgeVerified called"),sessionStorage.setItem("ageVerifiedThisSession","true"),r(!1),console.log("Age verification modal hidden for this session")};return n?s.jsx("div",{className:"fixed inset-0 bg-black flex items-center justify-center z-50",children:s.jsx("div",{className:"text-white text-xl",children:"Loading..."})}):(console.log("Rendering AgeVerificationWrapper, showAgeVerification:",t),s.jsx(s.Fragment,{children:t?s.jsx(BM,{onVerified:i}):e}))},Q2=f.createContext({});function WM(e){const t=f.useRef(null);return t.current===null&&(t.current=e()),t.current}const _0=typeof window<"u",qM=_0?f.useLayoutEffect:f.useEffect,S0=f.createContext(null);function k0(e,t){e.indexOf(t)===-1&&e.push(t)}function C0(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const xn=(e,t,r)=>r>t?t:r<e?e:r;let E0=()=>{};const gn={},X2=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Z2(e){return typeof e=="object"&&e!==null}const ek=e=>/^0[^.\s]+$/u.test(e);function P0(e){let t;return()=>(t===void 0&&(t=e()),t)}const rs=e=>e,HM=(e,t)=>r=>t(e(r)),Yc=(...e)=>e.reduce(HM),wc=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class T0{constructor(){this.subscriptions=[]}add(t){return k0(this.subscriptions,t),()=>C0(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const zs=e=>e*1e3,es=e=>e/1e3;function tk(e,t){return t?e*(1e3/t):0}const rk=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,GM=1e-7,KM=12;function YM(e,t,r,n,a){let i,o,l=0;do o=t+(r-t)/2,i=rk(o,n,a)-e,i>0?r=o:t=o;while(Math.abs(i)>GM&&++l<KM);return o}function Jc(e,t,r,n){if(e===t&&r===n)return rs;const a=i=>YM(i,0,1,e,r);return i=>i===0||i===1?i:rk(a(i),t,n)}const sk=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,nk=e=>t=>1-e(1-t),ak=Jc(.33,1.53,.69,.99),A0=nk(ak),ik=sk(A0),ok=e=>(e*=2)<1?.5*A0(e):.5*(2-Math.pow(2,-10*(e-1))),R0=e=>1-Math.sin(Math.acos(e)),lk=nk(R0),ck=sk(R0),JM=Jc(.42,0,1,1),QM=Jc(0,0,.58,1),dk=Jc(.42,0,.58,1),XM=e=>Array.isArray(e)&&typeof e[0]!="number",uk=e=>Array.isArray(e)&&typeof e[0]=="number",ZM={linear:rs,easeIn:JM,easeInOut:dk,easeOut:QM,circIn:R0,circInOut:ck,circOut:lk,backIn:A0,backInOut:ik,backOut:ak,anticipate:ok},eD=e=>typeof e=="string",hw=e=>{if(uk(e)){E0(e.length===4);const[t,r,n,a]=e;return Jc(t,r,n,a)}else if(eD(e))return ZM[e];return e},Fd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function tD(e,t){let r=new Set,n=new Set,a=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(u){o.has(u)&&(d.schedule(u),e()),u(l)}const d={schedule:(u,h=!1,m=!1)=>{const g=m&&a?r:n;return h&&o.add(u),g.has(u)||g.add(u),u},cancel:u=>{n.delete(u),o.delete(u)},process:u=>{if(l=u,a){i=!0;return}a=!0,[r,n]=[n,r],r.forEach(c),r.clear(),a=!1,i&&(i=!1,d.process(u))}};return d}const rD=40;function hk(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=Fd.reduce((y,j)=>(y[j]=tD(i),y),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:u,update:h,preRender:m,render:x,postRender:g}=o,v=()=>{const y=gn.useManualTiming?a.timestamp:performance.now();r=!1,gn.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(y-a.timestamp,rD),1)),a.timestamp=y,a.isProcessing=!0,l.process(a),c.process(a),d.process(a),u.process(a),h.process(a),m.process(a),x.process(a),g.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(v))},w=()=>{r=!0,n=!0,a.isProcessing||e(v)};return{schedule:Fd.reduce((y,j)=>{const N=o[j];return y[j]=(k,_=!1,S=!1)=>(r||w(),N.schedule(k,_,S)),y},{}),cancel:y=>{for(let j=0;j<Fd.length;j++)o[Fd[j]].cancel(y)},state:a,steps:o}}const{schedule:ct,cancel:da,state:Bt,steps:fm}=hk(typeof requestAnimationFrame<"u"?requestAnimationFrame:rs,!0);let mu;function sD(){mu=void 0}const _r={now:()=>(mu===void 0&&_r.set(Bt.isProcessing||gn.useManualTiming?Bt.timestamp:performance.now()),mu),set:e=>{mu=e,queueMicrotask(sD)}},fk=e=>t=>typeof t=="string"&&t.startsWith(e),I0=fk("--"),nD=fk("var(--"),O0=e=>nD(e)?aD.test(e.split("/*")[0].trim()):!1,aD=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,al={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},jc={...al,transform:e=>xn(0,1,e)},$d={...al,default:1},Hl=e=>Math.round(e*1e5)/1e5,L0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function iD(e){return e==null}const oD=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,M0=(e,t)=>r=>!!(typeof r=="string"&&oD.test(r)&&r.startsWith(e)||t&&!iD(r)&&Object.prototype.hasOwnProperty.call(r,t)),mk=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,i,o,l]=n.match(L0);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},lD=e=>xn(0,255,e),mm={...al,transform:e=>Math.round(lD(e))},za={test:M0("rgb","red"),parse:mk("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+mm.transform(e)+", "+mm.transform(t)+", "+mm.transform(r)+", "+Hl(jc.transform(n))+")"};function cD(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const cx={test:M0("#"),parse:cD,transform:za.transform},Qc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),En=Qc("deg"),Ws=Qc("%"),Ee=Qc("px"),dD=Qc("vh"),uD=Qc("vw"),fw={...Ws,parse:e=>Ws.parse(e)/100,transform:e=>Ws.transform(e*100)},no={test:M0("hsl","hue"),parse:mk("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Ws.transform(Hl(t))+", "+Ws.transform(Hl(r))+", "+Hl(jc.transform(n))+")"},Ct={test:e=>za.test(e)||cx.test(e)||no.test(e),parse:e=>za.test(e)?za.parse(e):no.test(e)?no.parse(e):cx.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?za.transform(e):no.transform(e),getAnimatableNone:e=>{const t=Ct.parse(e);return t.alpha=0,Ct.transform(t)}},hD=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function fD(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(L0))==null?void 0:t.length)||0)+(((r=e.match(hD))==null?void 0:r.length)||0)>0}const pk="number",xk="color",mD="var",pD="var(",mw="${}",xD=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Nc(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const l=t.replace(xD,c=>(Ct.test(c)?(n.color.push(i),a.push(xk),r.push(Ct.parse(c))):c.startsWith(pD)?(n.var.push(i),a.push(mD),r.push(c)):(n.number.push(i),a.push(pk),r.push(parseFloat(c))),++i,mw)).split(mw);return{values:r,split:l,indexes:n,types:a}}function gk(e){return Nc(e).values}function yk(e){const{split:t,types:r}=Nc(e),n=t.length;return a=>{let i="";for(let o=0;o<n;o++)if(i+=t[o],a[o]!==void 0){const l=r[o];l===pk?i+=Hl(a[o]):l===xk?i+=Ct.transform(a[o]):i+=a[o]}return i}}const gD=e=>typeof e=="number"?0:Ct.test(e)?Ct.getAnimatableNone(e):e;function yD(e){const t=gk(e);return yk(e)(t.map(gD))}const ua={test:fD,parse:gk,createTransformer:yk,getAnimatableNone:yD};function pm(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function vD({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,i=0,o=0;if(!t)a=i=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;a=pm(c,l,e+1/3),i=pm(c,l,e),o=pm(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function Qu(e,t){return r=>r>0?t:e}const ht=(e,t,r)=>e+(t-e)*r,xm=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},bD=[cx,za,no],wD=e=>bD.find(t=>t.test(e));function pw(e){const t=wD(e);if(!t)return!1;let r=t.parse(e);return t===no&&(r=vD(r)),r}const xw=(e,t)=>{const r=pw(e),n=pw(t);if(!r||!n)return Qu(e,t);const a={...r};return i=>(a.red=xm(r.red,n.red,i),a.green=xm(r.green,n.green,i),a.blue=xm(r.blue,n.blue,i),a.alpha=ht(r.alpha,n.alpha,i),za.transform(a))},dx=new Set(["none","hidden"]);function jD(e,t){return dx.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function ND(e,t){return r=>ht(e,t,r)}function D0(e){return typeof e=="number"?ND:typeof e=="string"?O0(e)?Qu:Ct.test(e)?xw:kD:Array.isArray(e)?vk:typeof e=="object"?Ct.test(e)?xw:_D:Qu}function vk(e,t){const r=[...e],n=r.length,a=e.map((i,o)=>D0(i)(i,t[o]));return i=>{for(let o=0;o<n;o++)r[o]=a[o](i);return r}}function _D(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=D0(e[a])(e[a],t[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function SD(e,t){const r=[],n={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],o=e.indexes[i][n[i]],l=e.values[o]??0;r[a]=l,n[i]++}return r}const kD=(e,t)=>{const r=ua.createTransformer(t),n=Nc(e),a=Nc(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?dx.has(e)&&!a.values.length||dx.has(t)&&!n.values.length?jD(e,t):Yc(vk(SD(n,a),a.values),r):Qu(e,t)};function bk(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?ht(e,t,r):D0(e)(e,t)}const CD=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>ct.update(t,r),stop:()=>da(t),now:()=>Bt.isProcessing?Bt.timestamp:_r.now()}},wk=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let i=0;i<a;i++)n+=Math.round(e(i/(a-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},Xu=2e4;function F0(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<Xu;)t+=r,n=e.next(t);return t>=Xu?1/0:t}function ED(e,t=100,r){const n=r({...e,keyframes:[0,t]}),a=Math.min(F0(n),Xu);return{type:"keyframes",ease:i=>n.next(a*i).value/t,duration:es(a)}}const PD=5;function jk(e,t,r){const n=Math.max(t-PD,0);return tk(r-e(n),t-n)}const gt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},gm=.001;function TD({duration:e=gt.duration,bounce:t=gt.bounce,velocity:r=gt.velocity,mass:n=gt.mass}){let a,i,o=1-t;o=xn(gt.minDamping,gt.maxDamping,o),e=xn(gt.minDuration,gt.maxDuration,es(e)),o<1?(a=d=>{const u=d*o,h=u*e,m=u-r,x=ux(d,o),g=Math.exp(-h);return gm-m/x*g},i=d=>{const h=d*o*e,m=h*r+r,x=Math.pow(o,2)*Math.pow(d,2)*e,g=Math.exp(-h),v=ux(Math.pow(d,2),o);return(-a(d)+gm>0?-1:1)*((m-x)*g)/v}):(a=d=>{const u=Math.exp(-d*e),h=(d-r)*e+1;return-gm+u*h},i=d=>{const u=Math.exp(-d*e),h=(r-d)*(e*e);return u*h});const l=5/e,c=RD(a,i,l);if(e=zs(e),isNaN(c))return{stiffness:gt.stiffness,damping:gt.damping,duration:e};{const d=Math.pow(c,2)*n;return{stiffness:d,damping:o*2*Math.sqrt(n*d),duration:e}}}const AD=12;function RD(e,t,r){let n=r;for(let a=1;a<AD;a++)n=n-e(n)/t(n);return n}function ux(e,t){return e*Math.sqrt(1-t*t)}const ID=["duration","bounce"],OD=["stiffness","damping","mass"];function gw(e,t){return t.some(r=>e[r]!==void 0)}function LD(e){let t={velocity:gt.velocity,stiffness:gt.stiffness,damping:gt.damping,mass:gt.mass,isResolvedFromDuration:!1,...e};if(!gw(e,OD)&&gw(e,ID))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,i=2*xn(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:gt.mass,stiffness:a,damping:i}}else{const r=TD(e);t={...t,...r,mass:gt.mass},t.isResolvedFromDuration=!0}return t}function Zu(e=gt.visualDuration,t=gt.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:d,mass:u,duration:h,velocity:m,isResolvedFromDuration:x}=LD({...r,velocity:-es(r.velocity||0)}),g=m||0,v=d/(2*Math.sqrt(c*u)),w=o-i,b=es(Math.sqrt(c/u)),p=Math.abs(w)<5;n||(n=p?gt.restSpeed.granular:gt.restSpeed.default),a||(a=p?gt.restDelta.granular:gt.restDelta.default);let y;if(v<1){const N=ux(b,v);y=k=>{const _=Math.exp(-v*b*k);return o-_*((g+v*b*w)/N*Math.sin(N*k)+w*Math.cos(N*k))}}else if(v===1)y=N=>o-Math.exp(-b*N)*(w+(g+b*w)*N);else{const N=b*Math.sqrt(v*v-1);y=k=>{const _=Math.exp(-v*b*k),S=Math.min(N*k,300);return o-_*((g+v*b*w)*Math.sinh(S)+N*w*Math.cosh(S))/N}}const j={calculatedDuration:x&&h||null,next:N=>{const k=y(N);if(x)l.done=N>=h;else{let _=N===0?g:0;v<1&&(_=N===0?zs(g):jk(y,N,k));const S=Math.abs(_)<=n,P=Math.abs(o-k)<=a;l.done=S&&P}return l.value=l.done?o:k,l},toString:()=>{const N=Math.min(F0(j),Xu),k=wk(_=>j.next(N*_).value,N,30);return N+"ms "+k},toTransition:()=>{}};return j}Zu.applyToOptions=e=>{const t=ED(e,100,Zu);return e.ease=t.ease,e.duration=zs(t.duration),e.type="keyframes",e};function hx({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const h=e[0],m={done:!1,value:h},x=S=>l!==void 0&&S<l||c!==void 0&&S>c,g=S=>l===void 0?c:c===void 0||Math.abs(l-S)<Math.abs(c-S)?l:c;let v=r*t;const w=h+v,b=o===void 0?w:o(w);b!==w&&(v=b-h);const p=S=>-v*Math.exp(-S/n),y=S=>b+p(S),j=S=>{const P=p(S),C=y(S);m.done=Math.abs(P)<=d,m.value=m.done?b:C};let N,k;const _=S=>{x(m.value)&&(N=S,k=Zu({keyframes:[m.value,g(m.value)],velocity:jk(y,S,m.value),damping:a,stiffness:i,restDelta:d,restSpeed:u}))};return _(0),{calculatedDuration:null,next:S=>{let P=!1;return!k&&N===void 0&&(P=!0,j(S),_(S)),N!==void 0&&S>=N?k.next(S-N):(!P&&j(S),m)}}}function MD(e,t,r){const n=[],a=r||gn.mix||bk,i=e.length-1;for(let o=0;o<i;o++){let l=a(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||rs:t;l=Yc(c,l)}n.push(l)}return n}function DD(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const i=e.length;if(E0(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=MD(t,n,a),c=l.length,d=u=>{if(o&&u<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(u<e[h+1]);h++);const m=wc(e[h],e[h+1],u);return l[h](m)};return r?u=>d(xn(e[0],e[i-1],u)):d}function FD(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=wc(0,t,n);e.push(ht(r,1,a))}}function $D(e){const t=[0];return FD(t,e.length-1),t}function UD(e,t){return e.map(r=>r*t)}function VD(e,t){return e.map(()=>t||dk).splice(0,e.length-1)}function Gl({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=XM(n)?n.map(hw):hw(n),i={done:!1,value:t[0]},o=UD(r&&r.length===t.length?r:$D(t),e),l=DD(o,t,{ease:Array.isArray(a)?a:VD(t,a)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const BD=e=>e!==null;function $0(e,{repeat:t,repeatType:r="loop"},n,a=1){const i=e.filter(BD),l=a<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!l||n===void 0?i[l]:n}const zD={decay:hx,inertia:hx,tween:Gl,keyframes:Gl,spring:Zu};function Nk(e){typeof e.type=="string"&&(e.type=zD[e.type])}class U0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const WD=e=>e/100;class V0 extends U0{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,a;const{motionValue:r}=this.options;r&&r.updatedAt!==_r.now()&&this.tick(_r.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(n=this.options).onStop)==null||a.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Nk(t);const{type:r=Gl,repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=t;let{keyframes:l}=t;const c=r||Gl;c!==Gl&&typeof l[0]!="number"&&(this.mixKeyframes=Yc(WD,bk(l[0],l[1])),l=[0,100]);const d=c({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=F0(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=d}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:a,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:d=0,keyframes:u,repeat:h,repeatType:m,repeatDelay:x,type:g,onUpdate:v,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const b=this.currentTime-d*(this.playbackSpeed>=0?1:-1),p=this.playbackSpeed>=0?b<0:b>a;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let y=this.currentTime,j=n;if(h){const S=Math.min(this.currentTime,a)/l;let P=Math.floor(S),C=S%1;!C&&S>=1&&(C=1),C===1&&P--,P=Math.min(P,h+1),!!(P%2)&&(m==="reverse"?(C=1-C,x&&(C-=x/l)):m==="mirror"&&(j=o)),y=xn(0,1,C)*l}const N=p?{done:!1,value:u[0]}:j.next(y);i&&(N.value=i(N.value));let{done:k}=N;!p&&c!==null&&(k=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const _=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return _&&g!==hx&&(N.value=$0(u,this.options,w,this.speed)),v&&v(N.value),_&&this.finish(),N}then(t,r){return this.finished.then(t,r)}get duration(){return es(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+es(t)}get time(){return es(this.currentTime)}set time(t){var r;t=zs(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(_r.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=es(this.currentTime))}play(){var a,i;if(this.isStopped)return;const{driver:t=CD,startTime:r}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(a=this.options).onPlay)==null||i.call(a);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(_r.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function qD(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Wa=e=>e*180/Math.PI,fx=e=>{const t=Wa(Math.atan2(e[1],e[0]));return mx(t)},HD={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:fx,rotateZ:fx,skewX:e=>Wa(Math.atan(e[1])),skewY:e=>Wa(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},mx=e=>(e=e%360,e<0&&(e+=360),e),yw=fx,vw=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),bw=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),GD={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:vw,scaleY:bw,scale:e=>(vw(e)+bw(e))/2,rotateX:e=>mx(Wa(Math.atan2(e[6],e[5]))),rotateY:e=>mx(Wa(Math.atan2(-e[2],e[0]))),rotateZ:yw,rotate:yw,skewX:e=>Wa(Math.atan(e[4])),skewY:e=>Wa(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function px(e){return e.includes("scale")?1:0}function xx(e,t){if(!e||e==="none")return px(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=GD,a=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=HD,a=l}if(!a)return px(t);const i=n[t],o=a[1].split(",").map(YD);return typeof i=="function"?i(o):o[i]}const KD=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return xx(r,t)};function YD(e){return parseFloat(e.trim())}const il=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ol=new Set(il),ww=e=>e===al||e===Ee,JD=new Set(["x","y","z"]),QD=il.filter(e=>!JD.has(e));function XD(e){const t=[];return QD.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const ni={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>xx(t,"x"),y:(e,{transform:t})=>xx(t,"y")};ni.translateX=ni.x;ni.translateY=ni.y;const ai=new Set;let gx=!1,yx=!1,vx=!1;function _k(){if(yx){const e=Array.from(ai).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=XD(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,o])=>{var l;(l=n.getValue(i))==null||l.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}yx=!1,gx=!1,ai.forEach(e=>e.complete(vx)),ai.clear()}function Sk(){ai.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(yx=!0)})}function ZD(){vx=!0,Sk(),_k(),vx=!1}class B0{constructor(t,r,n,a,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(ai.add(this),gx||(gx=!0,ct.read(Sk),ct.resolveKeyframes(_k))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;if(t[0]===null){const i=a==null?void 0:a.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){const l=n.readValue(r,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),a&&i===void 0&&a.set(t[0])}qD(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ai.delete(this)}cancel(){this.state==="scheduled"&&(ai.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const eF=e=>e.startsWith("--");function tF(e,t,r){eF(t)?e.style.setProperty(t,r):e.style[t]=r}const rF=P0(()=>window.ScrollTimeline!==void 0),sF={};function nF(e,t){const r=P0(e);return()=>sF[t]??r()}const kk=nF(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Tl=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,jw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Tl([0,.65,.55,1]),circOut:Tl([.55,0,1,.45]),backIn:Tl([.31,.01,.66,-.59]),backOut:Tl([.33,1.53,.69,.99])};function Ck(e,t){if(e)return typeof e=="function"?kk()?wk(e,t):"ease-out":uk(e)?Tl(e):Array.isArray(e)?e.map(r=>Ck(r,t)||jw.easeOut):jw[e]}function aF(e,t,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const u={[t]:r};c&&(u.offset=c);const h=Ck(l,a);Array.isArray(h)&&(u.easing=h);const m={delay:n,duration:a,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return d&&(m.pseudoElement=d),e.animate(u,m)}function Ek(e){return typeof e=="function"&&"applyToOptions"in e}function iF({type:e,...t}){return Ek(e)&&kk()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class oF extends U0{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:a,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,E0(typeof t.type!="string");const d=iF(t);this.animation=aF(r,n,a,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=$0(a,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(u):tF(r,n,u),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return es(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+es(t)}get time(){return es(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=zs(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&rF()?(this.animation.timeline=t,rs):r(this)}}const Pk={anticipate:ok,backInOut:ik,circInOut:ck};function lF(e){return e in Pk}function cF(e){typeof e.ease=="string"&&lF(e.ease)&&(e.ease=Pk[e.ease])}const Nw=10;class dF extends oF{constructor(t){cF(t),Nk(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:a,element:i,...o}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const l=new V0({...o,autoplay:!1}),c=zs(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-Nw).value,l.sample(c).value,Nw),l.stop()}}const _w=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ua.test(e)||e==="0")&&!e.startsWith("url("));function uF(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function hF(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=_w(a,t),l=_w(i,t);return!o||!l?!1:uF(e)||(r==="spring"||Ek(r))&&n}function bx(e){e.duration=0,e.type="keyframes"}const fF=new Set(["opacity","clipPath","filter","transform"]),mF=P0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function pF(e){var u;const{motionValue:t,name:r,repeatDelay:n,repeatType:a,damping:i,type:o}=e;if(!(((u=t==null?void 0:t.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=t.owner.getProps();return mF()&&r&&fF.has(r)&&(r!=="transform"||!d)&&!c&&!n&&a!=="mirror"&&i!==0&&o!=="inertia"}const xF=40;class gF extends U0{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:u,...h}){var g;super(),this.stop=()=>{var v,w;this._animation&&(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=_r.now();const m={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:o,name:c,motionValue:d,element:u,...h},x=(u==null?void 0:u.KeyframeResolver)||B0;this.keyframeResolver=new x(l,(v,w,b)=>this.onKeyframesResolved(v,w,m,!b),c,d,u),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(t,r,n,a){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:u}=n;this.resolvedAt=_r.now(),hF(t,i,o,l)||((gn.instantAnimations||!c)&&(u==null||u($0(t,n,r))),t[0]=t[t.length-1],bx(n),n.repeat=0);const m={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>xF?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},x=!d&&pF(m)?new dF({...m,element:m.motionValue.owner.current}):new V0(m);x.finished.then(()=>this.notifyFinished()).catch(rs),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),ZD()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const yF=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function vF(e){const t=yF.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function Tk(e,t,r=1){const[n,a]=vF(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const o=i.trim();return X2(o)?parseFloat(o):o}return O0(a)?Tk(a,t,r+1):a}function z0(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Ak=new Set(["width","height","top","left","right","bottom",...il]),bF={test:e=>e==="auto",parse:e=>e},Rk=e=>t=>t.test(e),Ik=[al,Ee,Ws,En,uD,dD,bF],Sw=e=>Ik.find(Rk(e));function wF(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||ek(e):!0}const jF=new Set(["brightness","contrast","saturate","opacity"]);function NF(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(L0)||[];if(!n)return e;const a=r.replace(n,"");let i=jF.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+a+")"}const _F=/\b([a-z-]*)\(.*?\)/gu,wx={...ua,getAnimatableNone:e=>{const t=e.match(_F);return t?t.map(NF).join(" "):e}},kw={...al,transform:Math.round},SF={rotate:En,rotateX:En,rotateY:En,rotateZ:En,scale:$d,scaleX:$d,scaleY:$d,scaleZ:$d,skew:En,skewX:En,skewY:En,distance:Ee,translateX:Ee,translateY:Ee,translateZ:Ee,x:Ee,y:Ee,z:Ee,perspective:Ee,transformPerspective:Ee,opacity:jc,originX:fw,originY:fw,originZ:Ee},W0={borderWidth:Ee,borderTopWidth:Ee,borderRightWidth:Ee,borderBottomWidth:Ee,borderLeftWidth:Ee,borderRadius:Ee,radius:Ee,borderTopLeftRadius:Ee,borderTopRightRadius:Ee,borderBottomRightRadius:Ee,borderBottomLeftRadius:Ee,width:Ee,maxWidth:Ee,height:Ee,maxHeight:Ee,top:Ee,right:Ee,bottom:Ee,left:Ee,padding:Ee,paddingTop:Ee,paddingRight:Ee,paddingBottom:Ee,paddingLeft:Ee,margin:Ee,marginTop:Ee,marginRight:Ee,marginBottom:Ee,marginLeft:Ee,backgroundPositionX:Ee,backgroundPositionY:Ee,...SF,zIndex:kw,fillOpacity:jc,strokeOpacity:jc,numOctaves:kw},kF={...W0,color:Ct,backgroundColor:Ct,outlineColor:Ct,fill:Ct,stroke:Ct,borderColor:Ct,borderTopColor:Ct,borderRightColor:Ct,borderBottomColor:Ct,borderLeftColor:Ct,filter:wx,WebkitFilter:wx},Ok=e=>kF[e];function Lk(e,t){let r=Ok(e);return r!==wx&&(r=ua),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const CF=new Set(["auto","none","0"]);function EF(e,t,r){let n=0,a;for(;n<e.length&&!a;){const i=e[n];typeof i=="string"&&!CF.has(i)&&Nc(i).values.length&&(a=e[n]),n++}if(a&&r)for(const i of t)e[i]=Lk(r,a)}class PF extends B0{constructor(t,r,n,a,i){super(t,r,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),O0(d))){const u=Tk(d,r.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!Ak.has(n)||t.length!==2)return;const[a,i]=t,o=Sw(a),l=Sw(i);if(o!==l)if(ww(o)&&ww(l))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else ni[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)(t[a]===null||wF(t[a]))&&n.push(a);n.length&&EF(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ni[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){var l;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=n.length-1,o=n[i];n[i]=ni[r](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{t.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function TF(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const a=(r==null?void 0:r[e])??n.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const Mk=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function AF(e){return Z2(e)&&"offsetHeight"in e}const Cw=30,RF=e=>!isNaN(parseFloat(e));class IF{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var i;const a=_r.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=_r.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=RF(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new T0);const n=this.events[t].add(r);return t==="change"?()=>{n(),ct.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=_r.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Cw)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Cw);return tk(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ho(e,t){return new IF(e,t)}const{schedule:q0}=hk(queueMicrotask,!1),cs={x:!1,y:!1};function Dk(){return cs.x||cs.y}function OF(e){return e==="x"||e==="y"?cs[e]?null:(cs[e]=!0,()=>{cs[e]=!1}):cs.x||cs.y?null:(cs.x=cs.y=!0,()=>{cs.x=cs.y=!1})}function Fk(e,t){const r=TF(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function Ew(e){return!(e.pointerType==="touch"||Dk())}function LF(e,t,r={}){const[n,a,i]=Fk(e,r),o=l=>{if(!Ew(l))return;const{target:c}=l,d=t(c,l);if(typeof d!="function"||!c)return;const u=h=>{Ew(h)&&(d(h),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,a)};return n.forEach(l=>{l.addEventListener("pointerenter",o,a)}),i}const $k=(e,t)=>t?e===t?!0:$k(e,t.parentElement):!1,H0=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,MF=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function DF(e){return MF.has(e.tagName)||e.tabIndex!==-1}const pu=new WeakSet;function Pw(e){return t=>{t.key==="Enter"&&e(t)}}function ym(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const FF=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=Pw(()=>{if(pu.has(r))return;ym(r,"down");const a=Pw(()=>{ym(r,"up")}),i=()=>ym(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function Tw(e){return H0(e)&&!Dk()}function $F(e,t,r={}){const[n,a,i]=Fk(e,r),o=l=>{const c=l.currentTarget;if(!Tw(l))return;pu.add(c);const d=t(c,l),u=(x,g)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",m),pu.has(c)&&pu.delete(c),Tw(x)&&typeof d=="function"&&d(x,{success:g})},h=x=>{u(x,c===window||c===document||r.useGlobalTarget||$k(c,x.target))},m=x=>{u(x,!1)};window.addEventListener("pointerup",h,a),window.addEventListener("pointercancel",m,a)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),AF(l)&&(l.addEventListener("focus",d=>FF(d,a)),!DF(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function Uk(e){return Z2(e)&&"ownerSVGElement"in e}function UF(e){return Uk(e)&&e.tagName==="svg"}const Qt=e=>!!(e&&e.getVelocity),VF=[...Ik,Ct,ua],BF=e=>VF.find(Rk(e)),Vk=f.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function zF(e=!0){const t=f.useContext(S0);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=t,i=f.useId();f.useEffect(()=>{if(e)return a(i)},[e]);const o=f.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,o]:[!0]}const Bk=f.createContext({strict:!1}),Aw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Go={};for(const e in Aw)Go[e]={isEnabled:t=>Aw[e].some(r=>!!t[r])};function WF(e){for(const t in e)Go[t]={...Go[t],...e[t]}}const qF=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function eh(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||qF.has(e)}let zk=e=>!eh(e);function HF(e){typeof e=="function"&&(zk=t=>t.startsWith("on")?!eh(t):e(t))}try{HF(require("@emotion/is-prop-valid").default)}catch{}function GF(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(zk(a)||r===!0&&eh(a)||!t&&!eh(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}const Uh=f.createContext({});function Vh(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function _c(e){return typeof e=="string"||Array.isArray(e)}const G0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],K0=["initial",...G0];function Bh(e){return Vh(e.animate)||K0.some(t=>_c(e[t]))}function Wk(e){return!!(Bh(e)||e.variants)}function KF(e,t){if(Bh(e)){const{initial:r,animate:n}=e;return{initial:r===!1||_c(r)?r:void 0,animate:_c(n)?n:void 0}}return e.inherit!==!1?t:{}}function YF(e){const{initial:t,animate:r}=KF(e,f.useContext(Uh));return f.useMemo(()=>({initial:t,animate:r}),[Rw(t),Rw(r)])}function Rw(e){return Array.isArray(e)?e.join(" "):e}const Sc={};function JF(e){for(const t in e)Sc[t]=e[t],I0(t)&&(Sc[t].isCSSVariable=!0)}function qk(e,{layout:t,layoutId:r}){return ol.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Sc[e]||e==="opacity")}const QF={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},XF=il.length;function ZF(e,t,r){let n="",a=!0;for(let i=0;i<XF;i++){const o=il[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const d=Mk(l,W0[o]);if(!c){a=!1;const u=QF[o]||o;n+=`${u}(${d}) `}r&&(t[o]=d)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function Y0(e,t,r){const{style:n,vars:a,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const d=t[c];if(ol.has(c)){o=!0;continue}else if(I0(c)){a[c]=d;continue}else{const u=Mk(d,W0[c]);c.startsWith("origin")?(l=!0,i[c]=u):n[c]=u}}if(t.transform||(o||r?n.transform=ZF(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=i;n.transformOrigin=`${c} ${d} ${u}`}}const J0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Hk(e,t,r){for(const n in t)!Qt(t[n])&&!qk(n,r)&&(e[n]=t[n])}function e8({transformTemplate:e},t){return f.useMemo(()=>{const r=J0();return Y0(r,t,e),Object.assign({},r.vars,r.style)},[t])}function t8(e,t){const r=e.style||{},n={};return Hk(n,r,e),Object.assign(n,e8(e,t)),n}function r8(e,t){const r={},n=t8(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const s8={offset:"stroke-dashoffset",array:"stroke-dasharray"},n8={offset:"strokeDashoffset",array:"strokeDasharray"};function a8(e,t,r=1,n=0,a=!0){e.pathLength=1;const i=a?s8:n8;e[i.offset]=Ee.transform(-n);const o=Ee.transform(t),l=Ee.transform(r);e[i.array]=`${o} ${l}`}function Gk(e,{attrX:t,attrY:r,attrScale:n,pathLength:a,pathSpacing:i=1,pathOffset:o=0,...l},c,d,u){if(Y0(e,l,d),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:m}=e;h.transform&&(m.transform=h.transform,delete h.transform),(m.transform||h.transformOrigin)&&(m.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),m.transform&&(m.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),r!==void 0&&(h.y=r),n!==void 0&&(h.scale=n),a!==void 0&&a8(h,a,i,o,!1)}const Kk=()=>({...J0(),attrs:{}}),Yk=e=>typeof e=="string"&&e.toLowerCase()==="svg";function i8(e,t,r,n){const a=f.useMemo(()=>{const i=Kk();return Gk(i,t,Yk(n),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Hk(i,e.style,e),a.style={...i,...a.style}}return a}const o8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Q0(e){return typeof e!="string"||e.includes("-")?!1:!!(o8.indexOf(e)>-1||/[A-Z]/u.test(e))}function l8(e,t,r,{latestValues:n},a,i=!1){const l=(Q0(e)?i8:r8)(t,n,a,e),c=GF(t,typeof e=="string",i),d=e!==f.Fragment?{...c,...l,ref:r}:{},{children:u}=t,h=f.useMemo(()=>Qt(u)?u.get():u,[u]);return f.createElement(e,{...d,children:h})}function Iw(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function X0(e,t,r,n){if(typeof t=="function"){const[a,i]=Iw(n);t=t(r!==void 0?r:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=Iw(n);t=t(r!==void 0?r:e.custom,a,i)}return t}function xu(e){return Qt(e)?e.get():e}function c8({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,a){return{latestValues:d8(r,n,a,e),renderState:t()}}function d8(e,t,r,n){const a={},i=n(e,{});for(const m in i)a[m]=xu(i[m]);let{initial:o,animate:l}=e;const c=Bh(e),d=Wk(e);t&&d&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let u=r?r.initial===!1:!1;u=u||o===!1;const h=u?l:o;if(h&&typeof h!="boolean"&&!Vh(h)){const m=Array.isArray(h)?h:[h];for(let x=0;x<m.length;x++){const g=X0(e,m[x]);if(g){const{transitionEnd:v,transition:w,...b}=g;for(const p in b){let y=b[p];if(Array.isArray(y)){const j=u?y.length-1:0;y=y[j]}y!==null&&(a[p]=y)}for(const p in v)a[p]=v[p]}}}return a}const Jk=e=>(t,r)=>{const n=f.useContext(Uh),a=f.useContext(S0),i=()=>c8(e,t,n,a);return r?i():WM(i)};function Z0(e,t,r){var i;const{style:n}=e,a={};for(const o in n)(Qt(n[o])||t.style&&Qt(t.style[o])||qk(o,e)||((i=r==null?void 0:r.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(a[o]=n[o]);return a}const u8=Jk({scrapeMotionValuesFromProps:Z0,createRenderState:J0});function Qk(e,t,r){const n=Z0(e,t,r);for(const a in e)if(Qt(e[a])||Qt(t[a])){const i=il.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=e[a]}return n}const h8=Jk({scrapeMotionValuesFromProps:Qk,createRenderState:Kk}),f8=Symbol.for("motionComponentSymbol");function ao(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function m8(e,t,r){return f.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):ao(r)&&(r.current=n))},[t])}const ey=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),p8="framerAppearId",Xk="data-"+ey(p8),Zk=f.createContext({});function x8(e,t,r,n,a){var v,w;const{visualElement:i}=f.useContext(Uh),o=f.useContext(Bk),l=f.useContext(S0),c=f.useContext(Vk).reducedMotion,d=f.useRef(null);n=n||o.renderer,!d.current&&n&&(d.current=n(e,{visualState:t,parent:i,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const u=d.current,h=f.useContext(Zk);u&&!u.projection&&a&&(u.type==="html"||u.type==="svg")&&g8(d.current,r,a,h);const m=f.useRef(!1);f.useInsertionEffect(()=>{u&&m.current&&u.update(r,l)});const x=r[Xk],g=f.useRef(!!x&&!((v=window.MotionHandoffIsComplete)!=null&&v.call(window,x))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,x)));return qM(()=>{u&&(m.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),g.current&&u.animationState&&u.animationState.animateChanges())}),f.useEffect(()=>{u&&(!g.current&&u.animationState&&u.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)==null||b.call(window,x)}),g.current=!1),u.enteringChildren=void 0)}),u}function g8(e,t,r,n){const{layoutId:a,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:eC(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||l&&ao(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:u,layoutScroll:c,layoutRoot:d})}function eC(e){if(e)return e.options.allowProjection!==!1?e.projection:eC(e.parent)}function vm(e,{forwardMotionProps:t=!1}={},r,n){r&&WF(r);const a=Q0(e)?h8:u8;function i(l,c){let d;const u={...f.useContext(Vk),...l,layoutId:y8(l)},{isStatic:h}=u,m=YF(l),x=a(l,h);if(!h&&_0){v8();const g=b8(u);d=g.MeasureLayout,m.visualElement=x8(e,x,u,n,g.ProjectionNode)}return s.jsxs(Uh.Provider,{value:m,children:[d&&m.visualElement?s.jsx(d,{visualElement:m.visualElement,...u}):null,l8(e,l,m8(x,m.visualElement,c),x,h,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=f.forwardRef(i);return o[f8]=e,o}function y8({layoutId:e}){const t=f.useContext(Q2).id;return t&&e!==void 0?t+"-"+e:e}function v8(e,t){f.useContext(Bk).strict}function b8(e){const{drag:t,layout:r}=Go;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function w8(e,t){if(typeof Proxy>"u")return vm;const r=new Map,n=(i,o)=>vm(i,o,e,t),a=(i,o)=>n(i,o);return new Proxy(a,{get:(i,o)=>o==="create"?n:(r.has(o)||r.set(o,vm(o,void 0,e,t)),r.get(o))})}function tC({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function j8({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function N8(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function bm(e){return e===void 0||e===1}function jx({scale:e,scaleX:t,scaleY:r}){return!bm(e)||!bm(t)||!bm(r)}function La(e){return jx(e)||rC(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function rC(e){return Ow(e.x)||Ow(e.y)}function Ow(e){return e&&e!=="0%"}function th(e,t,r){const n=e-r,a=t*n;return r+a}function Lw(e,t,r,n,a){return a!==void 0&&(e=th(e,a,n)),th(e,r,n)+t}function Nx(e,t=0,r=1,n,a){e.min=Lw(e.min,t,r,n,a),e.max=Lw(e.max,t,r,n,a)}function sC(e,{x:t,y:r}){Nx(e.x,t.translate,t.scale,t.originPoint),Nx(e.y,r.translate,r.scale,r.originPoint)}const Mw=.999999999999,Dw=1.0000000000001;function _8(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,o;for(let l=0;l<a;l++){i=r[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&oo(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,sC(e,o)),n&&La(i.latestValues)&&oo(e,i.latestValues))}t.x<Dw&&t.x>Mw&&(t.x=1),t.y<Dw&&t.y>Mw&&(t.y=1)}function io(e,t){e.min=e.min+t,e.max=e.max+t}function Fw(e,t,r,n,a=.5){const i=ht(e.min,e.max,a);Nx(e,t,r,i,n)}function oo(e,t){Fw(e.x,t.x,t.scaleX,t.scale,t.originX),Fw(e.y,t.y,t.scaleY,t.scale,t.originY)}function nC(e,t){return tC(N8(e.getBoundingClientRect(),t))}function S8(e,t,r){const n=nC(e,r),{scroll:a}=t;return a&&(io(n.x,a.offset.x),io(n.y,a.offset.y)),n}const $w=()=>({translate:0,scale:1,origin:0,originPoint:0}),lo=()=>({x:$w(),y:$w()}),Uw=()=>({min:0,max:0}),jt=()=>({x:Uw(),y:Uw()}),_x={current:null},aC={current:!1};function k8(){if(aC.current=!0,!!_0)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>_x.current=e.matches;e.addEventListener("change",t),t()}else _x.current=!1}const C8=new WeakMap;function E8(e,t,r){for(const n in t){const a=t[n],i=r[n];if(Qt(a))e.addValue(n,a);else if(Qt(i))e.addValue(n,Ho(a,{owner:e}));else if(i!==a)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=e.getStaticValue(n);e.addValue(n,Ho(o!==void 0?o:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const Vw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class P8{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=B0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=_r.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,ct.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Bh(r),this.isVariantNode=Wk(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(r,{},this);for(const m in h){const x=h[m];c[m]!==void 0&&Qt(x)&&x.set(c[m])}}mount(t){var r;this.current=t,C8.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,a)=>this.bindToMotionValue(a,n)),aC.current||k8(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:_x.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),da(this.notifyUpdate),da(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=ol.has(t);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&ct.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),i&&i(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Go){const r=Go[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):jt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<Vw.length;n++){const a=Vw[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=t[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=E8(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Ho(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(X2(n)||ek(n))?n=parseFloat(n):!BF(n)&&ua.test(r)&&(n=Lk(t,r)),this.setBaseTarget(t,Qt(n)?n.get():n)),Qt(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const o=X0(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);o&&(n=o[t])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Qt(a)?a:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new T0),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){q0.render(this.render)}}class iC extends P8{constructor(){super(...arguments),this.KeyframeResolver=PF}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Qt(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function oC(e,{style:t,vars:r},n,a){const i=e.style;let o;for(o in t)i[o]=t[o];a==null||a.applyProjectionStyles(i,n);for(o in r)i.setProperty(o,r[o])}function T8(e){return window.getComputedStyle(e)}class A8 extends iC{constructor(){super(...arguments),this.type="html",this.renderInstance=oC}readValueFromInstance(t,r){var n;if(ol.has(r))return(n=this.projection)!=null&&n.isProjecting?px(r):KD(t,r);{const a=T8(t),i=(I0(r)?a.getPropertyValue(r):a[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return nC(t,r)}build(t,r,n){Y0(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return Z0(t,r,n)}}const lC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function R8(e,t,r,n){oC(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(lC.has(a)?a:ey(a),t.attrs[a])}class I8 extends iC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=jt}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(ol.has(r)){const n=Ok(r);return n&&n.default||0}return r=lC.has(r)?r:ey(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return Qk(t,r,n)}build(t,r,n){Gk(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,a){R8(t,r,n,a)}mount(t){this.isSVGTag=Yk(t.tagName),super.mount(t)}}const O8=(e,t)=>Q0(e)?new I8(t):new A8(t,{allowProjection:e!==f.Fragment});function bo(e,t,r){const n=e.getProps();return X0(n,t,r!==void 0?r:n.custom,e)}const Sx=e=>Array.isArray(e);function L8(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Ho(r))}function M8(e){return Sx(e)?e[e.length-1]||0:e}function D8(e,t){const r=bo(e,t);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const o in i){const l=M8(i[o]);L8(e,o,l)}}function F8(e){return!!(Qt(e)&&e.add)}function kx(e,t){const r=e.getValue("willChange");if(F8(r))return r.add(t);if(!r&&gn.WillChange){const n=new gn.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function cC(e){return e.props[Xk]}const $8=e=>e!==null;function U8(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter($8),i=t&&r!=="loop"&&t%2===1?0:a.length-1;return a[i]}const V8={type:"spring",stiffness:500,damping:25,restSpeed:10},B8=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),z8={type:"keyframes",duration:.8},W8={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},q8=(e,{keyframes:t})=>t.length>2?z8:ol.has(e)?e.startsWith("scale")?B8(t[1]):V8:W8;function H8({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const ty=(e,t,r,n={},a,i)=>o=>{const l=z0(n,e)||{},c=l.delay||n.delay||0;let{elapsed:d=0}=n;d=d-zs(c);const u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:m=>{t.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:a};H8(l)||Object.assign(u,q8(e,u)),u.duration&&(u.duration=zs(u.duration)),u.repeatDelay&&(u.repeatDelay=zs(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(bx(u),u.delay===0&&(h=!0)),(gn.instantAnimations||gn.skipAnimations)&&(h=!0,bx(u),u.delay=0),u.allowFlatten=!l.type&&!l.ease,h&&!i&&t.get()!==void 0){const m=U8(u.keyframes,l);if(m!==void 0){ct.update(()=>{u.onUpdate(m),u.onComplete()});return}}return l.isSync?new V0(u):new gF(u)};function G8({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function dC(e,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=t;n&&(i=n);const c=[],d=a&&e.animationState&&e.animationState.getState()[a];for(const u in l){const h=e.getValue(u,e.latestValues[u]??null),m=l[u];if(m===void 0||d&&G8(d,u))continue;const x={delay:r,...z0(i||{},u)},g=h.get();if(g!==void 0&&!h.isAnimating&&!Array.isArray(m)&&m===g&&!x.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const b=cC(e);if(b){const p=window.MotionHandoffAnimation(b,u,ct);p!==null&&(x.startTime=p,v=!0)}}kx(e,u),h.start(ty(u,h,m,e.shouldReduceMotion&&Ak.has(u)?{type:!1}:x,e,v));const w=h.animation;w&&c.push(w)}return o&&Promise.all(c).then(()=>{ct.update(()=>{o&&D8(e,o)})}),c}function uC(e,t,r,n=0,a=1){const i=Array.from(e).sort((d,u)=>d.sortNodePosition(u)).indexOf(t),o=e.size,l=(o-1)*n;return typeof r=="function"?r(i,o):a===1?i*n:l-i*n}function Cx(e,t,r={}){var c;const n=bo(e,t,r.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const i=n?()=>Promise.all(dC(e,n,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:m}=a;return K8(e,t,d,u,h,m,r)}:()=>Promise.resolve(),{when:l}=a;if(l){const[d,u]=l==="beforeChildren"?[i,o]:[o,i];return d().then(()=>u())}else return Promise.all([i(),o(r.delay)])}function K8(e,t,r=0,n=0,a=0,i=1,o){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(Cx(c,t,{...o,delay:r+(typeof n=="function"?0:n)+uC(e.variantChildren,c,n,a,i)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function Y8(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(i=>Cx(e,i,r));n=Promise.all(a)}else if(typeof t=="string")n=Cx(e,t,r);else{const a=typeof t=="function"?bo(e,t,r.custom):t;n=Promise.all(dC(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function hC(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const J8=K0.length;function fC(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?fC(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<J8;r++){const n=K0[r],a=e.props[n];(_c(a)||a===!1)&&(t[n]=a)}return t}const Q8=[...G0].reverse(),X8=G0.length;function Z8(e){return t=>Promise.all(t.map(({animation:r,options:n})=>Y8(e,r,n)))}function e$(e){let t=Z8(e),r=Bw(),n=!0;const a=c=>(d,u)=>{var m;const h=bo(e,u,c==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);if(h){const{transition:x,transitionEnd:g,...v}=h;d={...d,...v,...g}}return d};function i(c){t=c(e)}function o(c){const{props:d}=e,u=fC(e.parent)||{},h=[],m=new Set;let x={},g=1/0;for(let w=0;w<X8;w++){const b=Q8[w],p=r[b],y=d[b]!==void 0?d[b]:u[b],j=_c(y),N=b===c?p.isActive:null;N===!1&&(g=w);let k=y===u[b]&&y!==d[b]&&j;if(k&&n&&e.manuallyAnimateOnMount&&(k=!1),p.protectedKeys={...x},!p.isActive&&N===null||!y&&!p.prevProp||Vh(y)||typeof y=="boolean")continue;const _=t$(p.prevProp,y);let S=_||b===c&&p.isActive&&!k&&j||w>g&&j,P=!1;const C=Array.isArray(y)?y:[y];let A=C.reduce(a(b),{});N===!1&&(A={});const{prevResolvedValues:L={}}=p,F={...L,...A},E=Y=>{S=!0,m.has(Y)&&(P=!0,m.delete(Y)),p.needsAnimating[Y]=!0;const M=e.getValue(Y);M&&(M.liveStyle=!1)};for(const Y in F){const M=A[Y],G=L[Y];if(x.hasOwnProperty(Y))continue;let R=!1;Sx(M)&&Sx(G)?R=!hC(M,G):R=M!==G,R?M!=null?E(Y):m.add(Y):M!==void 0&&m.has(Y)?E(Y):p.protectedKeys[Y]=!0}p.prevProp=y,p.prevResolvedValues=A,p.isActive&&(x={...x,...A}),n&&e.blockInitialAnimation&&(S=!1);const W=k&&_;S&&(!W||P)&&h.push(...C.map(Y=>{const M={type:b};if(typeof Y=="string"&&n&&!W&&e.manuallyAnimateOnMount&&e.parent){const{parent:G}=e,R=bo(G,Y);if(G.enteringChildren&&R){const{delayChildren:D}=R.transition||{};M.delay=uC(G.enteringChildren,e,D)}}return{animation:Y,options:M}}))}if(m.size){const w={};if(typeof d.initial!="boolean"){const b=bo(e,Array.isArray(d.initial)?d.initial[0]:d.initial);b&&b.transition&&(w.transition=b.transition)}m.forEach(b=>{const p=e.getBaseTarget(b),y=e.getValue(b);y&&(y.liveStyle=!0),w[b]=p??null}),h.push({animation:w})}let v=!!h.length;return n&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(v=!1),n=!1,v?t(h):Promise.resolve()}function l(c,d){var h;if(r[c].isActive===d)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(m=>{var x;return(x=m.animationState)==null?void 0:x.setActive(c,d)}),r[c].isActive=d;const u=o(c);for(const m in r)r[m].protectedKeys={};return u}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=Bw()}}}function t$(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!hC(t,e):!1}function Ta(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Bw(){return{animate:Ta(!0),whileInView:Ta(),whileHover:Ta(),whileTap:Ta(),whileDrag:Ta(),whileFocus:Ta(),exit:Ta()}}class Sa{constructor(t){this.isMounted=!1,this.node=t}update(){}}class r$ extends Sa{constructor(t){super(t),t.animationState||(t.animationState=e$(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Vh(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let s$=0;class n$ extends Sa{constructor(){super(...arguments),this.id=s$++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const a$={animation:{Feature:r$},exit:{Feature:n$}};function kc(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Xc(e){return{point:{x:e.pageX,y:e.pageY}}}const i$=e=>t=>H0(t)&&e(t,Xc(t));function Kl(e,t,r,n){return kc(e,t,i$(r),n)}const mC=1e-4,o$=1-mC,l$=1+mC,pC=.01,c$=0-pC,d$=0+pC;function cr(e){return e.max-e.min}function u$(e,t,r){return Math.abs(e-t)<=r}function zw(e,t,r,n=.5){e.origin=n,e.originPoint=ht(t.min,t.max,e.origin),e.scale=cr(r)/cr(t),e.translate=ht(r.min,r.max,e.origin)-e.originPoint,(e.scale>=o$&&e.scale<=l$||isNaN(e.scale))&&(e.scale=1),(e.translate>=c$&&e.translate<=d$||isNaN(e.translate))&&(e.translate=0)}function Yl(e,t,r,n){zw(e.x,t.x,r.x,n?n.originX:void 0),zw(e.y,t.y,r.y,n?n.originY:void 0)}function Ww(e,t,r){e.min=r.min+t.min,e.max=e.min+cr(t)}function h$(e,t,r){Ww(e.x,t.x,r.x),Ww(e.y,t.y,r.y)}function qw(e,t,r){e.min=t.min-r.min,e.max=e.min+cr(t)}function Jl(e,t,r){qw(e.x,t.x,r.x),qw(e.y,t.y,r.y)}function Gr(e){return[e("x"),e("y")]}const xC=({current:e})=>e?e.ownerDocument.defaultView:null,Hw=(e,t)=>Math.abs(e-t);function f$(e,t){const r=Hw(e.x,t.x),n=Hw(e.y,t.y);return Math.sqrt(r**2+n**2)}class gC{constructor(t,r,{transformPagePoint:n,contextWindow:a=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=jm(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,g=f$(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!g)return;const{point:v}=m,{timestamp:w}=Bt;this.history.push({...v,timestamp:w});const{onStart:b,onMove:p}=this.handlers;x||(b&&b(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),p&&p(this.lastMoveEvent,m)},this.handlePointerMove=(m,x)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=wm(x,this.transformPagePoint),ct.update(this.updatePoint,!0)},this.handlePointerUp=(m,x)=>{this.end();const{onEnd:g,onSessionEnd:v,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=jm(m.type==="pointercancel"?this.lastMoveEventInfo:wm(x,this.transformPagePoint),this.history);this.startEvent&&g&&g(m,b),v&&v(m,b)},!H0(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=a||window;const l=Xc(t),c=wm(l,this.transformPagePoint),{point:d}=c,{timestamp:u}=Bt;this.history=[{...d,timestamp:u}];const{onSessionStart:h}=r;h&&h(t,jm(c,this.history)),this.removeListeners=Yc(Kl(this.contextWindow,"pointermove",this.handlePointerMove),Kl(this.contextWindow,"pointerup",this.handlePointerUp),Kl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),da(this.updatePoint)}}function wm(e,t){return t?{point:t(e.point)}:e}function Gw(e,t){return{x:e.x-t.x,y:e.y-t.y}}function jm({point:e},t){return{point:e,delta:Gw(e,yC(t)),offset:Gw(e,m$(t)),velocity:p$(t,.1)}}function m$(e){return e[0]}function yC(e){return e[e.length-1]}function p$(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=yC(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>zs(t)));)r--;if(!n)return{x:0,y:0};const i=es(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function x$(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?ht(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?ht(r,e,n.max):Math.min(e,r)),e}function Kw(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function g$(e,{top:t,left:r,bottom:n,right:a}){return{x:Kw(e.x,r,a),y:Kw(e.y,t,n)}}function Yw(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function y$(e,t){return{x:Yw(e.x,t.x),y:Yw(e.y,t.y)}}function v$(e,t){let r=.5;const n=cr(e),a=cr(t);return a>n?r=wc(t.min,t.max-n,e.min):n>a&&(r=wc(e.min,e.max-a,t.min)),xn(0,1,r)}function b$(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const Ex=.35;function w$(e=Ex){return e===!1?e=0:e===!0&&(e=Ex),{x:Jw(e,"left","right"),y:Jw(e,"top","bottom")}}function Jw(e,t,r){return{min:Qw(e,t),max:Qw(e,r)}}function Qw(e,t){return typeof e=="number"?e:e[t]||0}const j$=new WeakMap;class N${constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=jt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Xc(h).point)},o=(h,m)=>{const{drag:x,dragPropagation:g,onDragStart:v}=this.getProps();if(x&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=OF(x),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Gr(b=>{let p=this.getAxisMotionValue(b).get()||0;if(Ws.test(p)){const{projection:y}=this.visualElement;if(y&&y.layout){const j=y.layout.layoutBox[b];j&&(p=cr(j)*(parseFloat(p)/100))}}this.originPoint[b]=p}),v&&ct.postRender(()=>v(h,m)),kx(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},l=(h,m)=>{this.latestPointerEvent=h,this.latestPanInfo=m;const{dragPropagation:x,dragDirectionLock:g,onDirectionLock:v,onDrag:w}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:b}=m;if(g&&this.currentDirection===null){this.currentDirection=_$(b),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",m.point,b),this.updateAxis("y",m.point,b),this.visualElement.render(),w&&w(h,m)},c=(h,m)=>{this.latestPointerEvent=h,this.latestPanInfo=m,this.stop(h,m),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Gr(h=>{var m;return this.getAnimationState(h)==="paused"&&((m=this.getAxisMotionValue(h).animation)==null?void 0:m.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new gC(t,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:n,contextWindow:xC(this.visualElement)})}stop(t,r){const n=t||this.latestPointerEvent,a=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!a||!n)return;const{velocity:o}=a;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&ct.postRender(()=>l(n,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!Ud(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=x$(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,a=this.constraints;t&&ao(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=g$(n.layoutBox,t):this.constraints=!1,this.elastic=w$(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Gr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=b$(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!ao(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=S8(n,a.root,this.visualElement.getTransformPagePoint());let o=y$(a.layout.layoutBox,i);if(r){const l=r(j8(o));this.hasMutatedConstraints=!!l,l&&(o=tC(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Gr(u=>{if(!Ud(u,r,this.currentDirection))return;let h=c&&c[u]||{};o&&(h={min:0,max:0});const m=a?200:1e6,x=a?40:1e7,g={type:"inertia",velocity:n?t[u]:0,bounceStiffness:m,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(u,g)});return Promise.all(d).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return kx(this.visualElement,t),n.start(ty(t,n,0,r,this.visualElement,!1))}stopAnimation(){Gr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Gr(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Gr(r=>{const{drag:n}=this.getProps();if(!Ud(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[r];i.set(t[r]-ht(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!ao(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Gr(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();a[o]=v$({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Gr(o=>{if(!Ud(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(ht(c,d,a[o]))})}addListeners(){if(!this.visualElement.current)return;j$.set(this.visualElement,this);const t=this.visualElement.current,r=Kl(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();ao(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ct.read(n);const o=kc(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Gr(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=Ex,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Ud(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function _$(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class S$ extends Sa{constructor(t){super(t),this.removeGroupControls=rs,this.removeListeners=rs,this.controls=new N$(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||rs}unmount(){this.removeGroupControls(),this.removeListeners()}}const Xw=e=>(t,r)=>{e&&ct.postRender(()=>e(t,r))};class k$ extends Sa{constructor(){super(...arguments),this.removePointerDownListener=rs}onPointerDown(t){this.session=new gC(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:xC(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:Xw(t),onStart:Xw(r),onMove:n,onEnd:(i,o)=>{delete this.session,a&&ct.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=Kl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const gu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Zw(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const _l={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ee.test(e))e=parseFloat(e);else return e;const r=Zw(e,t.target.x),n=Zw(e,t.target.y);return`${r}% ${n}%`}},C$={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=ua.parse(e);if(a.length>5)return n;const i=ua.createTransformer(e),o=typeof a[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;a[0+o]/=l,a[1+o]/=c;const d=ht(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=d),typeof a[3+o]=="number"&&(a[3+o]/=d),i(a)}};let Nm=!1;class E$ extends f.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=t;JF(P$),i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),Nm&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),gu.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,{projection:o}=n;return o&&(o.isPresent=i,Nm=!0,a||t.layoutDependency!==r||r===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||ct.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),q0.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;Nm=!0,a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function vC(e){const[t,r]=zF(),n=f.useContext(Q2);return s.jsx(E$,{...e,layoutGroup:n,switchLayoutGroup:f.useContext(Zk),isPresent:t,safeToRemove:r})}const P$={borderRadius:{..._l,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:_l,borderTopRightRadius:_l,borderBottomLeftRadius:_l,borderBottomRightRadius:_l,boxShadow:C$};function T$(e,t,r){const n=Qt(e)?e:Ho(e);return n.start(ty("",n,t,r)),n.animation}const A$=(e,t)=>e.depth-t.depth;class R${constructor(){this.children=[],this.isDirty=!1}add(t){k0(this.children,t),this.isDirty=!0}remove(t){C0(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(A$),this.isDirty=!1,this.children.forEach(t)}}function I$(e,t){const r=_r.now(),n=({timestamp:a})=>{const i=a-r;i>=t&&(da(n),e(i-t))};return ct.setup(n,!0),()=>da(n)}const bC=["TopLeft","TopRight","BottomLeft","BottomRight"],O$=bC.length,ej=e=>typeof e=="string"?parseFloat(e):e,tj=e=>typeof e=="number"||Ee.test(e);function L$(e,t,r,n,a,i){a?(e.opacity=ht(0,r.opacity??1,M$(n)),e.opacityExit=ht(t.opacity??1,0,D$(n))):i&&(e.opacity=ht(t.opacity??1,r.opacity??1,n));for(let o=0;o<O$;o++){const l=`border${bC[o]}Radius`;let c=rj(t,l),d=rj(r,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||tj(c)===tj(d)?(e[l]=Math.max(ht(ej(c),ej(d),n),0),(Ws.test(d)||Ws.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||r.rotate)&&(e.rotate=ht(t.rotate||0,r.rotate||0,n))}function rj(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const M$=wC(0,.5,lk),D$=wC(.5,.95,rs);function wC(e,t,r){return n=>n<e?0:n>t?1:r(wc(e,t,n))}function sj(e,t){e.min=t.min,e.max=t.max}function Hr(e,t){sj(e.x,t.x),sj(e.y,t.y)}function nj(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function aj(e,t,r,n,a){return e-=t,e=th(e,1/r,n),a!==void 0&&(e=th(e,1/a,n)),e}function F$(e,t=0,r=1,n=.5,a,i=e,o=e){if(Ws.test(t)&&(t=parseFloat(t),t=ht(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=ht(i.min,i.max,n);e===i&&(l-=t),e.min=aj(e.min,t,r,l,a),e.max=aj(e.max,t,r,l,a)}function ij(e,t,[r,n,a],i,o){F$(e,t[r],t[n],t[a],t.scale,i,o)}const $$=["x","scaleX","originX"],U$=["y","scaleY","originY"];function oj(e,t,r,n){ij(e.x,t,$$,r?r.x:void 0,n?n.x:void 0),ij(e.y,t,U$,r?r.y:void 0,n?n.y:void 0)}function lj(e){return e.translate===0&&e.scale===1}function jC(e){return lj(e.x)&&lj(e.y)}function cj(e,t){return e.min===t.min&&e.max===t.max}function V$(e,t){return cj(e.x,t.x)&&cj(e.y,t.y)}function dj(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function NC(e,t){return dj(e.x,t.x)&&dj(e.y,t.y)}function uj(e){return cr(e.x)/cr(e.y)}function hj(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class B${constructor(){this.members=[]}add(t){k0(this.members,t),t.scheduleRender()}remove(t){if(C0(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function z$(e,t,r){let n="";const a=e.x.translate/t.x,i=e.y.translate/t.y,o=(r==null?void 0:r.z)||0;if((a||i||o)&&(n=`translate3d(${a}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:d,rotate:u,rotateX:h,rotateY:m,skewX:x,skewY:g}=r;d&&(n=`perspective(${d}px) ${n}`),u&&(n+=`rotate(${u}deg) `),h&&(n+=`rotateX(${h}deg) `),m&&(n+=`rotateY(${m}deg) `),x&&(n+=`skewX(${x}deg) `),g&&(n+=`skewY(${g}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const _m=["","X","Y","Z"],W$=1e3;let q$=0;function Sm(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function _C(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=cC(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",ct,!(a||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&_C(n)}function SC({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(o={},l=t==null?void 0:t()){this.id=q$++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(K$),this.nodes.forEach(X$),this.nodes.forEach(Z$),this.nodes.forEach(Y$)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new R$)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new T0),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Uk(o)&&!UF(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let u,h=0;const m=()=>this.root.updateBlockedByResize=!1;ct.read(()=>{h=window.innerWidth}),e(o,()=>{const x=window.innerWidth;x!==h&&(h=x,this.root.updateBlockedByResize=!0,u&&u(),u=I$(m,250),gu.hasAnimatedSinceResize&&(gu.hasAnimatedSinceResize=!1,this.nodes.forEach(pj)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:m,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||nU,{onLayoutAnimationStart:v,onLayoutAnimationComplete:w}=d.getProps(),b=!this.targetLayout||!NC(this.targetLayout,x),p=!h&&m;if(this.options.layoutRoot||this.resumeFrom||p||h&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const y={...z0(g,"layout"),onPlay:v,onComplete:w};(d.shouldReduceMotion||this.options.layoutRoot)&&(y.delay=0,y.type=!1),this.startAnimation(y),this.setAnimationOrigin(u,p)}else h||pj(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),da(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(eU),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&_C(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(fj);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(mj);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Q$),this.nodes.forEach(H$),this.nodes.forEach(G$)):this.nodes.forEach(mj),this.clearAllSnapshots();const l=_r.now();Bt.delta=xn(0,1e3/60,l-Bt.timestamp),Bt.timestamp=l,Bt.isProcessing=!0,fm.update.process(Bt),fm.preRender.process(Bt),fm.render.process(Bt),Bt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,q0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(J$),this.sharedNodes.forEach(tU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ct.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ct.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!cr(this.snapshot.measuredBox.x)&&!cr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=jt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!jC(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||La(this.latestValues)||u)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),aU(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return jt();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(iU))){const{scroll:u}=this.root;u&&(io(l.x,u.offset.x),io(l.y,u.offset.y))}return l}removeElementScroll(o){var c;const l=jt();if(Hr(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:h,options:m}=u;u!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&Hr(l,o),io(l.x,h.offset.x),io(l.y,h.offset.y))}return l}applyTransform(o,l=!1){const c=jt();Hr(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&oo(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),La(u.latestValues)&&oo(c,u.latestValues)}return La(this.latestValues)&&oo(c,this.latestValues),c}removeTransform(o){const l=jt();Hr(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!La(d.latestValues))continue;jx(d.latestValues)&&d.updateSnapshot();const u=jt(),h=d.measurePageBox();Hr(u,h),oj(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return La(this.latestValues)&&oj(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Bt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var m;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=Bt.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=jt(),this.relativeTargetOrigin=jt(),Jl(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),Hr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=jt(),this.targetWithTransforms=jt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),h$(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Hr(this.target,this.layout.layoutBox),sC(this.target,this.targetDelta)):Hr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=jt(),this.relativeTargetOrigin=jt(),Jl(this.relativeTargetOrigin,this.target,x.target),Hr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||jx(this.parent.latestValues)||rC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var g;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Bt.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;Hr(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;_8(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=jt());const{target:x}=o;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(nj(this.prevProjectionDelta.x,this.projectionDelta.x),nj(this.prevProjectionDelta.y,this.projectionDelta.y)),Yl(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==m||!hj(this.projectionDelta.x,this.prevProjectionDelta.x)||!hj(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=lo(),this.projectionDelta=lo(),this.projectionDeltaWithTransform=lo()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},h=lo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=jt(),x=c?c.source:void 0,g=this.layout?this.layout.source:void 0,v=x!==g,w=this.getStack(),b=!w||w.members.length<=1,p=!!(v&&!b&&this.options.crossfade===!0&&!this.path.some(sU));this.animationProgress=0;let y;this.mixTargetDelta=j=>{const N=j/1e3;xj(h.x,o.x,N),xj(h.y,o.y,N),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Jl(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),rU(this.relativeTarget,this.relativeTargetOrigin,m,N),y&&V$(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=jt()),Hr(y,this.relativeTarget)),v&&(this.animationValues=u,L$(u,d,this.latestValues,N,p,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(da(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ct.update(()=>{gu.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ho(0)),this.currentAnimation=T$(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(W$),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&kC(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||jt();const h=cr(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const m=cr(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}Hr(l,c),oo(l,u),Yl(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new B$),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&Sm("z",o,d,this.animationValues);for(let u=0;u<_m.length;u++)Sm(`rotate${_m[u]}`,o,d,this.animationValues),Sm(`skew${_m[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=xu(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=xu(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!La(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=d.animationValues||d.latestValues;this.applyTransformsToTarget();let h=z$(this.projectionDeltaWithTransform,this.treeScale,u);c&&(h=c(u,h)),o.transform=h;const{x:m,y:x}=this.projectionDelta;o.transformOrigin=`${m.origin*100}% ${x.origin*100}% 0`,d.animationValues?o.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const g in Sc){if(u[g]===void 0)continue;const{correct:v,applyTo:w,isCSSVariable:b}=Sc[g],p=h==="none"?u[g]:v(u[g],d);if(w){const y=w.length;for(let j=0;j<y;j++)o[w[j]]=p}else b?this.options.visualElement.renderState.vars[g]=p:o[g]=p}this.options.layoutId&&(o.pointerEvents=d===this?xu(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(fj),this.root.sharedNodes.clear()}}}function H$(e){e.updateLayout()}function G$(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?Gr(h=>{const m=o?t.measuredBox[h]:t.layoutBox[h],x=cr(m);m.min=n[h].min,m.max=m.min+x}):kC(i,t.layoutBox,n)&&Gr(h=>{const m=o?t.measuredBox[h]:t.layoutBox[h],x=cr(n[h]);m.max=m.min+x,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+x)});const l=lo();Yl(l,n,t.layoutBox);const c=lo();o?Yl(c,e.applyTransform(a,!0),t.measuredBox):Yl(c,n,t.layoutBox);const d=!jC(l);let u=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:x}=h;if(m&&x){const g=jt();Jl(g,t.layoutBox,m.layoutBox);const v=jt();Jl(v,n,x.layoutBox),NC(g,v)||(u=!0),h.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=g,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function K$(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Y$(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function J$(e){e.clearSnapshot()}function fj(e){e.clearMeasurements()}function mj(e){e.isLayoutDirty=!1}function Q$(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function pj(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function X$(e){e.resolveTargetDelta()}function Z$(e){e.calcProjection()}function eU(e){e.resetSkewAndRotation()}function tU(e){e.removeLeadSnapshot()}function xj(e,t,r){e.translate=ht(t.translate,0,r),e.scale=ht(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function gj(e,t,r,n){e.min=ht(t.min,r.min,n),e.max=ht(t.max,r.max,n)}function rU(e,t,r,n){gj(e.x,t.x,r.x,n),gj(e.y,t.y,r.y,n)}function sU(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const nU={duration:.45,ease:[.4,0,.1,1]},yj=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),vj=yj("applewebkit/")&&!yj("chrome/")?Math.round:rs;function bj(e){e.min=vj(e.min),e.max=vj(e.max)}function aU(e){bj(e.x),bj(e.y)}function kC(e,t,r){return e==="position"||e==="preserve-aspect"&&!u$(uj(t),uj(r),.2)}function iU(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const oU=SC({attachResizeListener:(e,t)=>kc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),km={current:void 0},CC=SC({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!km.current){const e=new oU({});e.mount(window),e.setOptions({layoutScroll:!0}),km.current=e}return km.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),lU={pan:{Feature:k$},drag:{Feature:S$,ProjectionNode:CC,MeasureLayout:vC}};function wj(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=n[a];i&&ct.postRender(()=>i(t,Xc(t)))}class cU extends Sa{mount(){const{current:t}=this.node;t&&(this.unmount=LF(t,(r,n)=>(wj(this.node,n,"Start"),a=>wj(this.node,a,"End"))))}unmount(){}}class dU extends Sa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Yc(kc(this.node.current,"focus",()=>this.onFocus()),kc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function jj(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=n[a];i&&ct.postRender(()=>i(t,Xc(t)))}class uU extends Sa{mount(){const{current:t}=this.node;t&&(this.unmount=$F(t,(r,n)=>(jj(this.node,n,"Start"),(a,{success:i})=>jj(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Px=new WeakMap,Cm=new WeakMap,hU=e=>{const t=Px.get(e.target);t&&t(e)},fU=e=>{e.forEach(hU)};function mU({root:e,...t}){const r=e||document;Cm.has(r)||Cm.set(r,{});const n=Cm.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(fU,{root:e,...t})),n[a]}function pU(e,t,r){const n=mU(t);return Px.set(e,r),n.observe(e),()=>{Px.delete(e),n.unobserve(e)}}const xU={some:0,all:1};class gU extends Sa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:xU[a]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),m=d?u:h;m&&m(c)};return pU(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(yU(t,r))&&this.startObserver()}unmount(){}}function yU({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const vU={inView:{Feature:gU},tap:{Feature:uU},focus:{Feature:dU},hover:{Feature:cU}},bU={layout:{ProjectionNode:CC,MeasureLayout:vC}},wU={...a$,...vU,...lU,...bU},Fs=w8(wU,O8),jU="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOkAAACBCAYAAAAlkJ3UAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAvqSURBVHgB7d3rmdNGGwbgdyTZSX59pgJEBVkqiLcCditYUwFQAVABSwWYCggVrKnggwoQFeD8SmJbM5l3JC3exQfZ1oxGo+e+Lsd7Dix+NKM5vEME0DFKqZF+vFF5/l0/lHmW8kY/v1HL5ZgCIwjAcxxKyvMxCfGHfpzpD4z3fEumHzP9PW/FcPiZOg4hBe+oxeJMP40pjn83z0QpHS/ToX5Ny+VM/PZbRh2EkIIXTDc1iq70mxf6MSIbhJiRlO9FkkypQxBSaJ2+l3ynnybkTkZFd/jL7Ufy/E9fW1qEFFql7zdf6tbtFbVvTovFYx+DipBCa8ou7g35QneHRRSdk2cQUmiN7uZ+pdMGhZon5bkYDGbkkYgAWqBWqwn5FlAWxy/JM2hJoRVetqKVKHoghJiTJ9CSgnPetqKV5XJCHkFIwb1iPtRfxSIKbyCk4JSecklrLOtrF/8ZPYKQgltSejcws8Ff5BGEFFwbk++E+E4eQUjBmXIbWUpwEIQU3PF9wKjC2+E8gpCCS2PqAgwcQR91rKvLlR8ekicQUnDlgrpkuXxAnkBIwQ3PFgjsMDeL7D0qu4K1u2CdqVEkpVfTGjtMRRw/JY+gJQX7ViuvRkt3kvI9eQYhBRfG1BG+7SVlCCnYJ0Q37keF8LL8J0IK9gmRUhdI6c0e0nUIKVhlBo2IunJP6tXC+gpCCnYtlyl1hWcL6ysIKdglhJ1C1zZ42i1PCMCmLoVUqbEp1K3Up/L91DwLkbV5TAUWM4BVpp6REO8oDFNaLF67Diu6uwD1TWg4vCkHw5xBSAEOk9Jq9ZwcQkgBDhVFz1y2pggp2KVURuEZuWxNEVKAYzhsTRFSsCtJMgrTyFWle4QU4FhJ8oQcwDwpWKfyXFGooigVQnwji9CSggte7i5pxGplvYoDQgouhBvSOP6DLENIwT5e+xoqXu9rufwnQgr2SWn1nq11y+UlWYSQgn1hLmj4wfIoL0IK9oXc3WVKndlc2ICQgn1Selngq0EjmxUoEFKwbzAId3T3B2t1nBBSsE4U3d2wg2qx9ApCCq5kFDbck0LHKfWFQmbxgGSEFNwIfRqGzzQtzmBtHEIKboQ+DcPi+CVZgJCCG+G3pNUSwcbvTRFScEOIZ9QHFsqqYD8pWKe4yLSUX6kf5iKOH1CD0JKCfVJauVfz1MgUBG8QWlKwqmxF/08W5xE9NNdTMo+EEI0s4EBLCnYVrWifAspG+u/9hhqCkII1uhXlgE6onybl3/9k6O6CFT0bLNpOynMxGMzoBGhJwQ4pbwjYmE6EkELjyuVxKUGm502ndCKEFJrn6YnZzi0W502cZYqQQvOE+J36Ls9fNHXYMAaOoFGmqxtF/b4flfK1Hix6RQ1BSKExZnF5sXAhpb5SaiaS5JwahO4uNCfPL6jfA0YZLZeNHzuREMAa0xrm+ZjLVOpu68O1QaC52W6W59/0xzP99lyPXGZ37ruEsH7kgsfmTQ0U3YfuLpD6+++Ufv31ivdDmsfh5mZTNy9g6N8SwEIDixa2QUh7yrSYfAguV18/LphQ4ZHc4fCaLEFIe0YVrd2VvvLz5uR+tnpNshxQhpD2hJkaieNnOqUXBM1Q6qkeyZ2SZQhp4EzLqdQ7dGkbNxVxbP0AYYbR3YCVO1F4YUFK0Kw8d1ZHGPOkgUJALRPC2SFUCGmAENCwIKQh4ntQBNSuJHG2oR0hDYwp2YFBoqBgdDcgKFnijh7ZdZYdtKQhQcmSICGkgSgr06UEwUF3NwA9LUDdKnR34TD9LEDdG2hJOw6DRe1ASwr19eswJG/oi+NDcgQh7bBy29mEwL3lstE6RrsgpF2GVrQ5QvxpHnUlyRU5gpCW1GJxZuModcvGBKfhhfJc+iSKLinP39b+PqWcvV4Q0kocf9D/WN+VlDdquXxVHpXgrfKg2pTgWHNTVSGKHt/WJkqSQ3a2cPkZJxvoMbq7xrzwhbi7KECIGa1WH/mKy/+YpmhXkqSmih5Xz7tfMc/Vn5VXF2GN7nGUeq8vys83HfKr8pxHytN6P8jNxm+EdIONYd1tSlH0oqmTnfcpi1B/JzjcnuryB4WUL9y6JSbL0N3dgOvW6CvkI65hQ1zweL8Jr/gxrawLXBcXDsV1gy+bPP6hLGFqHUK6gykyleeXNb88pV9++eBkMAHd3ENltFg81v+e9Udv68HAUZt44Eh3fd7oe5f6O0u46jvXsrUtjnFqWV08emupsjxzsaihV4XITHd0MDijH1fAuTkuocKDQcWxfRM69irp4mxOvhjAflK+1d3b5wd+l5NxhUMEH9K9ldpFw2NnbgpUYTH9PscePyjlJz0IWP8iuFw+0P/9RhaF35IqdaO7h2f6mRzIbBdLLhfUE2zFvaMXOqBTOgZPuRE9O+DrrV8wgw6pnkq5cNo1lPI9QZuyk+8/43jm20Uw7IEjIZ6QS3H8xNk0DNyl1KyJAaJyrttZTd06Qh/ddXvuCbfaw+FXxXOmlpYWCj5iENYVy/uSpLkRXL4vrctBac9gVxyZgESRD4W55mYwSSl+fDFLCXlEOc/nx76oDly6Fi7+vf7772XT0yvmNkmID3W+1sXm73DvSf2ZphiVo8pjM5JcjSbHMYeN3yoO4K1O0pbyW3kgbxHmwSD7abmhUp+cTPX47LjplXrq3pc6Omoi3JBGUVeOhh/duaBE5R1IFWb9YtFhnpcviLk5KEgIJ0PVHpqbe0+ij0eP3tbAF0X9O+ff9+4LPV9QHQg3pGG1NKPbOd4o6uv5opnNlUM/qTNfyr0dB0IeOMKqnHBwD+LS6ZbAYr50Hyerk4IMKVdZIAhFpgN6LoZDt9MifF+6D1rSE0RRShCCoovrOqDk13yp85CaWkJS8pau+kuvDiVlStB1bu9BN9k3XxpF4XV3dTCvzNYvpS70L+Bav/+GbOj79EQI2g4o23dfur6DyiInIeWdKCaQUk5pfQeHlM9N4a+ml9IJ4axwMVgxbT2grM59qQNbV0uY4MTxxZYNxnMdsL+Kn3A7EV9cVVarzDxXxbrq78+c6p/xkX8xGwtE8Zazf/4Z6c+PynvOkSlfEUX/M28LwTtd+P+REnTZ3FRR8CGkZFZ38UFYmwciuRRoVWnQoqTcb5maOSF+0XMoi8n1dOd3Rvca4WryfTikI3Hxr0k5ef/zZ3kFyP2fvb4XVPV1fj8wvJLIk4Aah+4vtSDRL+4POphj8x6/6PFih/ZkjRYKa4KjpX+7RCjFAZ4wo7nkGw/uS7nPilIc0D4pn3rVzS2JasxlE5T0hN5Q6qmLAZijbe/yoqQnBG9uRkgt14U6Ge882sTRfDxCCm3gcL7Wo6aPvG5BK9sWNUTR1anF0Hmqc9/PEHq6g88UwX0puMDhfKvn0K9dnZvThD1n72RlAboZrxWos864rBrC9bcmVMzx7zxTRqAUBziQmbM/B4Npl8K57sCczOlHxY3i/WqxT7Ho5ucZlSjiC9eLTT+s6ZBm5r/VFp71olnru9jXP85fW9QuLVYQFSuUihVEaOG779gi1Z7Rrd+1DpK9TSEsiiY6qD+VhU3KejopHafovqxWVtZamn2hvASQqxJweIUYE3QFb9R+rbt/1xQCF4sapJzqRvOBiOM7vzNh+tt5fl3WqK3TchV1ZpR628ZNv+nPc3eBaxgVo2tYjOHGnLbPF2bmmS/4RQ2mz50YEDpAw2fCZqZ6JHf9+ecWvcb0zuf5oiDlR1ouZ3cW2JsAcNezaLkeliHg4M7NGkYe5dqyAL4ta2uP0zK8D8tuM7rLx8pzvjeanVJ2NESNdnk5S9zT4NPj+fWa56/0x7h4Xnrv6z4Hf9K36TIXF56zclcOb2PDPe92To6Y7ypzCjzR1b050h9VHLaNvZhvvr2tHJnXoW747t8OlA1lWn49r2WeBR/SXe60wlzNoQpx8UviRxshzsrn9RHBMbmyWDxC6+mXXod0n9s9rLw3trJplUmdgTcO3Hq5jeo+rtx/uysYZXeIr7Dc1bJ3Dx7ISGxoENKOMYFdrZ6Xo93Nddn3TKhDexDSjjOt/Wp1dmeumZ+5YkXVwlefK6T3fkQnVwH1yX+0p0Q47G1jBQAAAABJRU5ErkJggg==",NU="/assets/weo-CeLOSvNK.png",_U=()=>{const e="https://dimesonlyworld.s3.us-east-2.amazonaws.com/9-16+1080+HOME+BANNER.webm",t="https://dimesonlyworld.s3.us-east-2.amazonaws.com/16-9+1080+cinema+HOME+banner.webm",r=()=>{const n=new URLSearchParams(window.location.search),a=_a(n.get("ref"))||"company";window.location.href=`/register?ref=${encodeURIComponent(a)}`};return s.jsxs("div",{className:"w-full",children:[s.jsxs("section",{className:"relative w-full h-[100svh] overflow-hidden bg-black",style:{height:"calc(var(--vh, 1vh) * 100)"},children:[s.jsx("style",{children:`
            @media only screen and (min-width: 744px) and (max-width: 1366px) {
              .hero-desktop-vid { display: block !important; }
              .hero-phone-vid { display: none !important; }
            }
            @media screen and (orientation: landscape) and (max-height: 480px) {
              .hero-phone-vid { object-fit: contain !important; background: #000 !important; }
            }
            @media screen and (max-width: 743px) and (orientation: landscape) {
              .hero-desktop-vid { display: block !important; }
              .hero-phone-vid { display: none !important; }
            }
          `}),s.jsx("video",{className:"hidden lg:block hero-desktop-vid absolute inset-0 w-full h-full object-cover object-center",autoPlay:!0,muted:!0,loop:!0,playsInline:!0,preload:"auto",children:s.jsx("source",{src:t,type:"video/webm"})}),s.jsx("video",{className:"block lg:hidden hero-phone-vid absolute inset-0 w-full h-full object-cover object-center",autoPlay:!0,muted:!0,loop:!0,playsInline:!0,preload:"auto",children:s.jsx("source",{src:e,type:"video/webm"})})]}),s.jsx("section",{className:"relative flex items-center justify-center py-20 px-6 sm:px-10 bg-black",children:s.jsxs(Fs.div,{initial:{opacity:0,y:60},whileInView:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},viewport:{once:!0},className:"flex flex-col md:flex-row items-center justify-between rounded-[2rem] p-10 md:p-14 lg:p-16 max-w-6xl w-full border border-gray-700 shadow-2xl",children:[s.jsxs("div",{className:"text-center md:text-left space-y-6 md:w-1/2",children:[s.jsxs(Fs.div,{initial:{opacity:0,x:-40},whileInView:{opacity:1,x:0},transition:{duration:.7,delay:.2},className:"flex items-center justify-center md:justify-start gap-4",children:[s.jsx("h1",{className:"text-6xl sm:text-7xl md:text-8xl font-extrabold tracking-tight bg-gradient-to-r from-indigo-400 via-indigo-500 to-indigo-700 text-transparent bg-clip-text drop-shadow-lg",children:"DIMES"}),s.jsx("img",{src:jU,alt:"Vector",className:"w-10 sm:w-12 md:w-14"})]}),s.jsxs(Fs.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:[s.jsx("h2",{className:"text-4xl sm:text-5xl md:text-6xl font-bold text-white",children:"ONLY WORLD"}),s.jsxs("p",{className:"text-gray-300 text-lg sm:text-xl md:text-2xl mt-3 leading-relaxed",children:["Welcome to the"," ",s.jsx("span",{className:"text-indigo-400 font-semibold",children:"Ultimate"})," ","Experience"]})]}),s.jsx(Fs.button,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},transition:{duration:.5,delay:.6},onClick:r,className:"mt-8 px-10 py-4 bg-indigo-600 text-white font-semibold text-lg rounded-full hover:bg-indigo-500 hover:scale-105 transition duration-300 shadow-md",children:"Get Started"})]}),s.jsx(Fs.div,{initial:{opacity:0,x:60},whileInView:{opacity:1,x:0},transition:{duration:.8,delay:.4},className:"relative mt-12 md:mt-0 md:w-1/2 flex justify-center",children:s.jsx("img",{src:NU,alt:"Hero figure",className:"w-[280px] sm:w-[340px] md:w-[420px] lg:w-[460px] object-contain rounded-[1.5rem] transition-transform duration-500 hover:scale-105",loading:"lazy"})})]})})]})};function Em(e){if(!e)return;const t=e.toLowerCase();if(t.endsWith(".mp4"))return"video/mp4";if(t.endsWith(".webm"))return"video/webm";if(t.endsWith(".ogg")||t.endsWith(".ogv"))return"video/ogg"}const SU=({srcDesktop:e,srcMobile:t,src:r,posterDesktop:n,posterMobile:a,className:i="",autoPlay:o=!0,loop:l=!0,muted:c=!0,playsInline:d=!0})=>{const[u,h]=f.useState(!1);f.useEffect(()=>{if(typeof window>"u")return;const v=window.matchMedia("(max-width: 768px)"),w=window.matchMedia("(orientation: portrait)"),b=()=>{h(v.matches||w.matches)};b();const p=(j,N)=>{j.addEventListener?j.addEventListener("change",N):j.addListener(N)},y=(j,N)=>{j.removeEventListener?j.removeEventListener("change",N):j.removeListener(N)};return p(v,b),p(w,b),()=>{y(v,b),y(w,b)}},[]);const m=f.useMemo(()=>r&&!e&&!t?{url:r,mime:Em(r)}:null,[r,e,t]),x=n||a||void 0,g=a||n||void 0;return s.jsxs("div",{className:`relative w-screen bg-black ${i}`,children:[t&&s.jsx("video",{autoPlay:o,loop:l,muted:c,playsInline:d,preload:"auto",poster:g,className:`absolute inset-0 w-screen h-full object-cover md:object-contain mx-auto transition-opacity duration-200 ${u?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,children:s.jsx("source",{src:t,type:Em(t)})},"mobile"),e&&s.jsx("video",{autoPlay:o,loop:l,muted:c,playsInline:d,preload:"auto",poster:x,className:`absolute inset-0 w-screen h-full object-cover mx-auto transition-opacity duration-200 ${u?"opacity-0 pointer-events-none":"opacity-100 pointer-events-auto"}`,children:s.jsx("source",{src:e,type:Em(e)})},"desktop"),m&&s.jsx("video",{autoPlay:o,loop:l,muted:c,playsInline:d,preload:"auto",poster:x,className:"absolute inset-0 w-screen h-full object-cover mx-auto",children:s.jsx("source",{src:m.url,type:m.mime})}),s.jsx("div",{className:"relative pb-[177.78%] md:pb-[56.25%]"})]})},kU=({className:e=""})=>{const[t,r]=f.useState(null),[n,a]=f.useState(null),[i,o]=f.useState(!0),[l,c]=f.useState("");f.useEffect(()=>{const u=new URLSearchParams(window.location.search),h=u.get("ref"),m=_a(h);if(console.log(" INDEX PAGE - ProfileVideoSection Debug:"),console.log(" Original URL:",window.location.href),console.log(" URL Search Params:",window.location.search),console.log(" Raw ref param:",u.get("ref")),console.log(" Processed ref param:",m),!h||m==="company"){console.log(" No specific user ref provided. Showing default hero."),r(null),o(!1);return}console.log(" Setting ref value and fetching profile for:",m),r(m),d(m)},[]);const d=async u=>{try{console.log(" Fetching profile for username:",u),console.log(" Username length:",u.length),console.log(" Username characters:",u.split("").map(A=>`${A}(${A.charCodeAt(0)})`).join(", ")),console.log("  SEARCHING FOR ALL SIMILAR USERNAMES...");const{data:h,error:m}=await I.from("users").select("username, front_page_photo").ilike("username",`%${u}%`);console.log("  ALL SIMILAR USERS FOUND:",h),h&&h.length>0&&(console.log("  DETAILED ANALYSIS OF SIMILAR USERS:"),h.forEach((A,L)=>{const F=String(A.username);if(console.log(`  Similar user ${L+1}:`),console.log(`    Database username: "${F}"`),console.log(`    Length: ${F.length} vs search: ${u.length}`),console.log(`    Characters: ${F.split("").map(E=>`${E}(${E.charCodeAt(0)})`).join(", ")}`),console.log(`    Exact match: ${F===u}`),console.log(`    Case insensitive match: ${F.toLowerCase()===u.toLowerCase()}`),console.log(`    Trimmed match: ${F.trim()===u.trim()}`),console.log(`    Trimmed case insensitive: ${F.trim().toLowerCase()===u.trim().toLowerCase()}`),console.log(`    Has photo: ${A.front_page_photo?"Yes":"No"}`),F.length===u.length){console.log("    Character comparison:");for(let E=0;E<u.length;E++){const W=u[E],U=F[E],Y=W===U;console.log(`      Position ${E}: "${W}"(${W.charCodeAt(0)}) vs "${U}"(${U.charCodeAt(0)}) - ${Y?"MATCH":"DIFFERENT"}`)}}})),console.log("  SEARCHING FOR ALL USERNAMES STARTING WITH 'miss'...");const{data:x,error:g}=await I.from("users").select("username").ilike("username","miss%").limit(20);console.log("  ALL USERNAMES STARTING WITH 'miss':",x==null?void 0:x.map(A=>String(A.username)));const{data:v,error:w}=await I.from("users").select("username, front_page_photo").eq("username",u).single();console.log(" Exact match result:",{data:v,error:w});const{data:b,error:p}=await I.from("users").select("username, front_page_photo").ilike("username",u).single();console.log(" Case-insensitive match result:",{data:b,error:p}),console.log("  TRYING TRIMMED WHITESPACE MATCHES...");const{data:y,error:j}=await I.from("users").select("username, front_page_photo").ilike("username",`%${u.trim()}%`);console.log(" Potential trimmed matches:",y);let N=null;y&&(N=y.find(A=>String(A.username).trim().toLowerCase()===u.trim().toLowerCase())),console.log(" Trimmed match result:",N),console.log("  TRYING DIFFERENT SQL PATTERNS...");const{data:k,error:_}=await I.from("users").select("username, front_page_photo").like("username",u.replace("_","\\_")).single();console.log(" Escaped underscore match:",{data:k,error:_});const{data:S,error:P}=await I.from("users").select("username, front_page_photo").like("username",u).single();console.log(" Wildcard underscore match:",{data:S,error:P});const C=v||b||N||k||S;c(`
        Original: "${u}"
        Length: ${u.length}
        Exact match: ${v?"Found":"Not found"}
        Case insensitive: ${b?"Found":"Not found"}
        Trimmed match: ${N?"Found":"Not found"}
        Escaped underscore: ${k?"Found":"Not found"}
        Wildcard underscore: ${S?"Found":"Not found"}
        Similar users: ${(h==null?void 0:h.length)||0}
        Similar usernames: ${(h==null?void 0:h.map(A=>`"${String(A.username)}"`).join(", "))||"None"}
        Miss users found: ${(x==null?void 0:x.length)||0}
        Miss usernames: ${(x==null?void 0:x.map(A=>`"${String(A.username)}"`).join(", "))||"None"}
        Final result: ${C?"Success":"Failed"}
        Match method: ${v?"Exact":b?"Case insensitive":N?"Trimmed whitespace":k?"Escaped underscore":S?"Wildcard":"None"}
      `),C?(console.log("  Profile found:",C.username),a({name:String(C.username).trim(),imgSrc:String(C.front_page_photo||"")||"https://via.placeholder.com/450x300?text=No+Photo+Available",alt:`${String(C.username).trim()} profile`})):(console.log("  No profile found for:",u),a(null))}catch(h){console.error("  Error fetching profile:",h),c(`Exception: ${h}`)}finally{o(!1)}};return i?s.jsxs("div",{className:`relative w-full min-h-screen flex items-center justify-center ${e}`,children:[s.jsx("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover z-0",children:s.jsx("source",{src:"https://dimesonlyworld.s3.us-east-2.amazonaws.com/Background-Ladies-1.webm",type:"video/webm"})}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 z-1"}),s.jsxs("div",{className:"relative z-10 text-center max-w-4xl mx-auto p-5",children:[s.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-8 text-yellow-400 uppercase tracking-wider",children:"LOADING..."}),s.jsx("p",{className:"text-white text-lg mt-6 font-semibold",children:t?`Searching for ${t}...`:"Loading..."}),!1]})]}):!n&&t?s.jsxs("div",{className:`relative w-full min-h-screen flex items-center justify-center ${e}`,children:[s.jsx("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover z-0",children:s.jsx("source",{src:"https://dimesonlyworld.s3.us-east-2.amazonaws.com/Background-Ladies-1.webm",type:"video/webm"})}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 z-1"}),s.jsxs("div",{className:"relative z-10 text-center max-w-4xl mx-auto p-5",children:[s.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-8 text-red-400 uppercase tracking-wider",children:"USER NOT FOUND"}),s.jsxs("p",{className:"text-white text-lg mt-6 font-semibold",children:["@",t," could not be found"]}),!1]})]}):n?s.jsxs("div",{className:`relative w-full min-h-screen flex items-center justify-center ${e}`,children:[s.jsx("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover z-0",children:s.jsx("source",{src:"https://dimesonlyworld.s3.us-east-2.amazonaws.com/Background-Ladies-1.webm",type:"video/webm"})}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 z-1"}),s.jsxs("div",{className:"relative z-10 text-center max-w-4xl mx-auto p-5",children:[s.jsxs("h1",{className:"text-2xl md:text-6xl font-bold mb-8 text-yellow-400 uppercase tracking-wider",children:["@",n.name]}),s.jsx("div",{className:"relative inline-block",children:s.jsx("img",{src:n.imgSrc,alt:n.alt,className:"w-full max-w-md mx-auto rounded-lg shadow-2xl",style:{boxShadow:"0 0 30px 10px rgba(255, 105, 180, 0.8)"},onError:u=>{u.currentTarget.src="https://via.placeholder.com/450x300?text=Image+Not+Found"}})}),s.jsx("p",{className:"text-white text-lg mt-6 font-semibold",children:"Welcome to the Ultimate Experience"}),!1]})]}):s.jsxs("div",{className:`relative w-full min-h-screen flex items-center justify-center ${e}`,children:[s.jsx("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover z-0",children:s.jsx("source",{src:"https://dimesonlyworld.s3.us-east-2.amazonaws.com/Background-Ladies-1.webm",type:"video/webm"})}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 z-1"}),s.jsxs("div",{className:"relative z-10 text-center max-w-4xl mx-auto p-5",children:[s.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-8 text-yellow-400 uppercase tracking-wider",children:"DIMES ONLY WORLD"}),s.jsx("p",{className:"text-white text-lg mt-6 font-semibold",children:"Welcome to the Ultimate Experience"})]})]})},CU="/assets/exo-nGSadyB2.png",EU="/assets/money-D73KnhIY.png",Nj=["https://dimesonly.s3.us-east-2.amazonaws.com/eroticgirl_77f16c72-f054-4fcd-a954-208021412fb9-768x1250.png","https://dimesonly.s3.us-east-2.amazonaws.com/Home-Dimes-5-768x1250.png","https://dimesonly.s3.us-east-2.amazonaws.com/Home-Dime-3-768x1250.png","https://dimesonly.s3.us-east-2.amazonaws.com/Home-Dime-4-768x1250.png","https://dimesonly.s3.us-east-2.amazonaws.com/home-dime5-768x1250.png","https://dimesonly.s3.us-east-2.amazonaws.com/Home-Dimes-1-768x1250.jpg","https://dimesonly.s3.us-east-2.amazonaws.com/home-dimes2-768x1250.png","https://dimesonly.s3.us-east-2.amazonaws.com/Home-Dimes-2-768x1250.png"],Pm=Array.from({length:20}).map((e,t)=>({id:`fallback-${t}`,username:`Model ${t+1}`,image:Nj[t%Nj.length],rank:t+1})),PU=({className:e=""})=>{const t=f.useRef(null),r=f.useRef(null),[n,a]=f.useState([]),[i,o]=f.useState(null),[l,c]=f.useState(null),[d,u]=f.useState(!1),[h,m]=f.useState(!1),[x,g]=f.useState(null),[v,w]=f.useState(!1),b=n.length>0?n.map((L,F)=>({id:L.id,username:L.username,image:L.profile_photo||L.front_page_photo||Pm[F%Pm.length].image,rank:L.rank})):Pm,p=()=>{const L=new URLSearchParams(window.location.search);return _a(L.get("ref"))},y=L=>{window.location.href=`/profile/${encodeURIComponent(L)}`},j=f.useCallback((L,F)=>{const E=L.current;if(!E||typeof window>"u")return;const W=E.querySelector("[data-carousel-card]");if(!W)return;const U=window.getComputedStyle(E),Y=parseFloat(U.getPropertyValue("column-gap")||U.getPropertyValue("gap")||"0")||0,M=F*(W.offsetWidth+Y||W.offsetWidth);E.scrollBy({left:M,behavior:"smooth"})},[]),N=async L=>{if(L.id.startsWith("fallback-")){c(null),u(!1);return}u(!0),c(null);try{const{data:F,error:E}=await I.from("user_media").select("media_url").eq("user_id",L.id).eq("media_type","video").eq("content_tier","silver").order("upload_date",{ascending:!1}).limit(1);E?console.error("[ImageCarousel] Error fetching silver video:",E):F&&F.length>0&&F[0].media_url&&c(String(F[0].media_url))}catch(F){console.error("[ImageCarousel] Unexpected error loading silver preview:",F)}finally{u(!1)}},k=async L=>{var F;o(L),m(!0),c(null),u(!0),N(L);try{const{data:E}=await I.auth.getSession();g(!!((F=E==null?void 0:E.session)!=null&&F.user))}catch(E){console.error("[ImageCarousel] Error checking auth state:",E),g(!1)}},_=L=>{if(!L||L.id.startsWith("fallback-")){const F=p();window.location.href=`/register?ref=${encodeURIComponent(F)}`;return}k(L)},S=()=>{m(!1),o(null),c(null),u(!1)},P=()=>{if(!i)return;if(x){y(i.username);return}const L=p(),F=new URL("/login",window.location.origin);F.searchParams.set("redirect",`/profile/${encodeURIComponent(i.username)}`),L&&F.searchParams.set("ref",L),window.location.href=F.toString()},C=()=>{if(!i)return;const L=p(),F=new URL("/register",window.location.origin);L&&F.searchParams.set("ref",L),F.searchParams.set("target",i.username),window.location.href=F.toString()};f.useEffect(()=>{const L=()=>{typeof window>"u"||w(window.innerWidth>window.innerHeight)};return L(),window.addEventListener("resize",L),()=>{window.removeEventListener("resize",L)}},[]),f.useEffect(()=>{let L=!0;return(async()=>{try{const E=new Date().getFullYear(),{data:W,error:U}=await I.from("ratings").select("user_id, rating").eq("year",E);if(U){console.error("[ImageCarousel] Error fetching ratings:",U);return}const{data:Y,error:M}=await I.from("users").select("id, username, front_page_photo, profile_photo, user_type").in("user_type",["stripper","exotic"]);if(M){console.error("[ImageCarousel] Error fetching users:",M);return}if(!W||!Y)return;const G={};Y.forEach(D=>{G[D.id]={id:String(D.id),username:String(D.username),front_page_photo:D.front_page_photo?String(D.front_page_photo):null,profile_photo:D.profile_photo?String(D.profile_photo):null,total_score:0,rating_count:0,rank:0}}),W.forEach(D=>{const te=G[D.user_id];te&&(te.total_score+=Number(D.rating),te.rating_count+=1)});const R=Object.values(G).filter(D=>D.rating_count>0).sort((D,te)=>te.total_score-D.total_score).slice(0,20).map((D,te)=>({...D,rank:te+1}));L&&a(R)}catch(E){console.error("[ImageCarousel] Unexpected error:",E)}})(),()=>{L=!1}},[]);const A=(L,F,E,W)=>{const U="absolute top-1/2 -translate-y-1/2 z-10 flex items-center justify-center rounded-full bg-black/70 text-white transition hover:bg-black/90 focus:outline-none focus:ring-2 focus:ring-yellow-400";return s.jsxs("div",{className:"relative",children:[W&&s.jsxs(s.Fragment,{children:[s.jsx("button",{type:"button",onClick:()=>j(F,-1),className:`${U} ${W.left}`,children:s.jsx(L2,{className:"h-6 w-6"})}),s.jsx("button",{type:"button",onClick:()=>j(F,1),className:`${U} ${W.right}`,children:s.jsx(M2,{className:"h-6 w-6"})})]}),s.jsx("div",{ref:F,className:"flex gap-6 overflow-x-auto px-2 py-2 scrollbar-hide scroll-smooth snap-x snap-mandatory",children:L.map(Y=>s.jsx("div",{"data-carousel-card":!0,className:`${E} group`,onClick:()=>_(Y),children:s.jsxs("div",{className:"relative w-full h-full overflow-hidden rounded-3xl shadow-2xl transform transition-all duration-300 group-hover:scale-[1.02] group-hover:shadow-yellow-400/30",children:[s.jsx("img",{src:Y.image,alt:`Rank ${Y.rank} - ${Y.username}`,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",loading:"lazy"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"}),s.jsxs("div",{className:"absolute top-4 left-4 bg-black/75 backdrop-blur rounded-full px-4 py-1 text-base md:text-lg font-semibold text-yellow-300 uppercase tracking-wide",children:["Rank #",Y.rank]}),s.jsxs("div",{className:"absolute bottom-6 left-4 right-4 text-white",children:[s.jsxs("p",{className:"font-semibold text-xl md:text-2xl",children:["@",Y.username]}),s.jsx("p",{className:"text-sm md:text-base text-gray-200 opacity-80",children:"Tap to preview"})]})]})},Y.id))})]})};return s.jsxs("div",{className:`w-full bg-gradient-to-b  from-black via-gray-900 to-black py-10 ${e}`,children:[s.jsxs("div",{className:"relative flex flex-col items-center justify-center bg-white text-black rounded-[50px] px-10 py-16 mx-10 my-10 md:px-16 md:py-20 shadow-2xl overflow-hidden h-[550px] md:h-[600px]",children:[s.jsx("img",{src:CU,alt:"silhouette",className:"absolute inset-0 w-full h-full object-cover opacity-15"}),s.jsx("img",{src:EU,alt:"money",className:"absolute bottom-0 w-[85%] max-w-[600px] opacity-30"}),s.jsxs("div",{className:"relative z-10 text-center",children:[s.jsxs("h2",{className:"text-3xl md:text-5xl font-extrabold mb-3 tracking-tight",children:["Win"," ",s.jsx("span",{className:"bg-gradient-to-r from-purple-600 to-indigo-700 bg-clip-text text-transparent",children:"$10,000"})]}),s.jsx("p",{className:"text-lg md:text-xl font-semibold text-gray-700 mb-4",children:"Winner Announced at App Launch"}),s.jsxs("p",{className:"text-base md:text-lg font-semibold text-gray-800 max-w-2xl mx-auto leading-relaxed",children:[s.jsx("span",{className:"text-green-600",children:"#1 Top Ranked"})," = $10,000 ",s.jsx("br",{}),s.jsx("span",{className:"text-yellow-500",children:"Rank #2 - #20"})," Win Money As Well"]}),s.jsx("button",{className:"mt-8 px-8 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-purple-500 hover:to-indigo-500 transition-all duration-300 text-white font-semibold rounded-full shadow-lg",children:"Winners Every 3 Months After Launch"}),s.jsx("p",{className:"mt-6 text-base md:text-lg font-semibold text-indigo-400 uppercase tracking-wide",children:"SEE WHOS CURRENTLY ON TOP BELOW!"})]})]}),s.jsx("div",{className:"hidden md:block overflow-hidden",children:A(b,t,"flex-shrink-0 w-72 h-[28rem]",{left:"hidden md:flex left-4 w-12 h-12",right:"hidden md:flex right-4 w-12 h-12"})}),s.jsx("div",{className:"block md:hidden overflow-hidden",children:A(b,r,"flex-shrink-0 w-56 h-80",{left:"flex md:hidden left-2 w-10 h-10",right:"flex md:hidden right-2 w-10 h-10"})}),h&&i&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur p-4",children:s.jsxs("div",{className:`relative w-full ${v?"max-w-md":"max-w-3xl"} max-h-[90vh] rounded-3xl overflow-hidden shadow-2xl border border-white/10 bg-black/70 flex flex-col`,children:[s.jsx("button",{onClick:S,className:"absolute top-4 right-4 z-10 text-white text-3xl font-bold bg-black/50 rounded-full px-3 py-1 hover:bg-black/80 transition","aria-label":"Close preview",children:""}),s.jsx("div",{className:`relative w-full bg-black flex items-center justify-center ${v?"aspect-[9/16] self-center":"flex-1 min-h-[40vh] max-h-[70vh]"}`,children:d?s.jsx("div",{className:"text-white text-lg",children:"Loading preview"}):l?s.jsx("video",{src:l,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:`w-full h-full object-contain bg-black ${v?"rounded-xl":"max-h-[70vh]"}`},l):s.jsx("img",{src:i.image,alt:`Rank ${i.rank}`,className:`w-full h-full object-cover ${v?"rounded-xl":"max-h-[70vh]"}`})}),s.jsxs("div",{className:"absolute top-5 left-5 bg-black/75 px-4 py-1.5 rounded-full text-sm md:text-lg font-semibold text-yellow-300 uppercase tracking-wide shadow-lg",children:["Rank #",i.rank]}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black via-black/70 to-transparent p-5 md:p-6",children:[s.jsxs("p",{className:"text-white text-lg md:text-2xl font-bold mb-3",children:["@",i.username]}),s.jsxs("div",{className:"flex flex-wrap gap-2 md:gap-4 justify-center md:justify-start",children:[s.jsx("button",{onClick:P,className:"flex-1 basis-[48%] min-w-[120px] bg-neutral-900/90 hover:bg-neutral-800 text-white text-sm md:text-base font-semibold py-2 md:py-3 rounded-lg md:rounded-xl transition",children:x?"View Profile":"Login"}),s.jsx("button",{onClick:C,className:"flex-1 basis-[48%] min-w-[120px] bg-amber-600 hover:bg-amber-500 text-white text-sm md:text-base font-semibold py-2 md:py-3 rounded-lg md:rounded-xl transition",children:"Sign Up"})]})]})]})}),s.jsx("style",{children:`
        .scrollbar-hide {
          -ms-overflow-style: none;
          scrollbar-width: none;
        }
        .scrollbar-hide::-webkit-scrollbar {
          display: none;
        }
      `})]})},TU=Kc("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),V=f.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const o=n?WO:"button";return s.jsx(o,{className:_e(TU({variant:t,size:r,className:e})),ref:i,...a})});V.displayName="Button";const AU=({className:e=""})=>{const t=()=>{const a=new URLSearchParams(window.location.search);return _a(a.get("ref"))||"company"},r=()=>{const a=t();window.location.href=`/register?ref=${encodeURIComponent(a)}`},n=()=>{const a=t();window.location.href=`/login?ref=${encodeURIComponent(a)}`};return s.jsx("div",{className:`bg-black py-16 px-4 ${e}`,children:s.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[s.jsx("h2",{className:"text-white text-3xl md:text-5xl font-bold mb-8",children:"READY TO GET STARTED?"}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-6 justify-center items-center",children:[s.jsx(V,{onClick:r,className:"w-full md:w-64 bg-gradient-to-r from-green-500 to-blue-600 hover:from-green-600 hover:to-blue-700 text-white font-bold py-4 px-8 text-xl rounded-lg shadow-lg transform transition hover:scale-105",children:"START FREE"}),s.jsx(V,{onClick:n,className:"w-full md:w-64 bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 text-white font-bold py-4 px-8 text-xl rounded-lg shadow-lg transform transition hover:scale-105",children:"LOGIN"})]}),s.jsx("p",{className:"text-gray-300 mt-6 text-lg",children:"Join thousands of dancers and exotic females & earn money online!"})]})})},Q=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:_e("rounded-lg border border-border/40 bg-background shadow-sm",e),...t}));Q.displayName="Card";const de=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:_e("flex flex-col space-y-1.5 p-6",e),...t}));de.displayName="CardHeader";const ue=f.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:_e("text-2xl font-semibold leading-none tracking-tight text-foreground",e),...t}));ue.displayName="CardTitle";const qs=f.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:_e("text-sm text-muted-foreground",e),...t}));qs.displayName="CardDescription";const X=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:_e("p-6 pt-0",e),...t}));X.displayName="CardContent";const RU=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:_e("flex items-center p-6 pt-0",e),...t}));RU.displayName="CardFooter";const _j={tipper:1,dime:2,referred_dime:3,dime_referred_dime:4,referred_dime_referrer:5,who_referred_tipper:6};function Sj(e){switch(e){case"tipper":return"Grand Prize  Tipper";case"dime":return"Grand Prize  Dime Winner";case"referred_dime":return"Grand Prize  Dime Recruiter Winner";case"dime_referred_dime":return"2nd Place";case"referred_dime_referrer":return"2nd Place";case"who_referred_tipper":return"3rd Place";default:return""}}function IU(e){const t=typeof e=="string"?Number(e):typeof e=="number"?e:0;return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:2}).format(t||0)}const Tm=({w:e})=>{const t=e.profile_photo||"https://dimesonly.s3.us-east-2.amazonaws.com/default-avatar.png",r=e.username||"User",n=IU(e.amount);return s.jsx("div",{className:"w-full",children:s.jsxs("div",{className:"p-4 rounded-2xl border border-neutral-800 bg-neutral-900/50 hover:bg-neutral-900 transition",children:[s.jsxs("div",{className:"md:hidden mb-2",children:[s.jsx("div",{className:"text-white text-base font-semibold break-words",children:r}),s.jsx("div",{className:"text-neutral-400 text-sm",children:Sj(e.role)})]}),s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-3 md:gap-4",children:[s.jsx("div",{className:"shrink-0",children:s.jsx("div",{className:"w-24 h-24 md:w-28 md:h-28 rounded-lg overflow-hidden bg-neutral-800 border border-neutral-700",children:s.jsx("img",{src:t,alt:r,className:"w-full h-full object-cover",loading:"lazy"})})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsxs("div",{className:"hidden md:flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"text-white text-lg md:text-xl font-semibold truncate",children:r}),s.jsx("div",{className:"text-neutral-400 text-sm md:text-base",children:Sj(e.role)})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-neutral-400 text-xs md:text-sm uppercase tracking-wide",children:"Prize"}),s.jsx("div",{className:"text-emerald-400 text-lg md:text-2xl font-bold tabular-nums",children:n})]})]}),s.jsxs("div",{className:"md:hidden mt-3 flex items-center justify-between",children:[s.jsx("div",{className:"text-neutral-400 text-xs uppercase tracking-wide",children:"Prize"}),s.jsx("div",{className:"text-emerald-400 text-lg font-bold tabular-nums",children:n})]})]})]})]})})},OU=()=>{const[e,t]=f.useState([]),[r,n]=f.useState(!0);f.useEffect(()=>{(async()=>{try{n(!0);const{data:u,error:h}=await I.from("v_jackpot_latest_winners").select("draw_id, executed_at").order("executed_at",{ascending:!1}).limit(1);if(h||!(u!=null&&u.length)){t([]);return}const m=String(u[0].draw_id),{data:x,error:g}=await I.from("v_jackpot_latest_winners").select("*").eq("draw_id",m).order("place",{ascending:!0});if(g||!(x!=null&&x.length)){t([]);return}const v=Array.from(new Set(x.map(y=>y.user_id?String(y.user_id):null).filter(y=>!!y)));let w={};for(const y of x){const j=y.user_id?String(y.user_id):null;j&&(w[j]={username:y.username??null,profile_photo:y.profile_photo??null})}if(v.length){const{data:y}=await I.from("users").select("id, username, profile_photo").in("id",v);for(const j of y||[]){const N=String(j.id);w[N]={username:j.username??null,profile_photo:j.profile_photo??null}}}const p=x.map(y=>{const j=y.user_id?String(y.user_id):null,N=j?w[j]:void 0;return{draw_id:String(y.draw_id),drawn_code:y.drawn_code??null,executed_at:String(y.executed_at),user_id:j,username:y.username??(N==null?void 0:N.username)??null,profile_photo:y.profile_photo??(N==null?void 0:N.profile_photo)??null,role:y.role,place:Number(y.place),percentage:typeof y.percentage=="number"?y.percentage:y.percentage??null,amount:typeof y.amount=="number"?y.amount:y.amount??null,status:y.status??null}}).sort((y,j)=>{if(y.place!==j.place)return y.place-j.place;const N=_j[y.role]??999,k=_j[j.role]??999;return N-k});t(p)}finally{n(!1)}})()},[]);const a=f.useMemo(()=>e.length?new Date(e[0].executed_at).toLocaleString("en-US",{timeZone:"America/New_York"}):null,[e]),i=f.useMemo(()=>e.length&&e[0].drawn_code||null,[e]),o=f.useMemo(()=>e.filter(d=>d.place===1),[e]),l=f.useMemo(()=>e.filter(d=>d.place===2),[e]),c=f.useMemo(()=>e.filter(d=>d.place===3),[e]);return s.jsx("section",{className:"bg-neutral-950 py-12 px-4",children:s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsx(Q,{className:"bg-neutral-950 border border-neutral-900/80 rounded-2xl",children:s.jsxs(X,{className:"p-6 md:p-8",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-end md:justify-between gap-4 mb-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white text-2xl md:text-3xl font-semibold",children:"Latest Jackpot Winners"}),r?s.jsx("p",{className:"text-neutral-500 text-sm",children:"Loading latest results"}):a?s.jsxs("p",{className:"text-neutral-400 text-sm",children:["Drawn on"," ",s.jsx("span",{className:"text-neutral-300 font-medium",children:a})]}):s.jsx("p",{className:"text-neutral-400 text-sm",children:"No winners yet. Check back soon."})]}),e.length>0?s.jsx("div",{className:"md:shrink-0",children:s.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-neutral-900 border border-neutral-800 px-3 py-1",children:[s.jsx("span",{className:"text-neutral-400 text-xs uppercase tracking-wide",children:"Winning Ticket ID"}),s.jsx("span",{className:"font-mono text-indigo-300 text-sm",children:i})]})}):null]}),e.length===0&&!r?s.jsx("div",{className:"text-neutral-400 text-sm",children:"No winners to display."}):s.jsxs("div",{className:"space-y-8",children:[o.length>0&&s.jsxs("section",{children:[s.jsx("h4",{className:"text-white text-xl md:text-2xl font-semibold mb-4",children:"Grand Prize"}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.map(d=>s.jsx(Tm,{w:d},`${d.user_id}-${d.role}`))})]}),l.length>0&&s.jsxs("section",{children:[s.jsx("h4",{className:"text-white text-xl md:text-2xl font-semibold mb-4",children:"2nd Place"}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:l.map(d=>s.jsx(Tm,{w:d},`${d.user_id}-${d.role}`))})]}),c.length>0&&s.jsxs("section",{children:[s.jsx("h4",{className:"text-white text-xl md:text-2xl font-semibold mb-4",children:"3rd Place"}),s.jsx("div",{className:"grid grid-cols-1 gap-4",children:c.map(d=>s.jsx(Tm,{w:d},`${d.user_id}-${d.role}`))})]})]})]})})})})},LU="/assets/nude-BypmYiG5.png",MU="/assets/exotic-N0Atv5SF.jpg",DU="/assets/step1-Cxe-cdCq.png",FU="/assets/step2-Bfhw6fnu.png",$U="/assets/step3-3fqurWDk.png",UU=({className:e=""})=>{const[t,r]=f.useState(1e3),[n,a]=f.useState(null),[i,o]=f.useState(!0);f.useEffect(()=>{l();const m=I.channel("silver_plus_updates").on("postgres_changes",{event:"*",schema:"public",table:"users",filter:"silver_plus_active=eq.true"},()=>d()).subscribe();return()=>I.removeChannel(m)},[]);const l=async()=>{await Promise.all([c(),d()]),o(!1)},c=async()=>{try{const{count:m,error:x}=await I.from("users").select("id",{count:"exact",head:!0}).eq("diamond_plus_active",!0).in("user_type",["exotic","stripper"]);!x&&m!==null&&r(Math.max(0,1e3-m))}catch(m){console.error("Diamond Plus count error:",m)}},d=async()=>{try{const m=await I.rpc("check_silver_plus_availability"),x=m.data,g=m.error;if(g){console.error("Silver Plus counter error:",g);return}if(x&&Array.isArray(x)&&x.length>0){const v=x[0];a({current_count:v.current_count,max_count:v.max_count,available:v.available,remaining:v.max_count-v.current_count})}}catch(m){console.error("Silver Plus counter error:",m)}},u={hidden:{opacity:0,y:40},show:{opacity:1,y:0,transition:{duration:.8,ease:"easeOut"}}},h=[{id:1,title:"Sign Up For Free",text:"Sign up before guaranteed positions are gone",image:DU},{id:2,title:"Fill Out Registration Form",text:"Exotics: Upload creative content to get approved. Everyone Else: Earn up to $10,000 to $22,500 a month GUARANTEED.",image:FU},{id:3,title:"Transfer Your Followers",text:"Want more money? Add followers = $$$$",image:$U}];return s.jsxs("div",{className:`py-16 px-5 bg-black ${e}`,children:[s.jsxs("div",{className:"max-w-6xl mx-auto px-6 my-10",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-semibold text-center mb-12 text-white",children:"Incentive positions available now"}),s.jsxs("div",{className:"grid gap-12 grid-cols-1 md:grid-cols-2",children:[s.jsxs(Fs.div,{className:"relative flex flex-col justify-end h-[500px] bg-[#0b0b0b] border border-gray-800 rounded-3xl overflow-hidden shadow-lg hover:shadow-indigo-500/30 transition-all duration-500",initial:"hidden",animate:"show",variants:u,whileHover:{scale:1.02},children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("img",{src:LU,alt:"diamond plus",className:"w-full h-full object-cover object-center",loading:"lazy",onError:m=>m.currentTarget.src="/assets/placeholder.svg"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/60 to-transparent"})]}),s.jsxs("div",{className:"relative z-10 p-8 text-left",children:[s.jsx("p",{className:"text-gray-300 text-sm tracking-widest uppercase font-semibold",children:"Exotic Females & Strippers"}),s.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-indigo-400 mt-2",children:"Diamond Plus Memberships"}),s.jsxs("div",{className:"mt-8 flex items-baseline gap-3",children:[s.jsx("span",{className:"text-gray-400 uppercase tracking-wide text-sm",children:"Lifetime Positions Left:"}),s.jsx(Fs.span,{className:"text-5xl font-extrabold text-indigo-300",initial:{scale:.9},animate:{scale:1},transition:{duration:.4},children:t},t)]})]})]}),s.jsxs(Fs.div,{className:"relative flex flex-col justify-end h-[500px] bg-[#0b0b0b] border border-gray-800 rounded-3xl overflow-hidden shadow-lg hover:shadow-indigo-500/30 transition-all duration-500",initial:"hidden",animate:"show",variants:u,whileHover:{scale:1.02},children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("img",{src:MU,alt:"silver plus",className:"w-full h-full object-cover object-center",loading:"lazy",onError:m=>m.currentTarget.src="/assets/placeholder.svg"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/60 to-transparent"})]}),s.jsxs("div",{className:"relative z-10 p-8 text-left",children:[s.jsx("p",{className:"text-gray-300 text-sm tracking-widest uppercase font-semibold",children:"Normal Females & Males"}),s.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-indigo-400 mt-2",children:"Silver Plus Memberships"}),s.jsxs("div",{className:"mt-8 flex items-baseline gap-3",children:[s.jsx("span",{className:"text-gray-400 uppercase tracking-wide text-sm",children:"Lifetime Positions Left:"}),s.jsx(Fs.span,{className:"text-5xl font-extrabold text-indigo-300",initial:{scale:.9},animate:{scale:1},transition:{duration:.4},children:i?"...":(n==null?void 0:n.remaining)??"N/A"},n==null?void 0:n.remaining)]})]})]})]})]}),s.jsxs("div",{className:"max-w-6xl mx-auto px-6 mt-20",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-semibold text-center mb-12 text-white",children:"Get Started In 3 Easy Steps"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:h.map(m=>s.jsxs(Fs.div,{className:"relative bg-gradient-to-b from-indigo-700 to-purple-800 rounded-3xl text-center p-6 md:p-8 shadow-lg overflow-hidden flex flex-col items-center",initial:"hidden",animate:"show",variants:u,whileHover:{scale:1.02},children:[s.jsx("div",{className:"mb-3 ",children:s.jsxs("span",{className:"bg-white/10 text-md px-6 py-2 rounded-full font-semibold",children:["Step ",m.id]})}),s.jsx("h3",{className:"text-lg md:text-xl font-bold mb-3 text-white",children:m.title}),s.jsx("p",{className:"text-sm text-gray-200 mb-6 max-w-xs",children:m.text}),s.jsx("img",{src:m.image,alt:`Step ${m.id}`,className:"w-full max-w-[250px] h-auto object-contain drop-shadow-lg"})]},m.id))})]})]})},VU=({className:e=""})=>s.jsx("div",{className:`bg-gradient-to-b from-gray-900 to-black py-16 px-4 ${e}`,children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-white text-3xl md:text-5xl font-bold mb-4",children:"SECURE & TRUSTED PLATFORM"}),s.jsx("p",{className:"text-gray-300 text-lg max-w-2xl mx-auto",children:"Your privacy and security are our top priorities. We use industry-leading encryption and security measures."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(tM,{className:"w-16 h-16 text-green-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-white text-xl font-semibold mb-2",children:"SSL Encrypted"}),s.jsx("p",{className:"text-gray-400",children:"All data transmission is protected with 256-bit SSL encryption"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx(na,{className:"w-16 h-16 text-blue-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-white text-xl font-semibold mb-2",children:"Privacy Protected"}),s.jsx("p",{className:"text-gray-400",children:"Your personal information is never shared with third parties"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx(Na,{className:"w-16 h-16 text-purple-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-white text-xl font-semibold mb-2",children:"Secure Payments"}),s.jsx("p",{className:"text-gray-400",children:"PCI compliant payment processing for all transactions"})]})]}),s.jsxs("div",{className:"flex justify-center items-center gap-8 mt-8 flex-wrap",children:[s.jsx("img",{src:"https://dimesonly.s3.us-east-2.amazonaws.com/visa-100x77.png",alt:"Visa",className:"w-16 h-auto hover:opacity-80 transition-opacity"}),s.jsx("img",{src:"https://dimesonly.s3.us-east-2.amazonaws.com/mastercard-e1742175183205-100x71.png",alt:"MasterCard",className:"w-16 h-auto hover:opacity-80 transition-opacity"}),s.jsx("img",{src:"https://dimesonly.s3.us-east-2.amazonaws.com/american-express-100x72.png",alt:"American Express",className:"w-16 h-auto hover:opacity-80 transition-opacity"})]})]})}),BU=()=>{const[e,t]=f.useState(!1),r=()=>t(!0),n=()=>t(!1),a=i=>{const o=new URLSearchParams(window.location.search),l=_a(o.get("ref"));return`${i}?ref=${encodeURIComponent(l)}`};return s.jsxs(s.Fragment,{children:[s.jsx("footer",{className:"bg-black text-white py-6 text-center",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex flex-wrap justify-center gap-4 text-sm",children:[s.jsx("a",{href:a("https://www.dimesonly.world/clothing"),className:"hover:underline",children:" Mens Clothing"}),s.jsx("a",{href:a("https://dimesonly.world/best"),className:"hover:underline",children:" Buy a Car"}),s.jsx("a",{href:"#",className:"hover:underline",children:" Profit Sharing"}),s.jsx("a",{href:a("https://forms.zohopublic.com/life1consultingcom/form/BestVehicleApplication1/formperma/NEo9COacNFYLprsXe56MgiJ772zuhzaS416FqnuDaVQ"),className:"hover:underline",children:" Apply Online"}),s.jsx("a",{href:a("https://forms.zohopublic.com/life1consultingcom/form/ContactUsNow/formperma/_ISOoxOqmHQHflLPn8otzT8wUFAuGgNStcpKqXof2BY"),className:"hover:underline",children:" Contact Us"})]}),s.jsx("div",{className:"text-blue-400 underline cursor-pointer hover:text-blue-300",onClick:r,children:"Privacy Policy"}),s.jsx("p",{className:"text-sm",children:" 2025 Housing Angels, LLC"})]})}),e&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white text-black max-w-2xl max-h-[80vh] overflow-y-auto rounded-lg shadow-lg relative",children:[s.jsx("button",{onClick:n,className:"absolute top-2 right-4 text-2xl font-bold hover:text-red-500 transition-colors",children:""}),s.jsxs("div",{className:"p-6",children:[s.jsx("h4",{className:"text-xl font-bold mb-4",children:"PRIVACY POLICY"}),s.jsxs("div",{className:"text-sm space-y-4",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Effective Date:"})," March 9, 2025"]}),s.jsx("p",{children:'Housing Angels, LLC ("we," "our," or "us") is committed to protecting the privacy of our customers, partners, and website visitors.'}),s.jsx("p",{children:"For the complete privacy policy and terms, please contact us at:"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Email:"})," Talent@DimesOnly.World",s.jsx("br",{}),s.jsx("strong",{children:"Phone:"})," (929) 336-7634"]})]})]})]})})]})},zU=()=>s.jsxs("div",{className:"min-h-screen bg-black",children:[s.jsx(_U,{}),s.jsx(SU,{srcDesktop:"https://dimesonlyworld.s3.us-east-2.amazonaws.com/HOME+PAGE+16-9+1080+CINEMA.webm",srcMobile:"https://dimesonlyworld.s3.us-east-2.amazonaws.com/HOME+PAGE+9-16+1080+FINAL.webm"}),s.jsx(kU,{}),s.jsx(PU,{}),s.jsx(AU,{}),s.jsx(OU,{}),s.jsx(UU,{}),s.jsx(VU,{}),s.jsx(BU,{})]}),ne=f.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:_e("flex h-10 w-full rounded-md border border-border/60 bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));ne.displayName="Input";var WU="Label",EC=f.forwardRef((e,t)=>s.jsx(je.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));EC.displayName=WU;var PC=EC;const qU=Kc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",{variants:{variant:{default:"text-foreground",muted:"text-muted-foreground",accent:"text-primary"},size:{default:"text-sm",xs:"text-xs",sm:"text-sm",lg:"text-base"}},defaultVariants:{variant:"default",size:"default"}}),pe=f.forwardRef(({className:e,variant:t,size:r,...n},a)=>s.jsx(PC,{ref:a,className:_e(qU({variant:t,size:r}),e),...n}));pe.displayName=PC.displayName;const HU=Kc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground shadow-sm",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",success:"border-green-500/50 text-green-600 dark:text-green-400 [&>svg]:text-green-600 dark:[&>svg]:text-green-400 bg-green-50 dark:bg-green-950/20",warning:"border-yellow-500/50 text-yellow-600 dark:text-yellow-400 [&>svg]:text-yellow-600 dark:[&>svg]:text-yellow-400 bg-yellow-50 dark:bg-yellow-950/20",info:"border-primary/50 text-primary dark:text-primary-foreground [&>svg]:text-primary bg-primary/10 dark:bg-primary/20"}},defaultVariants:{variant:"default"}}),_i=f.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:_e(HU({variant:t}),e),...r}));_i.displayName="Alert";const TC=f.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:_e("mb-1 font-medium leading-none tracking-tight",e),...t}));TC.displayName="AlertTitle";const Si=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:_e("text-sm [&_p]:leading-relaxed opacity-90",e),...t}));Si.displayName="AlertDescription";const AC=({images:e,interval:t=3e3})=>{const[r,n]=f.useState(0);return f.useEffect(()=>{if(e.length===0)return;const a=setInterval(()=>{n(i=>(i+1)%e.length)},t);return()=>clearInterval(a)},[e.length,t]),e.length===0?null:s.jsxs("div",{className:"fixed inset-0 z-0",children:[e.map((a,i)=>s.jsx("div",{className:`absolute inset-0 bg-cover bg-center bg-no-repeat transition-opacity duration-1000 ${i===r?"opacity-100":"opacity-0"}`,style:{backgroundImage:`url(${a})`,backgroundAttachment:"fixed"}},i)),s.jsx("div",{className:"absolute inset-0 bg-black/40"})]})};var GU=fg[" useId ".trim().toString()]||(()=>{}),KU=0;function _s(e){const[t,r]=f.useState(GU());return wt(()=>{r(n=>n??String(KU++))},[e]),t?`radix-${t}`:""}var Am="focusScope.autoFocusOnMount",Rm="focusScope.autoFocusOnUnmount",kj={bubbles:!1,cancelable:!0},YU="FocusScope",ry=f.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=f.useState(null),d=Pt(a),u=Pt(i),h=f.useRef(null),m=Le(t,v=>c(v)),x=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(n){let v=function(y){if(x.paused||!l)return;const j=y.target;l.contains(j)?h.current=j:Pn(h.current,{select:!0})},w=function(y){if(x.paused||!l)return;const j=y.relatedTarget;j!==null&&(l.contains(j)||Pn(h.current,{select:!0}))},b=function(y){if(document.activeElement===document.body)for(const N of y)N.removedNodes.length>0&&Pn(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",w);const p=new MutationObserver(b);return l&&p.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",w),p.disconnect()}}},[n,l,x.paused]),f.useEffect(()=>{if(l){Ej.add(x);const v=document.activeElement;if(!l.contains(v)){const b=new CustomEvent(Am,kj);l.addEventListener(Am,d),l.dispatchEvent(b),b.defaultPrevented||(JU(t9(RC(l)),{select:!0}),document.activeElement===v&&Pn(l))}return()=>{l.removeEventListener(Am,d),setTimeout(()=>{const b=new CustomEvent(Rm,kj);l.addEventListener(Rm,u),l.dispatchEvent(b),b.defaultPrevented||Pn(v??document.body,{select:!0}),l.removeEventListener(Rm,u),Ej.remove(x)},0)}}},[l,d,u,x]);const g=f.useCallback(v=>{if(!r&&!n||x.paused)return;const w=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,b=document.activeElement;if(w&&b){const p=v.currentTarget,[y,j]=QU(p);y&&j?!v.shiftKey&&b===j?(v.preventDefault(),r&&Pn(y,{select:!0})):v.shiftKey&&b===y&&(v.preventDefault(),r&&Pn(j,{select:!0})):b===p&&v.preventDefault()}},[r,n,x.paused]);return s.jsx(je.div,{tabIndex:-1,...o,ref:m,onKeyDown:g})});ry.displayName=YU;function JU(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Pn(n,{select:t}),document.activeElement!==r)return}function QU(e){const t=RC(e),r=Cj(t,e),n=Cj(t.reverse(),e);return[r,n]}function RC(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Cj(e,t){for(const r of e)if(!XU(r,{upTo:t}))return r}function XU(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function ZU(e){return e instanceof HTMLInputElement&&"select"in e}function Pn(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&ZU(e)&&t&&e.select()}}var Ej=e9();function e9(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Pj(e,t),e.unshift(t)},remove(t){var r;e=Pj(e,t),(r=e[0])==null||r.resume()}}}function Pj(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function t9(e){return e.filter(t=>t.tagName!=="A")}var Im=0;function IC(){f.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Tj()),document.body.insertAdjacentElement("beforeend",e[1]??Tj()),Im++,()=>{Im===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Im--}},[])}function Tj(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var yu="right-scroll-bar-position",vu="width-before-scroll-bar",r9="with-scroll-bars-hidden",s9="--removed-body-scroll-bar-size";function Om(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function n9(e,t){var r=f.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var a9=typeof window<"u"?f.useLayoutEffect:f.useEffect,Aj=new WeakMap;function i9(e,t){var r=n9(null,function(n){return e.forEach(function(a){return Om(a,n)})});return a9(function(){var n=Aj.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||Om(l,null)}),i.forEach(function(l){a.has(l)||Om(l,o)})}Aj.set(r,e)},[e]),r}function o9(e){return e}function l9(e,t){t===void 0&&(t=o9);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),r}}}};return a}function c9(e){e===void 0&&(e={});var t=l9(null);return t.options=Xr({async:!0,ssr:!1},e),t}var OC=function(e){var t=e.sideCar,r=ba(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return f.createElement(n,Xr({},r))};OC.isSideCarExport=!0;function d9(e,t){return e.useMedium(t),OC}var LC=c9(),Lm=function(){},zh=f.forwardRef(function(e,t){var r=f.useRef(null),n=f.useState({onScrollCapture:Lm,onWheelCapture:Lm,onTouchMoveCapture:Lm}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,h=e.shards,m=e.sideCar,x=e.noRelative,g=e.noIsolation,v=e.inert,w=e.allowPinchZoom,b=e.as,p=b===void 0?"div":b,y=e.gapMode,j=ba(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=m,k=i9([r,t]),_=Xr(Xr({},j),a);return f.createElement(f.Fragment,null,u&&f.createElement(N,{sideCar:LC,removeScrollBar:d,shards:h,noRelative:x,noIsolation:g,inert:v,setCallbacks:i,allowPinchZoom:!!w,lockRef:r,gapMode:y}),o?f.cloneElement(f.Children.only(l),Xr(Xr({},_),{ref:k})):f.createElement(p,Xr({},_,{className:c,ref:k}),l))});zh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};zh.classNames={fullWidth:vu,zeroRight:yu};var u9=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function h9(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=u9();return t&&e.setAttribute("nonce",t),e}function f9(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function m9(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var p9=function(){var e=0,t=null;return{add:function(r){e==0&&(t=h9())&&(f9(t,r),m9(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},x9=function(){var e=p9();return function(t,r){f.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},MC=function(){var e=x9(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},g9={left:0,top:0,right:0,gap:0},Mm=function(e){return parseInt(e||"",10)||0},y9=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Mm(r),Mm(n),Mm(a)]},v9=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return g9;var t=y9(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},b9=MC(),wo="data-scroll-locked",w9=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(r9,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(wo,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(yu,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(vu,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(yu," .").concat(yu,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(vu," .").concat(vu,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(wo,`] {
    `).concat(s9,": ").concat(l,`px;
  }
`)},Rj=function(){var e=parseInt(document.body.getAttribute(wo)||"0",10);return isFinite(e)?e:0},j9=function(){f.useEffect(function(){return document.body.setAttribute(wo,(Rj()+1).toString()),function(){var e=Rj()-1;e<=0?document.body.removeAttribute(wo):document.body.setAttribute(wo,e.toString())}},[])},N9=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;j9();var i=f.useMemo(function(){return v9(a)},[a]);return f.createElement(b9,{styles:w9(i,!t,a,r?"":"!important")})},Tx=!1;if(typeof window<"u")try{var Vd=Object.defineProperty({},"passive",{get:function(){return Tx=!0,!0}});window.addEventListener("test",Vd,Vd),window.removeEventListener("test",Vd,Vd)}catch{Tx=!1}var Di=Tx?{passive:!1}:!1,_9=function(e){return e.tagName==="TEXTAREA"},DC=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!_9(e)&&r[t]==="visible")},S9=function(e){return DC(e,"overflowY")},k9=function(e){return DC(e,"overflowX")},Ij=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=FC(e,n);if(a){var i=$C(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},C9=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},E9=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},FC=function(e,t){return e==="v"?S9(t):k9(t)},$C=function(e,t){return e==="v"?C9(t):E9(t)},P9=function(e,t){return e==="h"&&t==="rtl"?-1:1},T9=function(e,t,r,n,a){var i=P9(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),d=!1,u=o>0,h=0,m=0;do{if(!l)break;var x=$C(e,l),g=x[0],v=x[1],w=x[2],b=v-w-i*g;(g||b)&&FC(e,l)&&(h+=b,m+=g);var p=l.parentNode;l=p&&p.nodeType===Node.DOCUMENT_FRAGMENT_NODE?p.host:p}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&Math.abs(h)<1||!u&&Math.abs(m)<1)&&(d=!0),d},Bd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Oj=function(e){return[e.deltaX,e.deltaY]},Lj=function(e){return e&&"current"in e?e.current:e},A9=function(e,t){return e[0]===t[0]&&e[1]===t[1]},R9=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},I9=0,Fi=[];function O9(e){var t=f.useRef([]),r=f.useRef([0,0]),n=f.useRef(),a=f.useState(I9++)[0],i=f.useState(MC)[0],o=f.useRef(e);f.useEffect(function(){o.current=e},[e]),f.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var v=o0([e.lockRef.current],(e.shards||[]).map(Lj),!0).filter(Boolean);return v.forEach(function(w){return w.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),v.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=f.useCallback(function(v,w){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var b=Bd(v),p=r.current,y="deltaX"in v?v.deltaX:p[0]-b[0],j="deltaY"in v?v.deltaY:p[1]-b[1],N,k=v.target,_=Math.abs(y)>Math.abs(j)?"h":"v";if("touches"in v&&_==="h"&&k.type==="range")return!1;var S=Ij(_,k);if(!S)return!0;if(S?N=_:(N=_==="v"?"h":"v",S=Ij(_,k)),!S)return!1;if(!n.current&&"changedTouches"in v&&(y||j)&&(n.current=N),!N)return!0;var P=n.current||N;return T9(P,w,v,P==="h"?y:j)},[]),c=f.useCallback(function(v){var w=v;if(!(!Fi.length||Fi[Fi.length-1]!==i)){var b="deltaY"in w?Oj(w):Bd(w),p=t.current.filter(function(N){return N.name===w.type&&(N.target===w.target||w.target===N.shadowParent)&&A9(N.delta,b)})[0];if(p&&p.should){w.cancelable&&w.preventDefault();return}if(!p){var y=(o.current.shards||[]).map(Lj).filter(Boolean).filter(function(N){return N.contains(w.target)}),j=y.length>0?l(w,y[0]):!o.current.noIsolation;j&&w.cancelable&&w.preventDefault()}}},[]),d=f.useCallback(function(v,w,b,p){var y={name:v,delta:w,target:b,should:p,shadowParent:L9(b)};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(j){return j!==y})},1)},[]),u=f.useCallback(function(v){r.current=Bd(v),n.current=void 0},[]),h=f.useCallback(function(v){d(v.type,Oj(v),v.target,l(v,e.lockRef.current))},[]),m=f.useCallback(function(v){d(v.type,Bd(v),v.target,l(v,e.lockRef.current))},[]);f.useEffect(function(){return Fi.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Di),document.addEventListener("touchmove",c,Di),document.addEventListener("touchstart",u,Di),function(){Fi=Fi.filter(function(v){return v!==i}),document.removeEventListener("wheel",c,Di),document.removeEventListener("touchmove",c,Di),document.removeEventListener("touchstart",u,Di)}},[]);var x=e.removeScrollBar,g=e.inert;return f.createElement(f.Fragment,null,g?f.createElement(i,{styles:R9(a)}):null,x?f.createElement(N9,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function L9(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const M9=d9(LC,O9);var sy=f.forwardRef(function(e,t){return f.createElement(zh,Xr({},e,{ref:t,sideCar:M9}))});sy.classNames=zh.classNames;var D9=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},$i=new WeakMap,zd=new WeakMap,Wd={},Dm=0,UC=function(e){return e&&(e.host||UC(e.parentNode))},F9=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=UC(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},$9=function(e,t,r,n){var a=F9(t,Array.isArray(e)?e:[e]);Wd[r]||(Wd[r]=new WeakMap);var i=Wd[r],o=[],l=new Set,c=new Set(a),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};a.forEach(d);var u=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(m){if(l.has(m))u(m);else try{var x=m.getAttribute(n),g=x!==null&&x!=="false",v=($i.get(m)||0)+1,w=(i.get(m)||0)+1;$i.set(m,v),i.set(m,w),o.push(m),v===1&&g&&zd.set(m,!0),w===1&&m.setAttribute(r,"true"),g||m.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",m,b)}})};return u(t),l.clear(),Dm++,function(){o.forEach(function(h){var m=$i.get(h)-1,x=i.get(h)-1;$i.set(h,m),i.set(h,x),m||(zd.has(h)||h.removeAttribute(n),zd.delete(h)),x||h.removeAttribute(r)}),Dm--,Dm||($i=new WeakMap,$i=new WeakMap,zd=new WeakMap,Wd={})}},VC=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=D9(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),$9(n,a,r,"aria-hidden")):function(){return null}},Wh="Dialog",[BC]=tr(Wh),[U9,Ps]=BC(Wh),zC=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=f.useRef(null),c=f.useRef(null),[d,u]=as({prop:n,defaultProp:a??!1,onChange:i,caller:Wh});return s.jsx(U9,{scope:t,triggerRef:l,contentRef:c,contentId:_s(),titleId:_s(),descriptionId:_s(),open:d,onOpenChange:u,onOpenToggle:f.useCallback(()=>u(h=>!h),[u]),modal:o,children:r})};zC.displayName=Wh;var WC="DialogTrigger",qC=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ps(WC,r),i=Le(t,a.triggerRef);return s.jsx(je.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":iy(a.open),...n,ref:i,onClick:we(e.onClick,a.onOpenToggle)})});qC.displayName=WC;var ny="DialogPortal",[V9,HC]=BC(ny,{forceMount:void 0}),GC=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=Ps(ny,t);return s.jsx(V9,{scope:t,forceMount:r,children:f.Children.map(n,o=>s.jsx(Ir,{present:r||i.open,children:s.jsx(Lh,{asChild:!0,container:a,children:o})}))})};GC.displayName=ny;var rh="DialogOverlay",KC=f.forwardRef((e,t)=>{const r=HC(rh,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Ps(rh,e.__scopeDialog);return i.modal?s.jsx(Ir,{present:n||i.open,children:s.jsx(z9,{...a,ref:t})}):null});KC.displayName=rh;var B9=qo("DialogOverlay.RemoveScroll"),z9=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ps(rh,r);return s.jsx(sy,{as:B9,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(je.div,{"data-state":iy(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),hi="DialogContent",YC=f.forwardRef((e,t)=>{const r=HC(hi,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Ps(hi,e.__scopeDialog);return s.jsx(Ir,{present:n||i.open,children:i.modal?s.jsx(W9,{...a,ref:t}):s.jsx(q9,{...a,ref:t})})});YC.displayName=hi;var W9=f.forwardRef((e,t)=>{const r=Ps(hi,e.__scopeDialog),n=f.useRef(null),a=Le(t,r.contentRef,n);return f.useEffect(()=>{const i=n.current;if(i)return VC(i)},[]),s.jsx(JC,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:we(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:we(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:we(e.onFocusOutside,i=>i.preventDefault())})}),q9=f.forwardRef((e,t)=>{const r=Ps(hi,e.__scopeDialog),n=f.useRef(!1),a=f.useRef(!1);return s.jsx(JC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),JC=f.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Ps(hi,r),c=f.useRef(null),d=Le(t,c);return IC(),s.jsxs(s.Fragment,{children:[s.jsx(ry,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Hc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":iy(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(H9,{titleId:l.titleId}),s.jsx(K9,{contentRef:c,descriptionId:l.descriptionId})]})]})}),ay="DialogTitle",QC=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ps(ay,r);return s.jsx(je.h2,{id:a.titleId,...n,ref:t})});QC.displayName=ay;var XC="DialogDescription",ZC=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ps(XC,r);return s.jsx(je.p,{id:a.descriptionId,...n,ref:t})});ZC.displayName=XC;var eE="DialogClose",tE=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ps(eE,r);return s.jsx(je.button,{type:"button",...n,ref:t,onClick:we(e.onClick,()=>a.onOpenChange(!1))})});tE.displayName=eE;function iy(e){return e?"open":"closed"}var rE="DialogTitleWarning",[TH,sE]=BO(rE,{contentName:hi,titleName:ay,docsSlug:"dialog"}),H9=({titleId:e})=>{const t=sE(rE),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return f.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},G9="DialogDescriptionWarning",K9=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${sE(G9).contentName}}.`;return f.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Y9=zC,J9=qC,Q9=GC,nE=KC,aE=YC,iE=QC,oE=ZC,X9=tE;const Xe=Y9,lE=J9,Z9=Q9,cE=f.forwardRef(({className:e,...t},r)=>s.jsx(nE,{ref:r,className:_e("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));cE.displayName=nE.displayName;const Je=f.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(Z9,{children:[s.jsx(cE,{}),s.jsxs(aE,{ref:n,className:_e("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-border/40 bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(X9,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(er,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Je.displayName=aE.displayName;const Ze=({className:e,...t})=>s.jsx("div",{className:_e("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ze.displayName="DialogHeader";const ha=({className:e,...t})=>s.jsx("div",{className:_e("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});ha.displayName="DialogFooter";const Qe=f.forwardRef(({className:e,...t},r)=>s.jsx(iE,{ref:r,className:_e("text-lg font-semibold leading-none tracking-tight text-foreground",e),...t}));Qe.displayName=iE.displayName;const fa=f.forwardRef(({className:e,...t},r)=>s.jsx(oE,{ref:r,className:_e("text-sm text-muted-foreground",e),...t}));fa.displayName=oE.displayName;const e7=({isOpen:e,onClose:t})=>{const[r,n]=f.useState(""),[a,i]=f.useState(!1),[o,l]=f.useState(!1),{toast:c}=Pe(),d=async h=>{h.preventDefault(),i(!0);try{const{data:m,error:x}=await I.from("users").select("email, username").eq("email",r).single();if(x||!m){c({title:"Email Not Found",description:"No account found with this email address. Please check your email or create a new account.",variant:"destructive"});return}const g=`${window.location.origin}/reset-password`,{error:v}=await I.auth.resetPasswordForEmail(r,{redirectTo:g,emailTemplate:"password-reset"});if(v)throw v;l(!0),c({title:"Password Reset Email Sent",description:"Check your inbox (and spam folder) for the reset link. If you don't see it within 5 minutes, please check your spam folder."})}catch(m){console.error("Password reset error:",m),c({title:"Error",description:"Failed to send reset email. Please try again or contact support.",variant:"destructive"})}finally{i(!1)}},u=()=>{n(""),l(!1),t()};return s.jsx(Xe,{open:e,onOpenChange:u,children:s.jsxs(Je,{className:"bg-white/95 backdrop-blur-md border border-gray-200",children:[s.jsx(Ze,{children:s.jsxs(Qe,{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(yo,{className:"h-6 w-6 text-blue-600"}),"Forgot Password"]})}),o?s.jsxs("div",{className:"py-6",children:[s.jsx(_i,{className:"bg-green-50 border-green-200",children:s.jsx(Si,{className:"text-green-800",children:"Password reset instructions have been sent to your email address."})}),s.jsx(V,{onClick:u,className:"w-full mt-4",children:"Close"})]}):s.jsxs("form",{onSubmit:d,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(pe,{htmlFor:"reset-email",className:"text-gray-700",children:"Email Address"}),s.jsx(ne,{id:"reset-email",type:"email",value:r,onChange:h=>n(h.target.value),required:!0,placeholder:"Enter your email address",className:"border-gray-300 focus:border-blue-500"})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx(V,{type:"button",variant:"outline",onClick:u,className:"flex-1",children:"Cancel"}),s.jsx(V,{type:"submit",disabled:a,className:"flex-1 bg-blue-600 hover:bg-blue-700",children:a?s.jsxs(s.Fragment,{children:[s.jsx(ot,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):"Send Reset Email"})]})]})]})})},t7=({isOpen:e,onClose:t})=>{const[r,n]=f.useState(""),[a,i]=f.useState(!1),[o,l]=f.useState(!1),{toast:c}=Pe(),d=async h=>{h.preventDefault(),i(!0);try{const{data:m,error:x}=await I.functions.invoke("send-username-reminder",{body:{email:r}});if(x)throw new Error(x.message||"Failed to send username email");const g=typeof m=="string"?JSON.parse(m):m;if(!(g!=null&&g.success))throw new Error((g==null?void 0:g.message)||"Failed to send username email");l(!0),c({title:"Username sent",description:"Check your inbox for your username."})}catch(m){const x=m instanceof Error?m.message:"Failed to send username email. Please try again.";c({title:"Error",description:x,variant:"destructive"})}finally{i(!1)}},u=()=>{n(""),l(!1),t()};return s.jsx(Xe,{open:e,onOpenChange:u,children:s.jsxs(Je,{className:"bg-white/95 backdrop-blur-md border border-gray-200",children:[s.jsx(Ze,{children:s.jsxs(Qe,{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(At,{className:"h-6 w-6 text-blue-600"}),"Forgot Username"]})}),o?s.jsxs("div",{className:"py-6",children:[s.jsx(_i,{className:"bg-green-50 border-green-200",children:s.jsx(Si,{className:"text-green-800",children:"Your username has been sent to your email address."})}),s.jsx(V,{onClick:u,className:"w-full mt-4",children:"Close"})]}):s.jsxs("form",{onSubmit:d,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(pe,{htmlFor:"username-email",className:"text-gray-700",children:"Email Address"}),s.jsx(ne,{id:"username-email",type:"email",value:r,onChange:h=>n(h.target.value),required:!0,placeholder:"Enter your email address",className:"border-gray-300 focus:border-blue-500"})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx(V,{type:"button",variant:"outline",onClick:u,className:"flex-1",children:"Cancel"}),s.jsx(V,{type:"submit",disabled:a,className:"flex-1 bg-blue-600 hover:bg-blue-700",children:a?s.jsxs(s.Fragment,{children:[s.jsx(ot,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):"Send Username"})]})]})]})})},r7=["https://dimesonly.s3.us-east-2.amazonaws.com/realisticvision_45c765ef-2fe4-4658-8281-ff6cae9e2618.png","https://dimesonly.s3.us-east-2.amazonaws.com/image-31-1.jpg","https://dimesonly.s3.us-east-2.amazonaws.com/realorgasm_d49d90de-b2af-4870-9632-41b929d49efe.png","https://dimesonly.s3.us-east-2.amazonaws.com/image-27-1.jpg","https://dimesonly.s3.us-east-2.amazonaws.com/realorgasm_d83e24cd-671a-4515-94fc-0973bd54ece5.png","https://dimesonly.s3.us-east-2.amazonaws.com/eroticgirl_7dd2dfc3-d1ef-4f54-af34-f5ea901d4125-768x1250.png"],s7=()=>{const[e,t]=f.useState(""),[r,n]=f.useState(""),[a,i]=f.useState(""),[o,l]=f.useState(!1),[c,d]=f.useState(!1),[u,h]=f.useState(!1),m=pt(),{setUser:x}=Es(),{toast:g}=Pe(),v=async w=>{var b;w.preventDefault(),i(""),l(!0);try{let p=e.trim(),y=null;const j=e.trim();if(j.includes("@")){console.log("Email login detected:",j);const{data:S,error:P}=await Ve.from("users").select("*").eq("email",p).single();if(P||!S)throw console.error("Email not found:",P),new Error("Invalid email or password");y=S}else{console.log("Username login detected, looking up email for:",j);const{data:S,error:P}=await Ve.from("users").select("*").eq("username",j).single();if(P||!S)throw console.error("Username not found:",P),new Error("Invalid username or password");p=S.email,y=S,console.log("Found user email for username:",p)}console.log("Attempting Supabase Auth login with email:",p);const{data:N,error:k}=await I.auth.signInWithPassword({email:p,password:r});if(k){if(console.error("Supabase Auth failed:",k.message),!await(await wa(()=>Promise.resolve().then(()=>ZP),void 0)).compare(r,y.password_hash))throw new Error("Invalid credentials");console.log("Custom users table password is correct, syncing with Supabase Auth...");const{data:C,error:A}=await I.auth.signUp({email:p,password:r});if(A&&A.message!=="User already registered"){console.error("Failed to sync Supabase Auth user:",A);const{data:L,error:F}=await I.auth.signInWithPassword({email:p,password:r});if(F)throw console.error("Authentication failed after sync attempt:",F),new Error("Authentication failed. Please reset your password.");console.log(" Authentication successful after retry")}else console.log(" Supabase Auth user created/synced successfully")}else console.log(" Supabase Auth login successful");const _={id:y.id,username:y.username,email:y.email,firstName:y.first_name,lastName:y.last_name,userType:y.user_type,profilePhoto:y.profile_photo,bannerPhoto:y.banner_photo,mobileNumber:y.mobile_number,address:y.address,city:y.city,state:y.state,zip:y.zip,gender:y.gender,membershipType:y.membership_type,tipsEarned:y.tips_earned||0,referralFees:y.referral_fees||0,overrides:y.overrides||0,weeklyHours:y.weekly_hours||0,isRanked:y.is_ranked||!1,rankNumber:y.rank_number};x(_),(b=N==null?void 0:N.session)!=null&&b.access_token&&localStorage.setItem("authToken",N.session.access_token),sessionStorage.setItem("currentUser",y.username),sessionStorage.setItem("userData",JSON.stringify(_)),g({title:"Login Successful!",description:`Welcome back, ${y.username}!`}),m("/dashboard",{replace:!0})}catch(p){console.error("Login error:",p);const y=p instanceof Error?p.message:"Login failed. Please try again.";i(y),g({title:"Login Failed",description:y,variant:"destructive"})}finally{l(!1)}};return s.jsxs("div",{className:"w-full min-h-screen relative",children:[s.jsx(AC,{images:r7,interval:3e3}),s.jsx("div",{className:"relative z-10 w-full min-h-screen flex items-center justify-center py-8",children:s.jsx("div",{className:"w-full px-4",children:s.jsx("div",{className:"max-w-md mx-auto",children:s.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 shadow-2xl rounded-lg",children:[s.jsxs("div",{className:"text-center py-6 px-8 border-b border-white/20",children:[s.jsx("h1",{className:"text-4xl font-bold text-white font-inter tracking-tight",children:"Welcome Back"}),s.jsx("p",{className:"text-white/80 mt-2 font-inter",children:"Sign in to your account"})]}),s.jsxs("div",{className:"p-8",children:[s.jsxs("form",{onSubmit:v,className:"space-y-6",children:[a&&s.jsx(_i,{variant:"destructive",className:"bg-red-500/10 border-red-500/20",children:s.jsx(Si,{className:"text-red-200",children:a})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(pe,{htmlFor:"usernameOrEmail",className:"text-white font-medium",children:"Username or Email"}),s.jsx(ne,{id:"usernameOrEmail",type:"text",value:e,onChange:w=>t(w.target.value),required:!0,placeholder:"Enter your username or email",className:"bg-white/10 border-white/20 text-white placeholder:text-white/60 focus:border-white/40 focus:bg-white/20"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(pe,{htmlFor:"password",className:"text-white font-medium",children:"Password"}),s.jsx(ne,{id:"password",type:"password",value:r,onChange:w=>n(w.target.value),required:!0,placeholder:"Enter your password",className:"bg-white/10 border-white/20 text-white placeholder:text-white/60 focus:border-white/40 focus:bg-white/20"})]}),s.jsx(V,{type:"submit",disabled:o,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white py-4 px-6 rounded-lg shadow-lg hover:scale-105 transition-all duration-200 font-semibold text-lg",children:o?s.jsxs(s.Fragment,{children:[s.jsx(ot,{className:"mr-2 h-5 w-5 animate-spin"}),"Signing in..."]}):"Sign In"})]}),s.jsxs("div",{className:"mt-6 space-y-3",children:[s.jsxs("div",{className:"flex justify-center space-x-4",children:[s.jsx("button",{type:"button",onClick:()=>h(!0),className:"text-sm text-blue-300 hover:text-blue-200 hover:underline font-medium transition-colors",children:"Forgot Username?"}),s.jsx("span",{className:"text-white/40",children:""}),s.jsx("button",{type:"button",onClick:()=>d(!0),className:"text-sm text-blue-300 hover:text-blue-200 hover:underline font-medium transition-colors",children:"Forgot Password?"})]}),s.jsx("div",{className:"text-center pt-2",children:s.jsxs("p",{className:"text-sm text-white/80",children:["Don't have an account?"," ",s.jsx(c6,{to:"/register/?ref=company",className:"text-blue-300 hover:text-blue-200 hover:underline font-medium",children:"Sign up"})]})})]})]})]})})})}),s.jsx(e7,{isOpen:c,onClose:()=>d(!1)}),s.jsx(t7,{isOpen:u,onClose:()=>h(!1)})]})},n7=({showForgotUsername:e,showForgotPassword:t,onCloseUsername:r,onClosePassword:n})=>{const{toast:a}=Pe(),i=async o=>{try{const c=await(await fetch("https://qkcuykpndrolrewwnkwb.supabase.co/functions/v1/81148369-4a21-43ee-9d05-a25d11963f5d",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:o})})).json();if(c.success)a({title:"Success",description:`Admin ${o} sent to blackjackonelife@gmail.com`}),o==="username"?r():n();else throw new Error(c.error)}catch{a({title:"Error",description:"Failed to send credentials",variant:"destructive"})}};return s.jsxs(s.Fragment,{children:[s.jsx(Xe,{open:e,onOpenChange:r,children:s.jsxs(Je,{children:[s.jsx(Ze,{children:s.jsx(Qe,{children:"Forgot Username"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{children:"Admin username will be sent to blackjackonelife@gmail.com"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(V,{onClick:()=>i("username"),className:"flex-1",children:"Send Username"}),s.jsx(V,{variant:"outline",onClick:r,className:"flex-1",children:"Cancel"})]})]})]})}),s.jsx(Xe,{open:t,onOpenChange:n,children:s.jsxs(Je,{children:[s.jsx(Ze,{children:s.jsx(Qe,{children:"Forgot Password"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{children:"Admin password will be sent to blackjackonelife@gmail.com"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(V,{onClick:()=>i("password"),className:"flex-1",children:"Send Password"}),s.jsx(V,{variant:"outline",onClick:n,className:"flex-1",children:"Cancel"})]})]})]})})]})},a7=()=>{const[e,t]=f.useState(""),[r,n]=f.useState(""),[a,i]=f.useState(!1),[o,l]=f.useState(!1),[c,d]=f.useState(!1),u=pt(),{toast:h}=Pe(),m=async x=>{x.preventDefault(),i(!0);try{e==="admin"&&r==="Mjivkwo1!?"?(localStorage.setItem("adminAuth","true"),h({title:"Success",description:"Admin login successful"}),u("/admin")):h({title:"Error",description:"Invalid admin credentials",variant:"destructive"})}catch{h({title:"Error",description:"Login failed",variant:"destructive"})}finally{i(!1)}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center p-4",children:[s.jsxs(Q,{className:"w-full max-w-md",children:[s.jsx(de,{className:"text-center",children:s.jsx(ue,{className:"text-2xl font-bold text-gray-900",children:"Admin Login"})}),s.jsxs(X,{children:[s.jsxs("form",{onSubmit:m,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(pe,{htmlFor:"username",children:"Username"}),s.jsx(ne,{id:"username",type:"text",value:e,onChange:x=>t(x.target.value),required:!0,placeholder:"Enter admin username"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(pe,{htmlFor:"password",children:"Password"}),s.jsx(ne,{id:"password",type:"password",value:r,onChange:x=>n(x.target.value),required:!0,placeholder:"Enter admin password"})]}),s.jsx(V,{type:"submit",className:"w-full",disabled:a,children:a?"Logging in...":"Login"})]}),s.jsxs("div",{className:"mt-4 text-center space-y-2",children:[s.jsx("button",{type:"button",onClick:()=>d(!0),className:"text-sm text-blue-600 hover:underline",children:"Forgot Username?"}),s.jsx("br",{}),s.jsx("button",{type:"button",onClick:()=>l(!0),className:"text-sm text-blue-600 hover:underline",children:"Forgot Password?"})]})]})]}),s.jsx(n7,{showForgotUsername:c,showForgotPassword:o,onCloseUsername:()=>d(!1),onClosePassword:()=>l(!1)})]})};var i7=f.createContext(void 0);function ll(e){const t=f.useContext(i7);return e||t||"ltr"}var Fm="rovingFocusGroup.onEntryFocus",o7={bubbles:!1,cancelable:!0},Zc="RovingFocusGroup",[Ax,dE,l7]=Oh(Zc),[c7,qh]=tr(Zc,[l7]),[d7,u7]=c7(Zc),uE=f.forwardRef((e,t)=>s.jsx(Ax.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Ax.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(h7,{...e,ref:t})})}));uE.displayName=Zc;var h7=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...h}=e,m=f.useRef(null),x=Le(t,m),g=ll(i),[v,w]=as({prop:o,defaultProp:l??null,onChange:c,caller:Zc}),[b,p]=f.useState(!1),y=Pt(d),j=dE(r),N=f.useRef(!1),[k,_]=f.useState(0);return f.useEffect(()=>{const S=m.current;if(S)return S.addEventListener(Fm,y),()=>S.removeEventListener(Fm,y)},[y]),s.jsx(d7,{scope:r,orientation:n,dir:g,loop:a,currentTabStopId:v,onItemFocus:f.useCallback(S=>w(S),[w]),onItemShiftTab:f.useCallback(()=>p(!0),[]),onFocusableItemAdd:f.useCallback(()=>_(S=>S+1),[]),onFocusableItemRemove:f.useCallback(()=>_(S=>S-1),[]),children:s.jsx(je.div,{tabIndex:b||k===0?-1:0,"data-orientation":n,...h,ref:x,style:{outline:"none",...e.style},onMouseDown:we(e.onMouseDown,()=>{N.current=!0}),onFocus:we(e.onFocus,S=>{const P=!N.current;if(S.target===S.currentTarget&&P&&!b){const C=new CustomEvent(Fm,o7);if(S.currentTarget.dispatchEvent(C),!C.defaultPrevented){const A=j().filter(U=>U.focusable),L=A.find(U=>U.active),F=A.find(U=>U.id===v),W=[L,F,...A].filter(Boolean).map(U=>U.ref.current);mE(W,u)}}N.current=!1}),onBlur:we(e.onBlur,()=>p(!1))})})}),hE="RovingFocusGroupItem",fE=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=_s(),d=i||c,u=u7(hE,r),h=u.currentTabStopId===d,m=dE(r),{onFocusableItemAdd:x,onFocusableItemRemove:g,currentTabStopId:v}=u;return f.useEffect(()=>{if(n)return x(),()=>g()},[n,x,g]),s.jsx(Ax.ItemSlot,{scope:r,id:d,focusable:n,active:a,children:s.jsx(je.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...l,ref:t,onMouseDown:we(e.onMouseDown,w=>{n?u.onItemFocus(d):w.preventDefault()}),onFocus:we(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:we(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){u.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const b=p7(w,u.orientation,u.dir);if(b!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let y=m().filter(j=>j.focusable).map(j=>j.ref.current);if(b==="last")y.reverse();else if(b==="prev"||b==="next"){b==="prev"&&y.reverse();const j=y.indexOf(w.currentTarget);y=u.loop?x7(y,j+1):y.slice(j+1)}setTimeout(()=>mE(y))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:v!=null}):o})})});fE.displayName=hE;var f7={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function m7(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function p7(e,t,r){const n=m7(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return f7[n]}function mE(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function x7(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var pE=uE,xE=fE;function oy(e){const[t,r]=f.useState(void 0);return wt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}function ly(e){const t=f.useRef({value:e,previous:e});return f.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var cy="Radio",[g7,gE]=tr(cy),[y7,v7]=g7(cy),yE=f.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:a=!1,required:i,disabled:o,value:l="on",onCheck:c,form:d,...u}=e,[h,m]=f.useState(null),x=Le(t,w=>m(w)),g=f.useRef(!1),v=h?d||!!h.closest("form"):!0;return s.jsxs(y7,{scope:r,checked:a,disabled:o,children:[s.jsx(je.button,{type:"button",role:"radio","aria-checked":a,"data-state":jE(a),"data-disabled":o?"":void 0,disabled:o,value:l,...u,ref:x,onClick:we(e.onClick,w=>{a||c==null||c(),v&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),v&&s.jsx(wE,{control:h,bubbles:!g.current,name:n,value:l,checked:a,required:i,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});yE.displayName=cy;var vE="RadioIndicator",bE=f.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...a}=e,i=v7(vE,r);return s.jsx(Ir,{present:n||i.checked,children:s.jsx(je.span,{"data-state":jE(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});bE.displayName=vE;var b7="RadioBubbleInput",wE=f.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=f.useRef(null),l=Le(o,i),c=ly(r),d=oy(t);return f.useEffect(()=>{const u=o.current;if(!u)return;const h=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&x){const g=new Event("click",{bubbles:n});x.call(u,r),u.dispatchEvent(g)}},[c,r,n]),s.jsx(je.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});wE.displayName=b7;function jE(e){return e?"checked":"unchecked"}var w7=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Hh="RadioGroup",[j7]=tr(Hh,[qh,gE]),NE=qh(),_E=gE(),[N7,_7]=j7(Hh),SE=f.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:a,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:d,loop:u=!0,onValueChange:h,...m}=e,x=NE(r),g=ll(d),[v,w]=as({prop:i,defaultProp:a??null,onChange:h,caller:Hh});return s.jsx(N7,{scope:r,name:n,required:o,disabled:l,value:v,onValueChange:w,children:s.jsx(pE,{asChild:!0,...x,orientation:c,dir:g,loop:u,children:s.jsx(je.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:g,...m,ref:t})})})});SE.displayName=Hh;var kE="RadioGroupItem",CE=f.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...a}=e,i=_7(kE,r),o=i.disabled||n,l=NE(r),c=_E(r),d=f.useRef(null),u=Le(t,d),h=i.value===a.value,m=f.useRef(!1);return f.useEffect(()=>{const x=v=>{w7.includes(v.key)&&(m.current=!0)},g=()=>m.current=!1;return document.addEventListener("keydown",x),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",x),document.removeEventListener("keyup",g)}},[]),s.jsx(xE,{asChild:!0,...l,focusable:!o,active:h,children:s.jsx(yE,{disabled:o,required:i.required,checked:h,...c,...a,name:i.name,ref:u,onCheck:()=>i.onValueChange(a.value),onKeyDown:we(x=>{x.key==="Enter"&&x.preventDefault()}),onFocus:we(a.onFocus,()=>{var x;m.current&&((x=d.current)==null||x.click())})})})});CE.displayName=kE;var S7="RadioGroupIndicator",EE=f.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,a=_E(r);return s.jsx(bE,{...a,...n,ref:t})});EE.displayName=S7;var PE=SE,TE=CE,k7=EE;const sh=f.forwardRef(({className:e,...t},r)=>s.jsx(PE,{className:_e("grid gap-2",e),...t,ref:r}));sh.displayName=PE.displayName;const an=f.forwardRef(({className:e,...t},r)=>s.jsx(TE,{ref:r,className:_e("aspect-square h-4 w-4 rounded-full border border-primary/60 text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-200",e),...t,children:s.jsx(k7,{className:"flex items-center justify-center",children:s.jsx(FL,{className:"h-2.5 w-2.5 fill-current text-current animate-in scale-in-0 duration-200"})})}));an.displayName=TE.displayName;const qd=({label:e,accept:t="image/*",onChange:r,error:n})=>{const a=f.useRef(null),[i,o]=f.useState(null),[l,c]=f.useState(""),[d,u]=f.useState(!1),h=t==null?void 0:t.includes("video"),m=y=>{if(y){c(y.name);const j=URL.createObjectURL(y);o(j),r(y)}else c(""),o(null),r(null)},x=y=>{var N;const j=((N=y.target.files)==null?void 0:N[0])||null;j&&h&&!j.type.startsWith("video/")||j&&!h&&!j.type.startsWith("image/")||m(j)},g=()=>{var y;(y=a.current)==null||y.click()},v=()=>{c(""),o(null),r(null),a.current&&(a.current.value="")},w=y=>{y.preventDefault(),u(!0)},b=y=>{y.preventDefault(),u(!1)},p=y=>{y.preventDefault(),u(!1);const j=y.dataTransfer.files[0];j&&(h&&!j.type.startsWith("video/")||!h&&!j.type.startsWith("image/")||m(j))};return s.jsxs("div",{className:"space-y-3",children:[s.jsx(pe,{className:"text-sm font-medium text-white",children:e}),i?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"relative inline-block",children:[s.jsx("div",{className:"w-32 h-32 rounded-lg overflow-hidden border-2 border-white/20 bg-white/5",children:h?s.jsx("video",{src:i||void 0,className:"w-full h-full object-cover",controls:!0,muted:!0,playsInline:!0}):s.jsx("img",{src:i||void 0,alt:"Preview",className:"w-full h-full object-cover"})}),s.jsx("button",{type:"button",onClick:v,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center hover:bg-red-600 transition-colors shadow-lg",children:s.jsx(er,{className:"h-3 w-3"})})]}),s.jsx("p",{className:"text-white/80 text-sm truncate max-w-xs",children:l})]}):s.jsx("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${d?"border-blue-400 bg-blue-400/10":"border-white/30 bg-white/5 hover:border-white/50 hover:bg-white/10"}`,onDragOver:w,onDragLeave:b,onDrop:p,children:s.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[s.jsx("div",{className:"p-3 rounded-full bg-white/10",children:h?s.jsx(nn,{className:"h-6 w-6 text-white/60"}):s.jsx($r,{className:"h-6 w-6 text-white/60"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-white/80 text-sm font-medium",children:h?"Drop your video here":"Drop your image here"}),s.jsx("p",{className:"text-white/60 text-xs",children:"or"})]}),s.jsxs(V,{type:"button",variant:"outline",onClick:g,className:"flex items-center gap-2 bg-white/10 border-white/30 text-white hover:bg-white/20 hover:border-white/50",children:[s.jsx(dn,{className:"h-4 w-4"}),"Choose File"]}),s.jsx("p",{className:"text-white/50 text-xs",children:h?"MP4, MOV, WEBM up to 200MB":"PNG, JPG, GIF up to 50MB"})]})}),s.jsx("input",{ref:a,type:"file",accept:t,onChange:x,className:"hidden"}),n&&s.jsxs("p",{className:"text-red-400 text-sm flex items-center gap-1",children:[s.jsx(er,{className:"h-3 w-3"}),n]})]})};function Rx(e,[t,r]){return Math.min(r,Math.max(t,e))}const C7=["top","right","bottom","left"],ma=Math.min,Mr=Math.max,nh=Math.round,Hd=Math.floor,Hs=e=>({x:e,y:e}),E7={left:"right",right:"left",bottom:"top",top:"bottom"},P7={start:"end",end:"start"};function Ix(e,t,r){return Mr(e,ma(t,r))}function yn(e,t){return typeof e=="function"?e(t):e}function vn(e){return e.split("-")[0]}function cl(e){return e.split("-")[1]}function dy(e){return e==="x"?"y":"x"}function uy(e){return e==="y"?"height":"width"}const T7=new Set(["top","bottom"]);function $s(e){return T7.has(vn(e))?"y":"x"}function hy(e){return dy($s(e))}function A7(e,t,r){r===void 0&&(r=!1);const n=cl(e),a=hy(e),i=uy(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=ah(o)),[o,ah(o)]}function R7(e){const t=ah(e);return[Ox(e),t,Ox(t)]}function Ox(e){return e.replace(/start|end/g,t=>P7[t])}const Mj=["left","right"],Dj=["right","left"],I7=["top","bottom"],O7=["bottom","top"];function L7(e,t,r){switch(e){case"top":case"bottom":return r?t?Dj:Mj:t?Mj:Dj;case"left":case"right":return t?I7:O7;default:return[]}}function M7(e,t,r,n){const a=cl(e);let i=L7(vn(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(Ox)))),i}function ah(e){return e.replace(/left|right|bottom|top/g,t=>E7[t])}function D7(e){return{top:0,right:0,bottom:0,left:0,...e}}function AE(e){return typeof e!="number"?D7(e):{top:e,right:e,bottom:e,left:e}}function ih(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function Fj(e,t,r){let{reference:n,floating:a}=e;const i=$s(t),o=hy(t),l=uy(o),c=vn(t),d=i==="y",u=n.x+n.width/2-a.width/2,h=n.y+n.height/2-a.height/2,m=n[l]/2-a[l]/2;let x;switch(c){case"top":x={x:u,y:n.y-a.height};break;case"bottom":x={x:u,y:n.y+n.height};break;case"right":x={x:n.x+n.width,y:h};break;case"left":x={x:n.x-a.width,y:h};break;default:x={x:n.x,y:n.y}}switch(cl(t)){case"start":x[o]-=m*(r&&d?-1:1);break;case"end":x[o]+=m*(r&&d?-1:1);break}return x}const F7=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:u,y:h}=Fj(d,n,c),m=n,x={},g=0;for(let v=0;v<l.length;v++){const{name:w,fn:b}=l[v],{x:p,y,data:j,reset:N}=await b({x:u,y:h,initialPlacement:n,placement:m,strategy:a,middlewareData:x,rects:d,platform:o,elements:{reference:e,floating:t}});u=p??u,h=y??h,x={...x,[w]:{...x[w],...j}},N&&g<=50&&(g++,typeof N=="object"&&(N.placement&&(m=N.placement),N.rects&&(d=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):N.rects),{x:u,y:h}=Fj(d,m,c)),v=-1)}return{x:u,y:h,placement:m,strategy:a,middlewareData:x}};async function Cc(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:m=!1,padding:x=0}=yn(t,e),g=AE(x),w=l[m?h==="floating"?"reference":"floating":h],b=ih(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(w)))==null||r?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),p=h==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,y=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),j=await(i.isElement==null?void 0:i.isElement(y))?await(i.getScale==null?void 0:i.getScale(y))||{x:1,y:1}:{x:1,y:1},N=ih(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:p,offsetParent:y,strategy:c}):p);return{top:(b.top-N.top+g.top)/j.y,bottom:(N.bottom-b.bottom+g.bottom)/j.y,left:(b.left-N.left+g.left)/j.x,right:(N.right-b.right+g.right)/j.x}}const $7=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=yn(e,t)||{};if(d==null)return{};const h=AE(u),m={x:r,y:n},x=hy(a),g=uy(x),v=await o.getDimensions(d),w=x==="y",b=w?"top":"left",p=w?"bottom":"right",y=w?"clientHeight":"clientWidth",j=i.reference[g]+i.reference[x]-m[x]-i.floating[g],N=m[x]-i.reference[x],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let _=k?k[y]:0;(!_||!await(o.isElement==null?void 0:o.isElement(k)))&&(_=l.floating[y]||i.floating[g]);const S=j/2-N/2,P=_/2-v[g]/2-1,C=ma(h[b],P),A=ma(h[p],P),L=C,F=_-v[g]-A,E=_/2-v[g]/2+S,W=Ix(L,E,F),U=!c.arrow&&cl(a)!=null&&E!==W&&i.reference[g]/2-(E<L?C:A)-v[g]/2<0,Y=U?E<L?E-L:E-F:0;return{[x]:m[x]+Y,data:{[x]:W,centerOffset:E-W-Y,...U&&{alignmentOffset:Y}},reset:U}}}),U7=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,...w}=yn(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const b=vn(a),p=$s(l),y=vn(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(d.floating)),N=m||(y||!v?[ah(l)]:R7(l)),k=g!=="none";!m&&k&&N.push(...M7(l,v,g,j));const _=[l,...N],S=await Cc(t,w),P=[];let C=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&P.push(S[b]),h){const E=A7(a,o,j);P.push(S[E[0]],S[E[1]])}if(C=[...C,{placement:a,overflows:P}],!P.every(E=>E<=0)){var A,L;const E=(((A=i.flip)==null?void 0:A.index)||0)+1,W=_[E];if(W&&(!(h==="alignment"?p!==$s(W):!1)||C.every(M=>$s(M.placement)===p?M.overflows[0]>0:!0)))return{data:{index:E,overflows:C},reset:{placement:W}};let U=(L=C.filter(Y=>Y.overflows[0]<=0).sort((Y,M)=>Y.overflows[1]-M.overflows[1])[0])==null?void 0:L.placement;if(!U)switch(x){case"bestFit":{var F;const Y=(F=C.filter(M=>{if(k){const G=$s(M.placement);return G===p||G==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(G=>G>0).reduce((G,R)=>G+R,0)]).sort((M,G)=>M[1]-G[1])[0])==null?void 0:F[0];Y&&(U=Y);break}case"initialPlacement":U=l;break}if(a!==U)return{reset:{placement:U}}}return{}}}};function $j(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Uj(e){return C7.some(t=>e[t]>=0)}const V7=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=yn(e,t);switch(n){case"referenceHidden":{const i=await Cc(t,{...a,elementContext:"reference"}),o=$j(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Uj(o)}}}case"escaped":{const i=await Cc(t,{...a,altBoundary:!0}),o=$j(i,r.floating);return{data:{escapedOffsets:o,escaped:Uj(o)}}}default:return{}}}}},RE=new Set(["left","top"]);async function B7(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=vn(r),l=cl(r),c=$s(r)==="y",d=RE.has(o)?-1:1,u=i&&c?-1:1,h=yn(t,e);let{mainAxis:m,crossAxis:x,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof g=="number"&&(x=l==="end"?g*-1:g),c?{x:x*u,y:m*d}:{x:m*d,y:x*u}}const z7=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await B7(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},W7=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:w=>{let{x:b,y:p}=w;return{x:b,y:p}}},...c}=yn(e,t),d={x:r,y:n},u=await Cc(t,c),h=$s(vn(a)),m=dy(h);let x=d[m],g=d[h];if(i){const w=m==="y"?"top":"left",b=m==="y"?"bottom":"right",p=x+u[w],y=x-u[b];x=Ix(p,x,y)}if(o){const w=h==="y"?"top":"left",b=h==="y"?"bottom":"right",p=g+u[w],y=g-u[b];g=Ix(p,g,y)}const v=l.fn({...t,[m]:x,[h]:g});return{...v,data:{x:v.x-r,y:v.y-n,enabled:{[m]:i,[h]:o}}}}}},q7=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=yn(e,t),u={x:r,y:n},h=$s(a),m=dy(h);let x=u[m],g=u[h];const v=yn(l,t),w=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const y=m==="y"?"height":"width",j=i.reference[m]-i.floating[y]+w.mainAxis,N=i.reference[m]+i.reference[y]-w.mainAxis;x<j?x=j:x>N&&(x=N)}if(d){var b,p;const y=m==="y"?"width":"height",j=RE.has(vn(a)),N=i.reference[h]-i.floating[y]+(j&&((b=o.offset)==null?void 0:b[h])||0)+(j?0:w.crossAxis),k=i.reference[h]+i.reference[y]+(j?0:((p=o.offset)==null?void 0:p[h])||0)-(j?w.crossAxis:0);g<N?g=N:g>k&&(g=k)}return{[m]:x,[h]:g}}}},H7=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...d}=yn(e,t),u=await Cc(t,d),h=vn(a),m=cl(a),x=$s(a)==="y",{width:g,height:v}=i.floating;let w,b;h==="top"||h==="bottom"?(w=h,b=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=h,w=m==="end"?"top":"bottom");const p=v-u.top-u.bottom,y=g-u.left-u.right,j=ma(v-u[w],p),N=ma(g-u[b],y),k=!t.middlewareData.shift;let _=j,S=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(S=y),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(_=p),k&&!m){const C=Mr(u.left,0),A=Mr(u.right,0),L=Mr(u.top,0),F=Mr(u.bottom,0);x?S=g-2*(C!==0||A!==0?C+A:Mr(u.left,u.right)):_=v-2*(L!==0||F!==0?L+F:Mr(u.top,u.bottom))}await c({...t,availableWidth:S,availableHeight:_});const P=await o.getDimensions(l.floating);return g!==P.width||v!==P.height?{reset:{rects:!0}}:{}}}};function Gh(){return typeof window<"u"}function dl(e){return IE(e)?(e.nodeName||"").toLowerCase():"#document"}function Br(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ks(e){var t;return(t=(IE(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function IE(e){return Gh()?e instanceof Node||e instanceof Br(e).Node:!1}function ks(e){return Gh()?e instanceof Element||e instanceof Br(e).Element:!1}function Gs(e){return Gh()?e instanceof HTMLElement||e instanceof Br(e).HTMLElement:!1}function Vj(e){return!Gh()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Br(e).ShadowRoot}const G7=new Set(["inline","contents"]);function ed(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Cs(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!G7.has(a)}const K7=new Set(["table","td","th"]);function Y7(e){return K7.has(dl(e))}const J7=[":popover-open",":modal"];function Kh(e){return J7.some(t=>{try{return e.matches(t)}catch{return!1}})}const Q7=["transform","translate","scale","rotate","perspective"],X7=["transform","translate","scale","rotate","perspective","filter"],Z7=["paint","layout","strict","content"];function fy(e){const t=my(),r=ks(e)?Cs(e):e;return Q7.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||X7.some(n=>(r.willChange||"").includes(n))||Z7.some(n=>(r.contain||"").includes(n))}function eV(e){let t=pa(e);for(;Gs(t)&&!Ko(t);){if(fy(t))return t;if(Kh(t))return null;t=pa(t)}return null}function my(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const tV=new Set(["html","body","#document"]);function Ko(e){return tV.has(dl(e))}function Cs(e){return Br(e).getComputedStyle(e)}function Yh(e){return ks(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function pa(e){if(dl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Vj(e)&&e.host||Ks(e);return Vj(t)?t.host:t}function OE(e){const t=pa(e);return Ko(t)?e.ownerDocument?e.ownerDocument.body:e.body:Gs(t)&&ed(t)?t:OE(t)}function Ec(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=OE(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=Br(a);if(i){const l=Lx(o);return t.concat(o,o.visualViewport||[],ed(a)?a:[],l&&r?Ec(l):[])}return t.concat(a,Ec(a,[],r))}function Lx(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function LE(e){const t=Cs(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Gs(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=nh(r)!==i||nh(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function py(e){return ks(e)?e:e.contextElement}function jo(e){const t=py(e);if(!Gs(t))return Hs(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=LE(t);let o=(i?nh(r.width):r.width)/n,l=(i?nh(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const rV=Hs(0);function ME(e){const t=Br(e);return!my()||!t.visualViewport?rV:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function sV(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Br(e)?!1:t}function fi(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=py(e);let o=Hs(1);t&&(n?ks(n)&&(o=jo(n)):o=jo(e));const l=sV(i,r,n)?ME(i):Hs(0);let c=(a.left+l.x)/o.x,d=(a.top+l.y)/o.y,u=a.width/o.x,h=a.height/o.y;if(i){const m=Br(i),x=n&&ks(n)?Br(n):n;let g=m,v=Lx(g);for(;v&&n&&x!==g;){const w=jo(v),b=v.getBoundingClientRect(),p=Cs(v),y=b.left+(v.clientLeft+parseFloat(p.paddingLeft))*w.x,j=b.top+(v.clientTop+parseFloat(p.paddingTop))*w.y;c*=w.x,d*=w.y,u*=w.x,h*=w.y,c+=y,d+=j,g=Br(v),v=Lx(g)}}return ih({width:u,height:h,x:c,y:d})}function Jh(e,t){const r=Yh(e).scrollLeft;return t?t.left+r:fi(Ks(e)).left+r}function DE(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Jh(e,r),a=r.top+t.scrollTop;return{x:n,y:a}}function nV(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=Ks(n),l=t?Kh(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},d=Hs(1);const u=Hs(0),h=Gs(n);if((h||!h&&!i)&&((dl(n)!=="body"||ed(o))&&(c=Yh(n)),Gs(n))){const x=fi(n);d=jo(n),u.x=x.x+n.clientLeft,u.y=x.y+n.clientTop}const m=o&&!h&&!i?DE(o,c):Hs(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x+m.x,y:r.y*d.y-c.scrollTop*d.y+u.y+m.y}}function aV(e){return Array.from(e.getClientRects())}function iV(e){const t=Ks(e),r=Yh(e),n=e.ownerDocument.body,a=Mr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Mr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Jh(e);const l=-r.scrollTop;return Cs(n).direction==="rtl"&&(o+=Mr(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}const Bj=25;function oV(e,t){const r=Br(e),n=Ks(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const u=my();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const d=Jh(n);if(d<=0){const u=n.ownerDocument,h=u.body,m=getComputedStyle(h),x=u.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,g=Math.abs(n.clientWidth-h.clientWidth-x);g<=Bj&&(i-=g)}else d<=Bj&&(i+=d);return{width:i,height:o,x:l,y:c}}const lV=new Set(["absolute","fixed"]);function cV(e,t){const r=fi(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=Gs(e)?jo(e):Hs(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,d=n*i.y;return{width:o,height:l,x:c,y:d}}function zj(e,t,r){let n;if(t==="viewport")n=oV(e,r);else if(t==="document")n=iV(Ks(e));else if(ks(t))n=cV(t,r);else{const a=ME(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return ih(n)}function FE(e,t){const r=pa(e);return r===t||!ks(r)||Ko(r)?!1:Cs(r).position==="fixed"||FE(r,t)}function dV(e,t){const r=t.get(e);if(r)return r;let n=Ec(e,[],!1).filter(l=>ks(l)&&dl(l)!=="body"),a=null;const i=Cs(e).position==="fixed";let o=i?pa(e):e;for(;ks(o)&&!Ko(o);){const l=Cs(o),c=fy(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&lV.has(a.position)||ed(o)&&!c&&FE(e,o))?n=n.filter(u=>u!==o):a=l,o=pa(o)}return t.set(e,n),n}function uV(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?Kh(t)?[]:dV(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((d,u)=>{const h=zj(t,u,a);return d.top=Mr(h.top,d.top),d.right=ma(h.right,d.right),d.bottom=ma(h.bottom,d.bottom),d.left=Mr(h.left,d.left),d},zj(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function hV(e){const{width:t,height:r}=LE(e);return{width:t,height:r}}function fV(e,t,r){const n=Gs(t),a=Ks(t),i=r==="fixed",o=fi(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Hs(0);function d(){c.x=Jh(a)}if(n||!n&&!i)if((dl(t)!=="body"||ed(a))&&(l=Yh(t)),n){const x=fi(t,!0,i,t);c.x=x.x+t.clientLeft,c.y=x.y+t.clientTop}else a&&d();i&&!n&&a&&d();const u=a&&!n&&!i?DE(a,l):Hs(0),h=o.left+l.scrollLeft-c.x-u.x,m=o.top+l.scrollTop-c.y-u.y;return{x:h,y:m,width:o.width,height:o.height}}function $m(e){return Cs(e).position==="static"}function Wj(e,t){if(!Gs(e)||Cs(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Ks(e)===r&&(r=r.ownerDocument.body),r}function $E(e,t){const r=Br(e);if(Kh(e))return r;if(!Gs(e)){let a=pa(e);for(;a&&!Ko(a);){if(ks(a)&&!$m(a))return a;a=pa(a)}return r}let n=Wj(e,t);for(;n&&Y7(n)&&$m(n);)n=Wj(n,t);return n&&Ko(n)&&$m(n)&&!fy(n)?r:n||eV(e)||r}const mV=async function(e){const t=this.getOffsetParent||$E,r=this.getDimensions,n=await r(e.floating);return{reference:fV(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function pV(e){return Cs(e).direction==="rtl"}const xV={convertOffsetParentRelativeRectToViewportRelativeRect:nV,getDocumentElement:Ks,getClippingRect:uV,getOffsetParent:$E,getElementRects:mV,getClientRects:aV,getDimensions:hV,getScale:jo,isElement:ks,isRTL:pV};function UE(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function gV(e,t){let r=null,n;const a=Ks(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=e.getBoundingClientRect(),{left:u,top:h,width:m,height:x}=d;if(l||t(),!m||!x)return;const g=Hd(h),v=Hd(a.clientWidth-(u+m)),w=Hd(a.clientHeight-(h+x)),b=Hd(u),y={rootMargin:-g+"px "+-v+"px "+-w+"px "+-b+"px",threshold:Mr(0,ma(1,c))||1};let j=!0;function N(k){const _=k[0].intersectionRatio;if(_!==c){if(!j)return o();_?o(!1,_):n=setTimeout(()=>{o(!1,1e-7)},1e3)}_===1&&!UE(d,e.getBoundingClientRect())&&o(),j=!1}try{r=new IntersectionObserver(N,{...y,root:a.ownerDocument})}catch{r=new IntersectionObserver(N,y)}r.observe(e)}return o(!0),i}function yV(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=py(e),u=a||i?[...d?Ec(d):[],...Ec(t)]:[];u.forEach(b=>{a&&b.addEventListener("scroll",r,{passive:!0}),i&&b.addEventListener("resize",r)});const h=d&&l?gV(d,r):null;let m=-1,x=null;o&&(x=new ResizeObserver(b=>{let[p]=b;p&&p.target===d&&x&&(x.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var y;(y=x)==null||y.observe(t)})),r()}),d&&!c&&x.observe(d),x.observe(t));let g,v=c?fi(e):null;c&&w();function w(){const b=fi(e);v&&!UE(v,b)&&r(),v=b,g=requestAnimationFrame(w)}return r(),()=>{var b;u.forEach(p=>{a&&p.removeEventListener("scroll",r),i&&p.removeEventListener("resize",r)}),h==null||h(),(b=x)==null||b.disconnect(),x=null,c&&cancelAnimationFrame(g)}}const vV=z7,bV=W7,wV=U7,jV=H7,NV=V7,qj=$7,_V=q7,SV=(e,t,r)=>{const n=new Map,a={platform:xV,...r},i={...a.platform,_c:n};return F7(e,t,{...a,platform:i})};var kV=typeof document<"u",CV=function(){},bu=kV?f.useLayoutEffect:CV;function oh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!oh(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!oh(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function VE(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Hj(e,t){const r=VE(e);return Math.round(t*r)/r}function Um(e){const t=f.useRef(e);return bu(()=>{t.current=e}),t}function EV(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,h]=f.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,x]=f.useState(n);oh(m,n)||x(n);const[g,v]=f.useState(null),[w,b]=f.useState(null),p=f.useCallback(M=>{M!==k.current&&(k.current=M,v(M))},[]),y=f.useCallback(M=>{M!==_.current&&(_.current=M,b(M))},[]),j=i||g,N=o||w,k=f.useRef(null),_=f.useRef(null),S=f.useRef(u),P=c!=null,C=Um(c),A=Um(a),L=Um(d),F=f.useCallback(()=>{if(!k.current||!_.current)return;const M={placement:t,strategy:r,middleware:m};A.current&&(M.platform=A.current),SV(k.current,_.current,M).then(G=>{const R={...G,isPositioned:L.current!==!1};E.current&&!oh(S.current,R)&&(S.current=R,vi.flushSync(()=>{h(R)}))})},[m,t,r,A,L]);bu(()=>{d===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,h(M=>({...M,isPositioned:!1})))},[d]);const E=f.useRef(!1);bu(()=>(E.current=!0,()=>{E.current=!1}),[]),bu(()=>{if(j&&(k.current=j),N&&(_.current=N),j&&N){if(C.current)return C.current(j,N,F);F()}},[j,N,F,C,P]);const W=f.useMemo(()=>({reference:k,floating:_,setReference:p,setFloating:y}),[p,y]),U=f.useMemo(()=>({reference:j,floating:N}),[j,N]),Y=f.useMemo(()=>{const M={position:r,left:0,top:0};if(!U.floating)return M;const G=Hj(U.floating,u.x),R=Hj(U.floating,u.y);return l?{...M,transform:"translate("+G+"px, "+R+"px)",...VE(U.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:G,top:R}},[r,l,U.floating,u.x,u.y]);return f.useMemo(()=>({...u,update:F,refs:W,elements:U,floatingStyles:Y}),[u,F,W,U,Y])}const PV=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?qj({element:n.current,padding:a}).fn(r):{}:n?qj({element:n,padding:a}).fn(r):{}}}},TV=(e,t)=>({...vV(e),options:[e,t]}),AV=(e,t)=>({...bV(e),options:[e,t]}),RV=(e,t)=>({..._V(e),options:[e,t]}),IV=(e,t)=>({...wV(e),options:[e,t]}),OV=(e,t)=>({...jV(e),options:[e,t]}),LV=(e,t)=>({...NV(e),options:[e,t]}),MV=(e,t)=>({...PV(e),options:[e,t]});var DV="Arrow",BE=f.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(je.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});BE.displayName=DV;var FV=BE,xy="Popper",[zE,Qh]=tr(xy),[$V,WE]=zE(xy),qE=e=>{const{__scopePopper:t,children:r}=e,[n,a]=f.useState(null);return s.jsx($V,{scope:t,anchor:n,onAnchorChange:a,children:r})};qE.displayName=xy;var HE="PopperAnchor",GE=f.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=WE(HE,r),o=f.useRef(null),l=Le(t,o),c=f.useRef(null);return f.useEffect(()=>{const d=c.current;c.current=(n==null?void 0:n.current)||o.current,d!==c.current&&i.onAnchorChange(c.current)}),n?null:s.jsx(je.div,{...a,ref:l})});GE.displayName=HE;var gy="PopperContent",[UV,VV]=zE(gy),KE=f.forwardRef((e,t)=>{var H,re,ee,se,T,z;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:x="optimized",onPlaced:g,...v}=e,w=WE(gy,r),[b,p]=f.useState(null),y=Le(t,Z=>p(Z)),[j,N]=f.useState(null),k=oy(j),_=(k==null?void 0:k.width)??0,S=(k==null?void 0:k.height)??0,P=n+(i!=="center"?"-"+i:""),C=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},A=Array.isArray(d)?d:[d],L=A.length>0,F={padding:C,boundary:A.filter(zV),altBoundary:L},{refs:E,floatingStyles:W,placement:U,isPositioned:Y,middlewareData:M}=EV({strategy:"fixed",placement:P,whileElementsMounted:(...Z)=>yV(...Z,{animationFrame:x==="always"}),elements:{reference:w.anchor},middleware:[TV({mainAxis:a+S,alignmentAxis:o}),c&&AV({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?RV():void 0,...F}),c&&IV({...F}),OV({...F,apply:({elements:Z,rects:le,availableWidth:q,availableHeight:he})=>{const{width:xe,height:me}=le.reference,Ae=Z.floating.style;Ae.setProperty("--radix-popper-available-width",`${q}px`),Ae.setProperty("--radix-popper-available-height",`${he}px`),Ae.setProperty("--radix-popper-anchor-width",`${xe}px`),Ae.setProperty("--radix-popper-anchor-height",`${me}px`)}}),j&&MV({element:j,padding:l}),WV({arrowWidth:_,arrowHeight:S}),m&&LV({strategy:"referenceHidden",...F})]}),[G,R]=QE(U),D=Pt(g);wt(()=>{Y&&(D==null||D())},[Y,D]);const te=(H=M.arrow)==null?void 0:H.x,J=(re=M.arrow)==null?void 0:re.y,ae=((ee=M.arrow)==null?void 0:ee.centerOffset)!==0,[K,O]=f.useState();return wt(()=>{b&&O(window.getComputedStyle(b).zIndex)},[b]),s.jsx("div",{ref:E.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:Y?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:K,"--radix-popper-transform-origin":[(se=M.transformOrigin)==null?void 0:se.x,(T=M.transformOrigin)==null?void 0:T.y].join(" "),...((z=M.hide)==null?void 0:z.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(UV,{scope:r,placedSide:G,onArrowChange:N,arrowX:te,arrowY:J,shouldHideArrow:ae,children:s.jsx(je.div,{"data-side":G,"data-align":R,...v,ref:y,style:{...v.style,animation:Y?void 0:"none"}})})})});KE.displayName=gy;var YE="PopperArrow",BV={top:"bottom",right:"left",bottom:"top",left:"right"},JE=f.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=VV(YE,n),o=BV[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(FV,{...a,ref:r,style:{...a.style,display:"block"}})})});JE.displayName=YE;function zV(e){return e!==null}var WV=e=>({name:"transformOrigin",options:e,fn(t){var w,b,p;const{placement:r,rects:n,middlewareData:a}=t,o=((w=a.arrow)==null?void 0:w.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=QE(r),h={start:"0%",center:"50%",end:"100%"}[u],m=(((b=a.arrow)==null?void 0:b.x)??0)+l/2,x=(((p=a.arrow)==null?void 0:p.y)??0)+c/2;let g="",v="";return d==="bottom"?(g=o?h:`${m}px`,v=`${-c}px`):d==="top"?(g=o?h:`${m}px`,v=`${n.floating.height+c}px`):d==="right"?(g=`${-c}px`,v=o?h:`${x}px`):d==="left"&&(g=`${n.floating.width+c}px`,v=o?h:`${x}px`),{data:{x:g,y:v}}}});function QE(e){const[t,r="center"]=e.split("-");return[t,r]}var XE=qE,ZE=GE,eP=KE,tP=JE,qV=[" ","Enter","ArrowUp","ArrowDown"],HV=[" ","Enter"],mi="Select",[Xh,Zh,GV]=Oh(mi),[ul]=tr(mi,[GV,Qh]),ef=Qh(),[KV,ka]=ul(mi),[YV,JV]=ul(mi),rP=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:h,disabled:m,required:x,form:g}=e,v=ef(t),[w,b]=f.useState(null),[p,y]=f.useState(null),[j,N]=f.useState(!1),k=ll(d),[_,S]=as({prop:n,defaultProp:a??!1,onChange:i,caller:mi}),[P,C]=as({prop:o,defaultProp:l,onChange:c,caller:mi}),A=f.useRef(null),L=w?g||!!w.closest("form"):!0,[F,E]=f.useState(new Set),W=Array.from(F).map(U=>U.props.value).join(";");return s.jsx(XE,{...v,children:s.jsxs(KV,{required:x,scope:t,trigger:w,onTriggerChange:b,valueNode:p,onValueNodeChange:y,valueNodeHasChildren:j,onValueNodeHasChildrenChange:N,contentId:_s(),value:P,onValueChange:C,open:_,onOpenChange:S,dir:k,triggerPointerDownPosRef:A,disabled:m,children:[s.jsx(Xh.Provider,{scope:t,children:s.jsx(YV,{scope:e.__scopeSelect,onNativeOptionAdd:f.useCallback(U=>{E(Y=>new Set(Y).add(U))},[]),onNativeOptionRemove:f.useCallback(U=>{E(Y=>{const M=new Set(Y);return M.delete(U),M})},[]),children:r})}),L?s.jsxs(kP,{"aria-hidden":!0,required:x,tabIndex:-1,name:u,autoComplete:h,value:P,onChange:U=>C(U.target.value),disabled:m,form:g,children:[P===void 0?s.jsx("option",{value:""}):null,Array.from(F)]},W):null]})})};rP.displayName=mi;var sP="SelectTrigger",nP=f.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=ef(r),o=ka(sP,r),l=o.disabled||n,c=Le(t,o.onTriggerChange),d=Zh(r),u=f.useRef("touch"),[h,m,x]=EP(v=>{const w=d().filter(y=>!y.disabled),b=w.find(y=>y.value===o.value),p=PP(w,v,b);p!==void 0&&o.onValueChange(p.value)}),g=v=>{l||(o.onOpenChange(!0),x()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return s.jsx(ZE,{asChild:!0,...i,children:s.jsx(je.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":CP(o.value)?"":void 0,...a,ref:c,onClick:we(a.onClick,v=>{v.currentTarget.focus(),u.current!=="mouse"&&g(v)}),onPointerDown:we(a.onPointerDown,v=>{u.current=v.pointerType;const w=v.target;w.hasPointerCapture(v.pointerId)&&w.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(g(v),v.preventDefault())}),onKeyDown:we(a.onKeyDown,v=>{const w=h.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&m(v.key),!(w&&v.key===" ")&&qV.includes(v.key)&&(g(),v.preventDefault())})})})});nP.displayName=sP;var aP="SelectValue",iP=f.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,c=ka(aP,r),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,h=Le(t,c.onValueNodeChange);return wt(()=>{d(u)},[d,u]),s.jsx(je.span,{...l,ref:h,style:{pointerEvents:"none"},children:CP(c.value)?s.jsx(s.Fragment,{children:o}):i})});iP.displayName=aP;var QV="SelectIcon",oP=f.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(je.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});oP.displayName=QV;var XV="SelectPortal",lP=e=>s.jsx(Lh,{asChild:!0,...e});lP.displayName=XV;var pi="SelectContent",cP=f.forwardRef((e,t)=>{const r=ka(pi,e.__scopeSelect),[n,a]=f.useState();if(wt(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?vi.createPortal(s.jsx(dP,{scope:e.__scopeSelect,children:s.jsx(Xh.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(uP,{...e,ref:t})});cP.displayName=pi;var ds=10,[dP,Ca]=ul(pi),ZV="SelectContentImpl",eB=qo("SelectContent.RemoveScroll"),uP=f.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:m,collisionPadding:x,sticky:g,hideWhenDetached:v,avoidCollisions:w,...b}=e,p=ka(pi,r),[y,j]=f.useState(null),[N,k]=f.useState(null),_=Le(t,H=>j(H)),[S,P]=f.useState(null),[C,A]=f.useState(null),L=Zh(r),[F,E]=f.useState(!1),W=f.useRef(!1);f.useEffect(()=>{if(y)return VC(y)},[y]),IC();const U=f.useCallback(H=>{const[re,...ee]=L().map(z=>z.ref.current),[se]=ee.slice(-1),T=document.activeElement;for(const z of H)if(z===T||(z==null||z.scrollIntoView({block:"nearest"}),z===re&&N&&(N.scrollTop=0),z===se&&N&&(N.scrollTop=N.scrollHeight),z==null||z.focus(),document.activeElement!==T))return},[L,N]),Y=f.useCallback(()=>U([S,y]),[U,S,y]);f.useEffect(()=>{F&&Y()},[F,Y]);const{onOpenChange:M,triggerPointerDownPosRef:G}=p;f.useEffect(()=>{if(y){let H={x:0,y:0};const re=se=>{var T,z;H={x:Math.abs(Math.round(se.pageX)-(((T=G.current)==null?void 0:T.x)??0)),y:Math.abs(Math.round(se.pageY)-(((z=G.current)==null?void 0:z.y)??0))}},ee=se=>{H.x<=10&&H.y<=10?se.preventDefault():y.contains(se.target)||M(!1),document.removeEventListener("pointermove",re),G.current=null};return G.current!==null&&(document.addEventListener("pointermove",re),document.addEventListener("pointerup",ee,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",re),document.removeEventListener("pointerup",ee,{capture:!0})}}},[y,M,G]),f.useEffect(()=>{const H=()=>M(!1);return window.addEventListener("blur",H),window.addEventListener("resize",H),()=>{window.removeEventListener("blur",H),window.removeEventListener("resize",H)}},[M]);const[R,D]=EP(H=>{const re=L().filter(T=>!T.disabled),ee=re.find(T=>T.ref.current===document.activeElement),se=PP(re,H,ee);se&&setTimeout(()=>se.ref.current.focus())}),te=f.useCallback((H,re,ee)=>{const se=!W.current&&!ee;(p.value!==void 0&&p.value===re||se)&&(P(H),se&&(W.current=!0))},[p.value]),J=f.useCallback(()=>y==null?void 0:y.focus(),[y]),ae=f.useCallback((H,re,ee)=>{const se=!W.current&&!ee;(p.value!==void 0&&p.value===re||se)&&A(H)},[p.value]),K=n==="popper"?Mx:hP,O=K===Mx?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:m,collisionPadding:x,sticky:g,hideWhenDetached:v,avoidCollisions:w}:{};return s.jsx(dP,{scope:r,content:y,viewport:N,onViewportChange:k,itemRefCallback:te,selectedItem:S,onItemLeave:J,itemTextRefCallback:ae,focusSelectedItem:Y,selectedItemText:C,position:n,isPositioned:F,searchRef:R,children:s.jsx(sy,{as:eB,allowPinchZoom:!0,children:s.jsx(ry,{asChild:!0,trapped:p.open,onMountAutoFocus:H=>{H.preventDefault()},onUnmountAutoFocus:we(a,H=>{var re;(re=p.trigger)==null||re.focus({preventScroll:!0}),H.preventDefault()}),children:s.jsx(Hc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:H=>H.preventDefault(),onDismiss:()=>p.onOpenChange(!1),children:s.jsx(K,{role:"listbox",id:p.contentId,"data-state":p.open?"open":"closed",dir:p.dir,onContextMenu:H=>H.preventDefault(),...b,...O,onPlaced:()=>E(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:we(b.onKeyDown,H=>{const re=H.ctrlKey||H.altKey||H.metaKey;if(H.key==="Tab"&&H.preventDefault(),!re&&H.key.length===1&&D(H.key),["ArrowUp","ArrowDown","Home","End"].includes(H.key)){let se=L().filter(T=>!T.disabled).map(T=>T.ref.current);if(["ArrowUp","End"].includes(H.key)&&(se=se.slice().reverse()),["ArrowUp","ArrowDown"].includes(H.key)){const T=H.target,z=se.indexOf(T);se=se.slice(z+1)}setTimeout(()=>U(se)),H.preventDefault()}})})})})})})});uP.displayName=ZV;var tB="SelectItemAlignedPosition",hP=f.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=ka(pi,r),o=Ca(pi,r),[l,c]=f.useState(null),[d,u]=f.useState(null),h=Le(t,_=>u(_)),m=Zh(r),x=f.useRef(!1),g=f.useRef(!0),{viewport:v,selectedItem:w,selectedItemText:b,focusSelectedItem:p}=o,y=f.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&v&&w&&b){const _=i.trigger.getBoundingClientRect(),S=d.getBoundingClientRect(),P=i.valueNode.getBoundingClientRect(),C=b.getBoundingClientRect();if(i.dir!=="rtl"){const T=C.left-S.left,z=P.left-T,Z=_.left-z,le=_.width+Z,q=Math.max(le,S.width),he=window.innerWidth-ds,xe=Rx(z,[ds,Math.max(ds,he-q)]);l.style.minWidth=le+"px",l.style.left=xe+"px"}else{const T=S.right-C.right,z=window.innerWidth-P.right-T,Z=window.innerWidth-_.right-z,le=_.width+Z,q=Math.max(le,S.width),he=window.innerWidth-ds,xe=Rx(z,[ds,Math.max(ds,he-q)]);l.style.minWidth=le+"px",l.style.right=xe+"px"}const A=m(),L=window.innerHeight-ds*2,F=v.scrollHeight,E=window.getComputedStyle(d),W=parseInt(E.borderTopWidth,10),U=parseInt(E.paddingTop,10),Y=parseInt(E.borderBottomWidth,10),M=parseInt(E.paddingBottom,10),G=W+U+F+M+Y,R=Math.min(w.offsetHeight*5,G),D=window.getComputedStyle(v),te=parseInt(D.paddingTop,10),J=parseInt(D.paddingBottom,10),ae=_.top+_.height/2-ds,K=L-ae,O=w.offsetHeight/2,H=w.offsetTop+O,re=W+U+H,ee=G-re;if(re<=ae){const T=A.length>0&&w===A[A.length-1].ref.current;l.style.bottom="0px";const z=d.clientHeight-v.offsetTop-v.offsetHeight,Z=Math.max(K,O+(T?J:0)+z+Y),le=re+Z;l.style.height=le+"px"}else{const T=A.length>0&&w===A[0].ref.current;l.style.top="0px";const Z=Math.max(ae,W+v.offsetTop+(T?te:0)+O)+ee;l.style.height=Z+"px",v.scrollTop=re-ae+v.offsetTop}l.style.margin=`${ds}px 0`,l.style.minHeight=R+"px",l.style.maxHeight=L+"px",n==null||n(),requestAnimationFrame(()=>x.current=!0)}},[m,i.trigger,i.valueNode,l,d,v,w,b,i.dir,n]);wt(()=>y(),[y]);const[j,N]=f.useState();wt(()=>{d&&N(window.getComputedStyle(d).zIndex)},[d]);const k=f.useCallback(_=>{_&&g.current===!0&&(y(),p==null||p(),g.current=!1)},[y,p]);return s.jsx(sB,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:x,onScrollButtonChange:k,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:s.jsx(je.div,{...a,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});hP.displayName=tB;var rB="SelectPopperPosition",Mx=f.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=ds,...i}=e,o=ef(r);return s.jsx(eP,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Mx.displayName=rB;var[sB,yy]=ul(pi,{}),Dx="SelectViewport",fP=f.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=Ca(Dx,r),o=yy(Dx,r),l=Le(t,i.onViewportChange),c=f.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(Xh.Slot,{scope:r,children:s.jsx(je.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:we(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&h){const x=Math.abs(c.current-u.scrollTop);if(x>0){const g=window.innerHeight-ds*2,v=parseFloat(h.style.minHeight),w=parseFloat(h.style.height),b=Math.max(v,w);if(b<g){const p=b+x,y=Math.min(g,p),j=p-y;h.style.height=y+"px",h.style.bottom==="0px"&&(u.scrollTop=j>0?j:0,h.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});fP.displayName=Dx;var mP="SelectGroup",[nB,aB]=ul(mP),iB=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=_s();return s.jsx(nB,{scope:r,id:a,children:s.jsx(je.div,{role:"group","aria-labelledby":a,...n,ref:t})})});iB.displayName=mP;var pP="SelectLabel",xP=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=aB(pP,r);return s.jsx(je.div,{id:a.id,...n,ref:t})});xP.displayName=pP;var lh="SelectItem",[oB,gP]=ul(lh),yP=f.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=ka(lh,r),c=Ca(lh,r),d=l.value===n,[u,h]=f.useState(i??""),[m,x]=f.useState(!1),g=Le(t,p=>{var y;return(y=c.itemRefCallback)==null?void 0:y.call(c,p,n,a)}),v=_s(),w=f.useRef("touch"),b=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(oB,{scope:r,value:n,disabled:a,textId:v,isSelected:d,onItemTextChange:f.useCallback(p=>{h(y=>y||((p==null?void 0:p.textContent)??"").trim())},[]),children:s.jsx(Xh.ItemSlot,{scope:r,value:n,disabled:a,textValue:u,children:s.jsx(je.div,{role:"option","aria-labelledby":v,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:g,onFocus:we(o.onFocus,()=>x(!0)),onBlur:we(o.onBlur,()=>x(!1)),onClick:we(o.onClick,()=>{w.current!=="mouse"&&b()}),onPointerUp:we(o.onPointerUp,()=>{w.current==="mouse"&&b()}),onPointerDown:we(o.onPointerDown,p=>{w.current=p.pointerType}),onPointerMove:we(o.onPointerMove,p=>{var y;w.current=p.pointerType,a?(y=c.onItemLeave)==null||y.call(c):w.current==="mouse"&&p.currentTarget.focus({preventScroll:!0})}),onPointerLeave:we(o.onPointerLeave,p=>{var y;p.currentTarget===document.activeElement&&((y=c.onItemLeave)==null||y.call(c))}),onKeyDown:we(o.onKeyDown,p=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&p.key===" "||(HV.includes(p.key)&&b(),p.key===" "&&p.preventDefault())})})})})});yP.displayName=lh;var Al="SelectItemText",vP=f.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=ka(Al,r),l=Ca(Al,r),c=gP(Al,r),d=JV(Al,r),[u,h]=f.useState(null),m=Le(t,b=>h(b),c.onItemTextChange,b=>{var p;return(p=l.itemTextRefCallback)==null?void 0:p.call(l,b,c.value,c.disabled)}),x=u==null?void 0:u.textContent,g=f.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:x},c.value),[c.disabled,c.value,x]),{onNativeOptionAdd:v,onNativeOptionRemove:w}=d;return wt(()=>(v(g),()=>w(g)),[v,w,g]),s.jsxs(s.Fragment,{children:[s.jsx(je.span,{id:c.textId,...i,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?vi.createPortal(i.children,o.valueNode):null]})});vP.displayName=Al;var bP="SelectItemIndicator",wP=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return gP(bP,r).isSelected?s.jsx(je.span,{"aria-hidden":!0,...n,ref:t}):null});wP.displayName=bP;var Fx="SelectScrollUpButton",jP=f.forwardRef((e,t)=>{const r=Ca(Fx,e.__scopeSelect),n=yy(Fx,e.__scopeSelect),[a,i]=f.useState(!1),o=Le(t,n.onScrollButtonChange);return wt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(_P,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});jP.displayName=Fx;var $x="SelectScrollDownButton",NP=f.forwardRef((e,t)=>{const r=Ca($x,e.__scopeSelect),n=yy($x,e.__scopeSelect),[a,i]=f.useState(!1),o=Le(t,n.onScrollButtonChange);return wt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(_P,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});NP.displayName=$x;var _P=f.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=Ca("SelectScrollButton",r),o=f.useRef(null),l=Zh(r),c=f.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return f.useEffect(()=>()=>c(),[c]),wt(()=>{var u;const d=l().find(h=>h.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),s.jsx(je.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:we(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:we(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:we(a.onPointerLeave,()=>{c()})})}),lB="SelectSeparator",SP=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(je.div,{"aria-hidden":!0,...n,ref:t})});SP.displayName=lB;var Ux="SelectArrow",cB=f.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=ef(r),i=ka(Ux,r),o=Ca(Ux,r);return i.open&&o.position==="popper"?s.jsx(tP,{...a,...n,ref:t}):null});cB.displayName=Ux;var dB="SelectBubbleInput",kP=f.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=f.useRef(null),i=Le(n,a),o=ly(t);return f.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&u){const h=new Event("change",{bubbles:!0});u.call(l,t),l.dispatchEvent(h)}},[o,t]),s.jsx(je.select,{...r,style:{...h2,...r.style},ref:i,defaultValue:t})});kP.displayName=dB;function CP(e){return e===""||e===void 0}function EP(e){const t=Pt(e),r=f.useRef(""),n=f.useRef(0),a=f.useCallback(o=>{const l=r.current+o;t(l),function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=f.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function PP(e,t,r){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=uB(e,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function uB(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var hB=rP,TP=nP,fB=iP,mB=oP,pB=lP,AP=cP,xB=fP,RP=xP,IP=yP,gB=vP,yB=wP,OP=jP,LP=NP,MP=SP;const Sr=hB,kr=fB,dr=f.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(TP,{ref:n,className:_e("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground/60 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-primary focus-visible:border-primary/50 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 transition-colors",e),...r,children:[t,s.jsx(mB,{asChild:!0,children:s.jsx(b0,{className:"h-4 w-4 opacity-50 transition-transform duration-200 ease-in-out group-data-[state=open]:rotate-180"})})]}));dr.displayName=TP.displayName;const DP=f.forwardRef(({className:e,...t},r)=>s.jsx(OP,{ref:r,className:_e("flex cursor-default items-center justify-center py-1 text-muted-foreground",e),...t,children:s.jsx(DL,{className:"h-4 w-4"})}));DP.displayName=OP.displayName;const FP=f.forwardRef(({className:e,...t},r)=>s.jsx(LP,{ref:r,className:_e("flex cursor-default items-center justify-center py-1 text-muted-foreground",e),...t,children:s.jsx(b0,{className:"h-4 w-4"})}));FP.displayName=LP.displayName;const ur=f.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(pB,{children:s.jsxs(AP,{ref:a,className:_e("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-border/40 bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 duration-200",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(DP,{}),s.jsx(xB,{className:_e("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(FP,{})]})}));ur.displayName=AP.displayName;const vB=f.forwardRef(({className:e,...t},r)=>s.jsx(RP,{ref:r,className:_e("py-1.5 pl-8 pr-2 text-sm font-medium text-muted-foreground",e),...t}));vB.displayName=RP.displayName;const Se=f.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(IP,{ref:n,className:_e("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent/50 focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 transition-colors",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(yB,{children:s.jsx(Fh,{className:"h-4 w-4 text-primary"})})}),s.jsx(gB,{children:t})]}));Se.displayName=IP.displayName;const bB=f.forwardRef(({className:e,...t},r)=>s.jsx(MP,{ref:r,className:_e("-mx-1 my-1 h-px bg-muted",e),...t}));bB.displayName=MP.displayName;const wB=["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"],jB=({formData:e,errors:t,showUserType:r,showVideoUploads:n,handleInputChange:a,handleFileChange:i,profilePhotoUrl:o,videoUrls:l,videoErrors:c,handleVideoUpload:d})=>{const u=["Normal video","Normal or Nude video","Normal or X-rated video"];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white border-b border-white/20 pb-2",children:"Personal Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(pe,{htmlFor:"firstName",className:"text-sm font-medium text-white",children:["First Name ",s.jsx("span",{className:"text-red-400",children:"*"})]}),s.jsx(ne,{id:"firstName",type:"text",value:e.firstName,onChange:h=>a("firstName")(h.target.value),className:"bg-white/10 border-white/30 text-white placeholder-yellow/60 focus:border-yellow-400 focus:ring-blue-400",placeholder:"Enter your first name"}),t.firstName&&s.jsx("p",{className:"text-red-400 text-sm",children:t.firstName})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(pe,{htmlFor:"lastName",className:"text-sm font-medium text-white",children:["Last Name ",s.jsx("span",{className:"text-red-400",children:"*"})]}),s.jsx(ne,{id:"lastName",type:"text",value:e.lastName,onChange:h=>a("lastName")(h.target.value),className:"bg-white/10 border-white/30 text-white placeholder-white/60 focus:border-yellow-400 focus:ring-blue-400",placeholder:"Enter your last name"}),t.lastName&&s.jsx("p",{className:"text-red-400 text-sm",children:t.lastName})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(pe,{htmlFor:"dateOfBirth",className:"text-sm font-medium text-white",children:["Date of Birth ",s.jsx("span",{className:"text-red-400",children:"*"})]}),s.jsx(ne,{id:"dateOfBirth",type:"date",value:e.dateOfBirth,onChange:h=>a("dateOfBirth")(h.target.value),className:"bg-white/10 border-white/30 text-white focus:border-yellow-400 focus:ring-blue-400"}),t.dateOfBirth&&s.jsx("p",{className:"text-red-400 text-sm",children:t.dateOfBirth})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(pe,{htmlFor:"username",className:"text-sm font-medium text-white",children:["Username ",s.jsx("span",{className:"text-red-400",children:"*"})]}),s.jsx(ne,{id:"username",type:"text",value:e.username,onChange:h=>a("username")(h.target.value),className:"bg-white/10 border-white/30 text-white placeholder-white/60 focus:border-yellow-400 focus:ring-blue-400",placeholder:"Choose a unique username",disabled:!1}),t.username&&s.jsx("p",{className:"text-red-400 text-sm",children:t.username}),e.gender==="male"&&s.jsx("p",{className:"text-blue-300 text-xs",children:"Choose your preferred username"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white border-b border-white/20 pb-2",children:"Account Information"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(pe,{htmlFor:"email",className:"text-sm font-medium text-white",children:["Email ",s.jsx("span",{className:"text-red-400",children:"*"})]}),s.jsx(ne,{id:"email",type:"email",value:e.email,onChange:h=>a("email")(h.target.value),className:"bg-white/10 border-white/30 text-white placeholder-white/60 focus:border-yellow-400 focus:ring-blue-400",placeholder:"Enter your email address"}),t.email&&s.jsx("p",{className:"text-red-400 text-sm",children:t.email})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(pe,{htmlFor:"password",className:"text-sm font-medium text-white",children:["Password ",s.jsx("span",{className:"text-red-400",children:"*"})]}),s.jsx(ne,{id:"password",type:"password",value:e.password,onChange:h=>a("password")(h.target.value),className:"bg-white/10 border-white/30 text-white placeholder-white/60 focus:border-yellow-400 focus:ring-blue-400",placeholder:"Create a secure password"}),t.password&&s.jsx("p",{className:"text-red-400 text-sm",children:t.password})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(pe,{htmlFor:"confirmPassword",className:"text-sm font-medium text-white",children:["Confirm Password ",s.jsx("span",{className:"text-red-400",children:"*"})]}),s.jsx(ne,{id:"confirmPassword",type:"password",value:e.confirmPassword,onChange:h=>a("confirmPassword")(h.target.value),className:"bg-white/10 border-white/30 text-white placeholder-white/60 focus:border-yellow-400 focus:ring-blue-400",placeholder:"Confirm your password"}),t.confirmPassword&&s.jsx("p",{className:"text-red-400 text-sm",children:t.confirmPassword})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white border-b border-white/20 pb-2",children:"Contact Information"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(pe,{htmlFor:"mobileNumber",className:"text-sm font-medium text-white",children:["Mobile Number ",s.jsx("span",{className:"text-red-400",children:"*"})]}),s.jsx(ne,{id:"mobileNumber",type:"tel",value:e.mobileNumber,onChange:h=>a("mobileNumber")(h.target.value),className:"bg-white/10 border-white/30 text-white placeholder-white/60 focus:border-yellow-400 focus:ring-blue-400",placeholder:"Enter your phone number"}),t.mobileNumber&&s.jsx("p",{className:"text-red-400 text-sm",children:t.mobileNumber})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(pe,{htmlFor:"address",className:"text-sm font-medium text-white",children:["Address ",s.jsx("span",{className:"text-red-400",children:"*"})]}),s.jsx(ne,{id:"address",type:"text",value:e.address,onChange:h=>a("address")(h.target.value),className:"bg-white/10 border-white/30 text-white placeholder-white/60 focus:border-yellow-400 focus:ring-blue-400",placeholder:"Enter your street address"}),t.address&&s.jsx("p",{className:"text-red-400 text-sm",children:t.address})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(pe,{htmlFor:"city",className:"text-sm font-medium text-white",children:["City ",s.jsx("span",{className:"text-red-400",children:"*"})]}),s.jsx(ne,{id:"city",type:"text",value:e.city,onChange:h=>a("city")(h.target.value),className:"bg-white/10 border-white/30 text-white placeholder-white/60 focus:border-yellow-400 focus:ring-blue-400",placeholder:"City"}),t.city&&s.jsx("p",{className:"text-red-400 text-sm",children:t.city})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(pe,{htmlFor:"state",className:"text-sm font-medium text-white",children:["State ",s.jsx("span",{className:"text-red-400",children:"*"})]}),s.jsxs(Sr,{value:e.state,onValueChange:a("state"),children:[s.jsx(dr,{className:"bg-white/10 border-white/30 text-white focus:border-yellow-400 focus:ring-blue-400",children:s.jsx(kr,{placeholder:"Select your state"})}),s.jsx(ur,{className:"bg-slate-900 text-white",children:wB.map(h=>s.jsx(Se,{value:h,children:h},h))})]}),t.state&&s.jsx("p",{className:"text-red-400 text-sm",children:t.state})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(pe,{htmlFor:"zip",className:"text-sm font-medium text-white",children:["Zip Code ",s.jsx("span",{className:"text-red-400",children:"*"})]}),s.jsx(ne,{id:"zip",type:"text",value:e.zip,onChange:h=>a("zip")(h.target.value),className:"bg-white/10 border-white/30 text-white placeholder-white/60 focus-border-yellow-400 focus:ring-blue-400",placeholder:"Zip"}),t.zip&&s.jsx("p",{className:"text-red-400 text-sm",children:t.zip})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white border-b border-white/20 pb-2",children:"Profile Information"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(pe,{className:"text-sm font-medium text-white",children:["Gender ",s.jsx("span",{className:"text-red-400",children:"*"})]}),s.jsxs(sh,{value:e.gender,onValueChange:a("gender"),className:"flex gap-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(an,{value:"male",id:"male",className:"border-white/40 text-blue-400"}),s.jsx(pe,{htmlFor:"male",className:"text-white",children:"Male"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(an,{value:"female",id:"female",className:"border-white/40 text-blue-400"}),s.jsx(pe,{htmlFor:"female",className:"text-white",children:"Female"})]})]}),t.gender&&s.jsx("p",{className:"text-red-400 text-sm",children:t.gender})]}),r&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/20",children:[s.jsxs(pe,{className:"text-sm font-medium text-white mb-3 block",children:["Choose the best that describes you"," ",s.jsx("span",{className:"text-red-400",children:"*"})]}),s.jsxs(sh,{value:e.userType,onValueChange:a("userType"),className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg bg-white/5 hover:bg-white/10 transition-colors",children:[s.jsx(an,{value:"normal",id:"normal",className:"border-white/40 text-blue-400 mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsx(pe,{htmlFor:"normal",className:"text-white font-medium cursor-pointer",children:"Normal"}),s.jsx("p",{className:"text-white/70 text-sm mt-1",children:"Here just to make money!"})]})]}),s.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg bg-white/5 hover:bg-white/10 transition-colors",children:[s.jsx(an,{value:"exotic",id:"exotic",className:"border-white/40 text-blue-400 mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsx(pe,{htmlFor:"exotic",className:"text-white font-medium cursor-pointer",children:"Exotic"}),s.jsx("p",{className:"text-white/70 text-sm mt-1",children:"Here to make more money than normal."})]})]}),s.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg bg-white/5 hover:bg-white/10 transition-colors",children:[s.jsx(an,{value:"stripper",id:"stripper",className:"border-white/40 text-blue-400 mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsx(pe,{htmlFor:"stripper",className:"text-white font-medium cursor-pointer",children:"Stripper"}),s.jsx("p",{className:"text-white/70 text-sm mt-1",children:"Here to be on the reality show Housing Angels."})]})]})]})]}),t.userType&&s.jsx("p",{className:"text-red-400 text-sm",children:t.userType})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white border-b border-white/20 pb-2",children:"Photo Uploads"}),s.jsxs("p",{className:"text-sm text-white/70",children:[s.jsx("span",{className:"text-red-400",children:"*"})," All photos are required to complete your registration."]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("div",{className:"space-y-2",children:s.jsx(qd,{label:"Profile Photo (Square Size)",accept:"image/*",onChange:i("profilePhoto"),error:t.profilePhoto})}),s.jsx("div",{className:"space-y-2",children:s.jsx(qd,{label:"Banner Photo (LandScape Size)",accept:"image/*",onChange:i("bannerPhoto"),error:t.bannerPhoto})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qd,{label:"Front Page Photo (Portrait Size)",accept:"image/*",onChange:i("frontPagePhoto")}),t.frontPagePhoto&&s.jsx("p",{className:"text-red-400 text-sm",children:t.frontPagePhoto})]})]})]}),n&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white border-b border-white/20 pb-2",children:"Required Videos"}),s.jsx("p",{className:"text-sm text-white/70",children:"Upload each recommended video type to complete your premium application. A combination of or just normal, nude or x-rated."}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[0,1,2].map(h=>s.jsxs("div",{className:"space-y-2",children:[s.jsx(qd,{label:`Video ${h+1} (${u[h]})`,accept:"video/*",onChange:d(h),error:c[h]||void 0}),s.jsxs("p",{className:"text-xs text-white/60",children:["Upload your ",u[h].toLowerCase()," here."]}),l[h]&&s.jsx("p",{className:"text-xs text-green-300",children:"Uploaded"})]},h))})]})]})},Vm=768;function $P(){const[e,t]=f.useState(void 0);return f.useEffect(()=>{const r=window.matchMedia(`(max-width: ${Vm-1}px)`),n=()=>{t(window.innerWidth<Vm)};return r.addEventListener("change",n),t(window.innerWidth<Vm),()=>r.removeEventListener("change",n)},[]),!!e}function ki(){const e=$P();return{isMobile:e,getContainerClasses:(i="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8")=>e?"px-0":i,getContentClasses:(i="px-4 sm:px-6 lg:px-8")=>e?"px-4":i,getCardClasses:(i="shadow-lg")=>e?"shadow-none mx-0 rounded-none":i,getPaddingClasses:(i="p-6")=>e?"p-4":i}}const NB={};var Vx=null;function _B(e){try{return crypto.getRandomValues(new Uint8Array(e))}catch{}try{return NB.randomBytes(e)}catch{}if(!Vx)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return Vx(e)}function UP(e){Vx=e}function tf(e,t){if(e=e||jy,typeof e!="number")throw Error("Illegal arguments: "+typeof e+", "+typeof t);e<4?e=4:e>31&&(e=31);var r=[];return r.push("$2b$"),e<10&&r.push("0"),r.push(e.toString()),r.push("$"),r.push(ch(_B(Pc),Pc)),r.join("")}function vy(e,t,r){if(typeof t=="function"&&(r=t,t=void 0),typeof e=="function"&&(r=e,e=void 0),typeof e>"u")e=jy;else if(typeof e!="number")throw Error("illegal arguments: "+typeof e);function n(a){ws(function(){try{a(null,tf(e))}catch(i){a(i)}})}if(r){if(typeof r!="function")throw Error("Illegal callback: "+typeof r);n(r)}else return new Promise(function(a,i){n(function(o,l){if(o){i(o);return}a(l)})})}function by(e,t){if(typeof t>"u"&&(t=jy),typeof t=="number"&&(t=tf(t)),typeof e!="string"||typeof t!="string")throw Error("Illegal arguments: "+typeof e+", "+typeof t);return Bx(e,t)}function wy(e,t,r,n){function a(i){typeof e=="string"&&typeof t=="number"?vy(t,function(o,l){Bx(e,l,i,n)}):typeof e=="string"&&typeof t=="string"?Bx(e,t,i,n):ws(i.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof t)))}if(r){if(typeof r!="function")throw Error("Illegal callback: "+typeof r);a(r)}else return new Promise(function(i,o){a(function(l,c){if(l){o(l);return}i(c)})})}function VP(e,t){for(var r=e.length^t.length,n=0;n<e.length;++n)r|=e.charCodeAt(n)^t.charCodeAt(n);return r===0}function BP(e,t){if(typeof e!="string"||typeof t!="string")throw Error("Illegal arguments: "+typeof e+", "+typeof t);return t.length!==60?!1:VP(by(e,t.substring(0,t.length-31)),t)}function zP(e,t,r,n){function a(i){if(typeof e!="string"||typeof t!="string"){ws(i.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof t)));return}if(t.length!==60){ws(i.bind(this,null,!1));return}wy(e,t.substring(0,29),function(o,l){o?i(o):i(null,VP(l,t))},n)}if(r){if(typeof r!="function")throw Error("Illegal callback: "+typeof r);a(r)}else return new Promise(function(i,o){a(function(l,c){if(l){o(l);return}i(c)})})}function WP(e){if(typeof e!="string")throw Error("Illegal arguments: "+typeof e);return parseInt(e.split("$")[2],10)}function qP(e){if(typeof e!="string")throw Error("Illegal arguments: "+typeof e);if(e.length!==60)throw Error("Illegal hash length: "+e.length+" != 60");return e.substring(0,29)}function HP(e){if(typeof e!="string")throw Error("Illegal arguments: "+typeof e);return GP(e)>72}var ws=typeof process<"u"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function GP(e){for(var t=0,r=0,n=0;n<e.length;++n)r=e.charCodeAt(n),r<128?t+=1:r<2048?t+=2:(r&64512)===55296&&(e.charCodeAt(n+1)&64512)===56320?(++n,t+=4):t+=3;return t}function SB(e){for(var t=0,r,n,a=new Array(GP(e)),i=0,o=e.length;i<o;++i)r=e.charCodeAt(i),r<128?a[t++]=r:r<2048?(a[t++]=r>>6|192,a[t++]=r&63|128):(r&64512)===55296&&((n=e.charCodeAt(i+1))&64512)===56320?(r=65536+((r&1023)<<10)+(n&1023),++i,a[t++]=r>>18|240,a[t++]=r>>12&63|128,a[t++]=r>>6&63|128,a[t++]=r&63|128):(a[t++]=r>>12|224,a[t++]=r>>6&63|128,a[t++]=r&63|128);return a}var Ui="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),kn=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function ch(e,t){var r=0,n=[],a,i;if(t<=0||t>e.length)throw Error("Illegal len: "+t);for(;r<t;){if(a=e[r++]&255,n.push(Ui[a>>2&63]),a=(a&3)<<4,r>=t){n.push(Ui[a&63]);break}if(i=e[r++]&255,a|=i>>4&15,n.push(Ui[a&63]),a=(i&15)<<2,r>=t){n.push(Ui[a&63]);break}i=e[r++]&255,a|=i>>6&3,n.push(Ui[a&63]),n.push(Ui[i&63])}return n.join("")}function KP(e,t){var r=0,n=e.length,a=0,i=[],o,l,c,d,u,h;if(t<=0)throw Error("Illegal len: "+t);for(;r<n-1&&a<t&&(h=e.charCodeAt(r++),o=h<kn.length?kn[h]:-1,h=e.charCodeAt(r++),l=h<kn.length?kn[h]:-1,!(o==-1||l==-1||(u=o<<2>>>0,u|=(l&48)>>4,i.push(String.fromCharCode(u)),++a>=t||r>=n)||(h=e.charCodeAt(r++),c=h<kn.length?kn[h]:-1,c==-1)||(u=(l&15)<<4>>>0,u|=(c&60)>>2,i.push(String.fromCharCode(u)),++a>=t||r>=n)));)h=e.charCodeAt(r++),d=h<kn.length?kn[h]:-1,u=(c&3)<<6>>>0,u|=d,i.push(String.fromCharCode(u)),++a;var m=[];for(r=0;r<a;r++)m.push(i[r].charCodeAt(0));return m}var Pc=16,jy=10,kB=16,CB=100,Gj=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],Kj=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],YP=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function Tc(e,t,r,n){var a,i=e[t],o=e[t+1];return i^=r[0],a=n[i>>>24],a+=n[256|i>>16&255],a^=n[512|i>>8&255],a+=n[768|i&255],o^=a^r[1],a=n[o>>>24],a+=n[256|o>>16&255],a^=n[512|o>>8&255],a+=n[768|o&255],i^=a^r[2],a=n[i>>>24],a+=n[256|i>>16&255],a^=n[512|i>>8&255],a+=n[768|i&255],o^=a^r[3],a=n[o>>>24],a+=n[256|o>>16&255],a^=n[512|o>>8&255],a+=n[768|o&255],i^=a^r[4],a=n[i>>>24],a+=n[256|i>>16&255],a^=n[512|i>>8&255],a+=n[768|i&255],o^=a^r[5],a=n[o>>>24],a+=n[256|o>>16&255],a^=n[512|o>>8&255],a+=n[768|o&255],i^=a^r[6],a=n[i>>>24],a+=n[256|i>>16&255],a^=n[512|i>>8&255],a+=n[768|i&255],o^=a^r[7],a=n[o>>>24],a+=n[256|o>>16&255],a^=n[512|o>>8&255],a+=n[768|o&255],i^=a^r[8],a=n[i>>>24],a+=n[256|i>>16&255],a^=n[512|i>>8&255],a+=n[768|i&255],o^=a^r[9],a=n[o>>>24],a+=n[256|o>>16&255],a^=n[512|o>>8&255],a+=n[768|o&255],i^=a^r[10],a=n[i>>>24],a+=n[256|i>>16&255],a^=n[512|i>>8&255],a+=n[768|i&255],o^=a^r[11],a=n[o>>>24],a+=n[256|o>>16&255],a^=n[512|o>>8&255],a+=n[768|o&255],i^=a^r[12],a=n[i>>>24],a+=n[256|i>>16&255],a^=n[512|i>>8&255],a+=n[768|i&255],o^=a^r[13],a=n[o>>>24],a+=n[256|o>>16&255],a^=n[512|o>>8&255],a+=n[768|o&255],i^=a^r[14],a=n[i>>>24],a+=n[256|i>>16&255],a^=n[512|i>>8&255],a+=n[768|i&255],o^=a^r[15],a=n[o>>>24],a+=n[256|o>>16&255],a^=n[512|o>>8&255],a+=n[768|o&255],i^=a^r[16],e[t]=o^r[kB+1],e[t+1]=i,e}function Wi(e,t){for(var r=0,n=0;r<4;++r)n=n<<8|e[t]&255,t=(t+1)%e.length;return{key:n,offp:t}}function Yj(e,t,r){for(var n=0,a=[0,0],i=t.length,o=r.length,l,c=0;c<i;c++)l=Wi(e,n),n=l.offp,t[c]=t[c]^l.key;for(c=0;c<i;c+=2)a=Tc(a,0,t,r),t[c]=a[0],t[c+1]=a[1];for(c=0;c<o;c+=2)a=Tc(a,0,t,r),r[c]=a[0],r[c+1]=a[1]}function EB(e,t,r,n){for(var a=0,i=[0,0],o=r.length,l=n.length,c,d=0;d<o;d++)c=Wi(t,a),a=c.offp,r[d]=r[d]^c.key;for(a=0,d=0;d<o;d+=2)c=Wi(e,a),a=c.offp,i[0]^=c.key,c=Wi(e,a),a=c.offp,i[1]^=c.key,i=Tc(i,0,r,n),r[d]=i[0],r[d+1]=i[1];for(d=0;d<l;d+=2)c=Wi(e,a),a=c.offp,i[0]^=c.key,c=Wi(e,a),a=c.offp,i[1]^=c.key,i=Tc(i,0,r,n),n[d]=i[0],n[d+1]=i[1]}function Jj(e,t,r,n,a){var i=YP.slice(),o=i.length,l;if(r<4||r>31)if(l=Error("Illegal number of rounds (4-31): "+r),n){ws(n.bind(this,l));return}else throw l;if(t.length!==Pc)if(l=Error("Illegal salt length: "+t.length+" != "+Pc),n){ws(n.bind(this,l));return}else throw l;r=1<<r>>>0;var c,d,u=0,h;typeof Int32Array=="function"?(c=new Int32Array(Gj),d=new Int32Array(Kj)):(c=Gj.slice(),d=Kj.slice()),EB(t,e,c,d);function m(){if(a&&a(u/r),u<r)for(var g=Date.now();u<r&&(u=u+1,Yj(e,c,d),Yj(t,c,d),!(Date.now()-g>CB)););else{for(u=0;u<64;u++)for(h=0;h<o>>1;h++)Tc(i,h<<1,c,d);var v=[];for(u=0;u<o;u++)v.push((i[u]>>24&255)>>>0),v.push((i[u]>>16&255)>>>0),v.push((i[u]>>8&255)>>>0),v.push((i[u]&255)>>>0);if(n){n(null,v);return}else return v}n&&ws(m)}if(typeof n<"u")m();else for(var x;;)if(typeof(x=m())<"u")return x||[]}function Bx(e,t,r,n){var a;if(typeof e!="string"||typeof t!="string")if(a=Error("Invalid string / salt: Not a string"),r){ws(r.bind(this,a));return}else throw a;var i,o;if(t.charAt(0)!=="$"||t.charAt(1)!=="2")if(a=Error("Invalid salt version: "+t.substring(0,2)),r){ws(r.bind(this,a));return}else throw a;if(t.charAt(2)==="$")i="\0",o=3;else{if(i=t.charAt(2),i!=="a"&&i!=="b"&&i!=="y"||t.charAt(3)!=="$")if(a=Error("Invalid salt revision: "+t.substring(2,4)),r){ws(r.bind(this,a));return}else throw a;o=4}if(t.charAt(o+2)>"$")if(a=Error("Missing salt rounds"),r){ws(r.bind(this,a));return}else throw a;var l=parseInt(t.substring(o,o+1),10)*10,c=parseInt(t.substring(o+1,o+2),10),d=l+c,u=t.substring(o+3,o+25);e+=i>="a"?"\0":"";var h=SB(e),m=KP(u,Pc);function x(g){var v=[];return v.push("$2"),i>="a"&&v.push(i),v.push("$"),d<10&&v.push("0"),v.push(d.toString()),v.push("$"),v.push(ch(m,m.length)),v.push(ch(g,YP.length*4-1)),v.join("")}if(typeof r>"u")return x(Jj(h,m,d));Jj(h,m,d,function(g,v){g?r(g,null):r(null,x(v))},n)}function JP(e,t){return ch(e,t)}function QP(e,t){return KP(e,t)}const XP={setRandomFallback:UP,genSaltSync:tf,genSalt:vy,hashSync:by,hash:wy,compareSync:BP,compare:zP,getRounds:WP,getSalt:qP,truncates:HP,encodeBase64:JP,decodeBase64:QP},ZP=Object.freeze(Object.defineProperty({__proto__:null,compare:zP,compareSync:BP,decodeBase64:QP,default:XP,encodeBase64:JP,genSalt:vy,genSaltSync:tf,getRounds:WP,getSalt:qP,hash:wy,hashSync:by,setRandomFallback:UP,truncates:HP},Symbol.toStringTag,{value:"Module"})),e4="https://qkcuykpndrolrewwnkwb.supabase.co/functions/v1",PB=`${e4}/upload-photo`,TB=`${e4}/upload-video`,AB=["https://dimesonly.s3.us-east-2.amazonaws.com/342189-471x583-1.jpeg","https://dimesonly.s3.us-east-2.amazonaws.com/image-18-2.jpg","https://dimesonly.s3.us-east-2.amazonaws.com/realorgasm_d49d90de-b2af-4870-9632-41b929d49efe.png","https://dimesonly.s3.us-east-2.amazonaws.com/realorgasm_d836d056-6ce5-4a36-ba3e-879622fba498.png","https://dimesonly.s3.us-east-2.amazonaws.com/realorgasm_d83e24cd-671a-4515-94fc-0973bd54ece5.png","https://dimesonly.s3.us-east-2.amazonaws.com/realisticvision_96184858-4dad-438e-8884-105f6c880251.png"],RB=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),IB=e=>e.length>=6,OB=e=>e.trim().replace(/\s+/g," ").split(" ").map(t=>t?t[0].toUpperCase()+t.slice(1).toLowerCase():"").join(" "),LB=e=>e.trim().replace(/\s+/g," ").split(" ").map(t=>t?t[0].toUpperCase()+t.slice(1).toLowerCase():"").join(" "),MB=e=>{const t=e.replace(/\D/g,"").slice(0,10),r=t.slice(0,3),n=t.slice(3,6),a=t.slice(6);return t.length>6?`(${r})${n}-${a}`:t.length>3?`(${r})${n}`:t.length>0?`(${r}`:""},DB=e=>{const t=[];return["firstName","lastName","username","email","password","mobileNumber","address","city","state","zip","gender","dateOfBirth"].forEach(n=>{e[n]||t.push(`${n} is required`)}),e.gender==="female"&&!e.userType&&t.push("userType is required for female users"),t},FB=()=>{const[e]=gr(),t=pt(),{toast:r}=Pe(),[n,a]=f.useState(!1),[i,o]=f.useState(""),[l,c]=f.useState(""),[d,u]=f.useState(""),[h,m]=f.useState(["","",""]),[x,g]=f.useState(["","",""]),[v,w]=f.useState({0:null,1:null,2:null}),[b,p]=f.useState(!1),[y,j]=f.useState({}),{isMobile:N,getCardClasses:k,getPaddingClasses:_}=ki(),[S,P]=f.useState({firstName:"",lastName:"",username:"",email:"",password:"",confirmPassword:"",mobileNumber:"",address:"",city:"",state:"",zip:"",gender:"",userType:"",dateOfBirth:"",referredBy:DM(e)}),C=U=>Y=>{let M=Y;if(U==="username"?M=Y.toLowerCase():U==="firstName"||U==="lastName"?M=OB(Y):U==="address"?M=LB(Y):U==="mobileNumber"&&(M=MB(Y)),U==="gender"){const G=M,R=G==="female"&&(S.userType==="exotic"||S.userType==="stripper");P(D=>({...D,gender:G,userType:G==="female"?D.userType:""})),p(R),R||(m(["","",""]),g(["","",""]),w({0:null,1:null,2:null})),j(D=>({...D,gender:void 0,userType:G==="female"?D.userType:void 0}));return}if(U==="userType"){const G=M==="exotic"||M==="stripper";p(G),G||(m(["","",""]),g(["","",""]),w({0:null,1:null,2:null}))}P(G=>({...G,[U]:M})),y[U]&&j(G=>({...G,[U]:void 0}))},A=U=>async Y=>{if(!Y)return;if(!S.username){r({title:"Username Required",description:"Please enter a username before uploading photos",variant:"destructive"});return}const M=50;if(Y.size>M*1024*1024){r({title:"File Too Large",description:`Max file size is ${M}MB.`,variant:"destructive"});return}const G=new FormData;G.append("file",Y),G.append("username",S.username),G.append("photoType",U.replace("Photo",""));try{const R=await fetch(PB,{method:"POST",headers:vs?{Authorization:`Bearer ${vs}`}:void 0,body:G}),D=await R.text();if(!R.ok)throw new Error(`Upload failed: ${R.status} - ${D}`);const te=JSON.parse(D);if(te.success&&te.url)U==="profilePhoto"?(o(te.url),j(J=>({...J,profilePhoto:void 0}))):U==="bannerPhoto"?(c(te.url),j(J=>({...J,bannerPhoto:void 0}))):U==="frontPagePhoto"&&(u(te.url),j(J=>({...J,frontPagePhoto:void 0}))),r({title:"Upload Successful",description:`${U} uploaded successfully`});else throw new Error(te.error||"Upload failed without error message")}catch(R){console.error("Upload error:",R),r({title:"Upload Failed",description:R instanceof Error?R.message:"Unexpected upload error",variant:"destructive"})}},L=U=>async Y=>{if(!Y){m(R=>{const D=[...R];return D[U]="",D}),g(R=>{const D=[...R];return D[U]="Video upload is required",D}),w(R=>({...R,[U]:null}));return}if(!S.username){r({title:"Username Required",description:"Please enter a username before uploading videos",variant:"destructive"});return}if(!Y.type.startsWith("video/")){r({title:"Invalid File",description:"Please upload a video file.",variant:"destructive"});return}const M=200;if(Y.size>M*1024*1024){r({title:"File Too Large",description:`Each video must be under ${M}MB.`,variant:"destructive"});return}const G=new FormData;G.append("file",Y),G.append("username",S.username),G.append("photoType",`video${U+1}`),G.append("contentTier",U===0?"free":U===1?"silver":"gold");try{const R=await fetch(TB,{method:"POST",headers:vs?{Authorization:`Bearer ${vs}`}:void 0,body:G}),D=await R.text();if(!R.ok)throw new Error(`Upload failed: ${R.status} - ${D}`);const te=JSON.parse(D);if(!te.success||!te.url)throw new Error(te.error||"Upload failed without error message");m(J=>{const ae=[...J];return ae[U]=te.url,ae}),g(J=>{const ae=[...J];return ae[U]="",ae}),w(J=>({...J,[U]:{slot:te.slot??`video${U+1}`,contentTier:te.contentTier??"free",storagePath:te.storagePath,url:te.url,isNude:!!te.isNude,isXrated:!!te.isXrated}})),r({title:"Upload Successful",description:`Video ${U+1} uploaded successfully`})}catch(R){console.error("Video upload error:",R),r({title:"Upload Failed",description:R instanceof Error?R.message:"Unexpected upload error",variant:"destructive"})}},F=()=>{const U={};return S.firstName||(U.firstName="First name is required"),S.lastName||(U.lastName="Last name is required"),S.username||(U.username="Username is required"),S.email?/\S+@\S+\.\S+/.test(S.email)||(U.email="Invalid email"):U.email="Email is required",S.password?S.password.length<6&&(U.password="Password must be at least 6 characters"):U.password="Password is required",S.password!==S.confirmPassword&&(U.confirmPassword="Passwords do not match"),S.mobileNumber||(U.mobileNumber="Phone number is required"),S.address||(U.address="Address is required"),S.city||(U.city="City is required"),S.state||(U.state="State is required"),S.zip||(U.zip="Zip code is required"),S.gender||(U.gender="Gender is required"),S.gender==="female"&&!S.userType&&(U.userType="User type is required"),S.dateOfBirth||(U.dateOfBirth="Date of birth is required"),i||(U.profilePhoto="Profile photo is required"),l||(U.bannerPhoto="Banner photo is required"),d||(U.frontPagePhoto="Front page photo is required"),j(U),Object.keys(U).length===0},E=async U=>{var Y;if(U.preventDefault(),!!F()){if(b){const M=h.map((G,R)=>G?-1:R).filter(G=>G!==-1);if(M.length>0){g(G=>{const R=[...G];return M.forEach(D=>{R[D]="Video upload is required"}),R}),r({title:"Missing Videos",description:"Please upload all three required videos.",variant:"destructive"});return}}a(!0);try{const M=DB(S);if(M.length>0)throw new Error(`Validation failed: ${M.join(", ")}`);if(S.password!==S.confirmPassword)throw new Error("Passwords do not match");if(!RB(S.email))throw new Error("Invalid email format");if(!IB(S.password))throw new Error("Password must be at least 6 characters long");const{data:G}=await Ve.from("users").select("username").eq("username",S.username).single();if(G)throw new Error("Username already exists");const{data:R}=await Ve.from("users").select("email").eq("email",S.email).single();if(R)throw new Error("Email already registered");const{data:D,error:te}=await I.auth.signUp({email:S.email,password:S.password});if(te)throw new Error(`Failed to create session: ${te.message}`);if(!D.user)throw new Error("Failed to create auth user");const J=await XP.hash(S.password,10),ae=S.gender==="female"&&(S.userType==="exotic"||S.userType==="stripper"),{error:K}=await Ve.from("users").insert([{id:D.user.id,username:S.username,email:S.email,password_hash:J,hash_type:"bcrypt",first_name:S.firstName,last_name:S.lastName,mobile_number:S.mobileNumber,address:S.address,city:S.city,state:S.state,zip:S.zip,gender:S.gender,user_type:S.userType?S.userType:"normal",membership_tier:ae?"diamond":"free",membership_type:ae?"diamond":"free",referred_by:S.referredBy&&S.referredBy.trim()!==""?S.referredBy:"Company",date_of_birth:S.dateOfBirth,profile_photo:i,banner_photo:l,front_page_photo:d,video_urls:h,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]);if(K)throw new Error(`Failed to create user: ${K.message}`);const O=Object.values(v).filter(H=>!!H);if(O.length>0){const H=O.map(ee=>({user_id:D.user.id,media_url:ee.url,media_type:"video",filename:ee.storagePath.split("/").pop()??`${S.username}_${ee.slot}.mp4`,storage_path:ee.storagePath,content_tier:ee.contentTier,is_nude:ee.isNude,is_xrated:ee.isXrated,upload_date:new Date().toISOString(),access_restricted:ee.contentTier!=="free"})),{error:re}=await Ve.from("user_media").insert(H);re&&console.error("Failed to insert registration videos:",re)}try{const H=S.userType?S.userType:"normal",re=H==="normal"?"silver":"diamond";await Ve.rpc("increment_membership_count",{membership_type_param:re,user_type_param:H})}catch(H){console.error("Failed to increment membership limits:",H)}localStorage.setItem("authToken",((Y=D.user)==null?void 0:Y.id)||"authenticated"),sessionStorage.setItem("currentUser",S.username),r({title:"Registration Successful!",description:"Welcome to Dimes Only!"}),t("/dashboard")}catch(M){console.error("Registration error:",M);const G=M instanceof Error?M.message:"Registration failed";r({title:"Registration Failed",description:G,variant:"destructive"})}finally{a(!1)}}},W=S.gender==="female";return s.jsxs("div",{className:"w-full min-h-screen relative",children:[s.jsx(AC,{images:AB,interval:3e3}),s.jsx("div",{className:"relative z-10 w-full min-h-screen py-8",children:s.jsx("div",{className:`w-full ${N?"px-0":"px-4"}`,children:s.jsxs("div",{className:N?"w-full":"max-w-4xl mx-auto",children:[s.jsxs("div",{className:`${k("bg-white/10 backdrop-blur-md border border-white/20 shadow-2xl")} ${N?"rounded-none":"rounded-lg"}`,children:[s.jsxs("div",{className:`text-center ${_("py-6 px-8")} border-b border-white/20`,children:[s.jsx("h1",{className:"text-4xl font-bold text-white font-inter tracking-tight",children:"Join Dimes Only"}),s.jsx("p",{className:"text-white/80 mt-2 font-inter",children:"Create your account and start your journey"})]}),s.jsxs("div",{className:_("p-8"),children:[s.jsxs("form",{onSubmit:E,className:"space-y-6",children:[s.jsx(jB,{formData:S,errors:y,showUserType:W,showVideoUploads:b,handleInputChange:C,handleFileChange:A,profilePhotoUrl:i,videoUrls:h,videoErrors:x,handleVideoUpload:L}),b&&s.jsx("div",{className:"mt-6",children:s.jsxs("video",{controls:!0,className:"w-full rounded-lg shadow-lg",children:[s.jsx("source",{src:"https://dimesonlyworld.s3.us-east-2.amazonaws.com/Explain+form+confirm+(1).mp4",type:"video/mp4"}),"Your browser does not support the video tag."]})}),s.jsx(V,{type:"submit",disabled:n,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white py-4 px-6 rounded-lg shadow-lg hover:scale-105 transition-all duration-200 font-semibold text-lg",children:n?s.jsxs(s.Fragment,{children:[s.jsx(ot,{className:"mr-2 h-5 w-5 animate-spin"}),"Creating Account..."]}):"Create Account"})]}),s.jsx("div",{className:"text-center pt-4",children:s.jsxs("p",{className:"text-sm text-white/80",children:["Already have an account?"," ",s.jsx("a",{href:"/login",className:"text-blue-300 hover:text-blue-200 underline",children:"Sign in here"})]})})]})]}),s.jsx("p",{className:"text-center text-white/60 text-xs mt-6 max-w-2xl mx-auto",children:"By creating an account, you agree to our Terms of Service and Privacy Policy. We are committed to keeping your information secure and ensuring a safe, inclusive community for all members."})]})})})]})};var rf="Tabs",[$B]=tr(rf,[qh]),t4=qh(),[UB,Ny]=$B(rf),r4=f.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=ll(l),[h,m]=as({prop:n,onChange:a,defaultProp:i??"",caller:rf});return s.jsx(UB,{scope:r,baseId:_s(),value:h,onValueChange:m,orientation:o,dir:u,activationMode:c,children:s.jsx(je.div,{dir:u,"data-orientation":o,...d,ref:t})})});r4.displayName=rf;var s4="TabsList",n4=f.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=Ny(s4,r),o=t4(r);return s.jsx(pE,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(je.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});n4.displayName=s4;var a4="TabsTrigger",i4=f.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=Ny(a4,r),l=t4(r),c=c4(o.baseId,n),d=d4(o.baseId,n),u=n===o.value;return s.jsx(xE,{asChild:!0,...l,focusable:!a,active:u,children:s.jsx(je.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:we(e.onMouseDown,h=>{!a&&h.button===0&&h.ctrlKey===!1?o.onValueChange(n):h.preventDefault()}),onKeyDown:we(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(n)}),onFocus:we(e.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!a&&h&&o.onValueChange(n)})})})});i4.displayName=a4;var o4="TabsContent",l4=f.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,l=Ny(o4,r),c=c4(l.baseId,n),d=d4(l.baseId,n),u=n===l.value,h=f.useRef(u);return f.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),s.jsx(Ir,{present:a||u,children:({present:m})=>s.jsx(je.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:m&&i})})});l4.displayName=o4;function c4(e,t){return`${e}-trigger-${t}`}function d4(e,t){return`${e}-content-${t}`}var VB=r4,u4=n4,h4=i4,f4=l4;const sf=VB,td=f.forwardRef(({className:e,...t},r)=>s.jsx(u4,{ref:r,className:_e("inline-flex h-10 items-center justify-center rounded-md bg-muted/50 p-1 text-muted-foreground",e),...t}));td.displayName=u4.displayName;const vt=f.forwardRef(({className:e,...t},r)=>s.jsx(h4,{ref:r,className:_e("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-primary data-[state=active]:shadow-sm hover:text-foreground",e),...t}));vt.displayName=h4.displayName;const bt=f.forwardRef(({className:e,...t},r)=>s.jsx(f4,{ref:r,className:_e("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 animate-in fade-in-0 data-[state=inactive]:animate-out data-[state=inactive]:fade-out-0 duration-200",e),...t}));bt.displayName=f4.displayName;const BB=({bannerPhoto:e,userData:t,onImageUpload:r})=>{const[n,a]=f.useState(!1),i=f.useRef(null),[o,l]=f.useState(e||"");f.useEffect(()=>{console.log("Banner photo updated:",e),l(e||"")},[e]);const c=()=>{var g;r&&((g=i.current)==null||g.click())},d=g=>{var w;const v=(w=g.target.files)==null?void 0:w[0];v&&r&&r(v)},u=()=>{const g=t.username||"company";window.open(`https://dimesonly.world/tip-girls?ref=${g}`,"_blank")},h=()=>{const g=t.username||"company",v=t.user_type;v==="stripper"||v==="exotic"?window.open(`https://dimesonly.world/events-dimes-only?ref=${g}`,"_blank"):window.open(`https://dimesonly.world/eventsdimes?ref=${g}`,"_blank")},m=()=>{const g=t.username||"company";window.open(`https://dimesonly.world/rate-girls/?ref=${g}`,"_blank")},x=()=>{const g=t.username||"company";window.location.href=`/dimes?ref=${g}`};return s.jsxs("div",{className:"w-full",children:[s.jsxs("div",{className:"relative w-full h-48 md:h-64 mb-8 rounded-xl overflow-hidden shadow-lg group cursor-pointer",onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),onClick:c,children:[s.jsx("img",{src:o||"https://images.unsplash.com/photo-1557804506-669a67965ba0?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&h=300&q=80",alt:"Profile Banner",className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}),n&&r&&s.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center transition-opacity duration-300",children:s.jsxs("div",{className:"bg-white/90 backdrop-blur-sm px-4 py-2 rounded-lg flex items-center gap-2 text-gray-800",children:[s.jsx(v0,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:"Change Banner"})]})}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"})]}),s.jsx("input",{ref:i,type:"file",accept:"image/*",onChange:d,className:"hidden"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-3 md:gap-4",children:[s.jsx(V,{onClick:u,className:"bg-white hover:bg-gray-50 text-gray-900 border border-gray-200 shadow-sm font-medium py-3 px-4 h-auto text-sm transition-all duration-200 hover:shadow-md hover:border-green-300 hover:text-green-700 group",children:s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsx(WL,{className:"w-5 h-5 text-green-600 group-hover:text-green-700"}),s.jsx("span",{children:"TIP & WIN"})]})}),s.jsx(V,{onClick:m,className:"bg-white hover:bg-gray-50 text-gray-900 border border-gray-200 shadow-sm font-medium py-3 px-4 h-auto text-sm transition-all duration-200 hover:shadow-md hover:border-red-300 hover:text-red-700 group",children:s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsx(lr,{className:"w-5 h-5 text-red-600 group-hover:text-red-700"}),s.jsx("span",{children:"RATE"})]})}),s.jsx(V,{onClick:x,className:"bg-white hover:bg-gray-50 text-gray-900 border border-gray-200 shadow-sm font-medium py-3 px-4 h-auto text-sm transition-all duration-200 hover:shadow-md hover:border-pink-300 hover:text-pink-700 group",children:s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsx(pn,{className:"w-5 h-5 text-pink-600 group-hover:text-pink-700"}),s.jsx("span",{children:"DIMES"})]})}),s.jsx(V,{onClick:h,className:"bg-white hover:bg-gray-50 text-gray-900 border border-gray-200 shadow-sm font-medium py-3 px-4 h-auto text-sm transition-all duration-200 hover:shadow-md hover:border-blue-300 hover:text-blue-700 group",children:s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsx(fr,{className:"w-5 h-5 text-blue-600 group-hover:text-blue-700"}),s.jsx("span",{children:"EVENTS"})]})}),s.jsx(V,{className:"bg-white hover:bg-gray-50 text-gray-900 border border-gray-200 shadow-sm font-medium py-3 px-4 h-auto text-sm transition-all duration-200 hover:shadow-md hover:border-yellow-300 hover:text-yellow-700 group",children:s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsx(ML,{className:"w-5 h-5 text-yellow-600 group-hover:text-yellow-700"}),s.jsx("span",{children:"GET A CAR"})]})}),s.jsx(V,{className:"bg-white hover:bg-gray-50 text-gray-900 border border-gray-200 shadow-sm font-medium py-3 px-4 h-auto text-sm transition-all duration-200 hover:shadow-md hover:border-purple-300 hover:text-purple-700 group",children:s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsx(rM,{className:"w-5 h-5 text-purple-600 group-hover:text-purple-700"}),s.jsx("span",{children:"CLOTHES"})]})})]})]})},zB=({srcDesktop:e,srcMobile:t,thumbnailUrl:r})=>{const[n,a]=f.useState(!1),[i,o]=f.useState(!1);f.useEffect(()=>{const h=window.matchMedia("(max-width: 768px)"),m=()=>o(h.matches);return m(),h.addEventListener("change",m),()=>h.removeEventListener("change",m)},[]);const l=()=>{a(!0)},c=i?"relative w-screen":"relative w-screen aspect-video",d=i?"block w-screen h-auto max-h-[100vh] object-contain bg-black":"block w-full h-full object-contain bg-black",u=i?"w-screen h-auto object-contain bg-black":"w-full h-full object-contain bg-black";return s.jsx("div",{className:"relative w-screen mb-6 bg-black",children:s.jsx("div",{className:c,children:n?s.jsx("div",{className:"relative w-full h-full",children:s.jsxs("video",{className:d,controls:!0,autoPlay:!0,playsInline:!0,poster:r,children:[i?s.jsx("source",{src:t}):s.jsx("source",{src:e}),"Your browser does not support the video tag."]})}):s.jsxs("div",{className:"relative w-full h-full",children:[s.jsx("img",{src:r,alt:"Video Thumbnail",className:u}),s.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center",children:s.jsx(V,{onClick:l,size:"lg",className:"bg-white/90 hover:bg-white text-black rounded-full p-4",children:s.jsx(ca,{className:"w-8 h-8"})})})]})})})},WB=Kc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-all focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground border-border",success:"border-transparent bg-green-500/20 text-green-700 dark:text-green-300 border-green-500/30",warning:"border-transparent bg-yellow-500/20 text-yellow-700 dark:text-yellow-300 border-yellow-500/30",info:"border-transparent bg-primary/10 text-primary border-primary/30"},size:{default:"px-2.5 py-0.5 text-xs",sm:"px-2 py-0.5 text-[10px]",lg:"px-3 py-0.5 text-sm"}},defaultVariants:{variant:"default",size:"default"}});function ce({className:e,variant:t,size:r,...n}){return s.jsx("div",{className:_e(WB({variant:t,size:r}),e),...n})}var m4={exports:{}},p4={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yo=f;function qB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var HB=typeof Object.is=="function"?Object.is:qB,GB=Yo.useState,KB=Yo.useEffect,YB=Yo.useLayoutEffect,JB=Yo.useDebugValue;function QB(e,t){var r=t(),n=GB({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return YB(function(){a.value=r,a.getSnapshot=t,Bm(a)&&i({inst:a})},[e,r,t]),KB(function(){return Bm(a)&&i({inst:a}),e(function(){Bm(a)&&i({inst:a})})},[e]),JB(r),r}function Bm(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!HB(e,r)}catch{return!0}}function XB(e,t){return t()}var ZB=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?XB:QB;p4.useSyncExternalStore=Yo.useSyncExternalStore!==void 0?Yo.useSyncExternalStore:ZB;m4.exports=p4;var ez=m4.exports;function tz(){return ez.useSyncExternalStore(rz,()=>!0,()=>!1)}function rz(){return()=>{}}var _y="Avatar",[sz]=tr(_y),[nz,x4]=sz(_y),g4=f.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,i]=f.useState("idle");return s.jsx(nz,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:s.jsx(je.span,{...n,ref:t})})});g4.displayName=_y;var y4="AvatarImage",v4=f.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=e,o=x4(y4,r),l=az(n,i),c=Pt(d=>{a(d),o.onImageLoadingStatusChange(d)});return wt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(je.img,{...i,ref:t,src:n}):null});v4.displayName=y4;var b4="AvatarFallback",w4=f.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,i=x4(b4,r),[o,l]=f.useState(n===void 0);return f.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?s.jsx(je.span,{...a,ref:t}):null});w4.displayName=b4;function Qj(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function az(e,{referrerPolicy:t,crossOrigin:r}){const n=tz(),a=f.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[o,l]=f.useState(()=>Qj(i,e));return wt(()=>{l(Qj(i,e))},[i,e]),wt(()=>{const c=h=>()=>{l(h)};if(!i)return;const d=c("loaded"),u=c("error");return i.addEventListener("load",d),i.addEventListener("error",u),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",d),i.removeEventListener("error",u)}},[i,r,t]),o}var j4=g4,N4=v4,_4=w4;const Tr=f.forwardRef(({className:e,size:t="md",...r},n)=>s.jsx(j4,{ref:n,className:_e("relative flex shrink-0 overflow-hidden rounded-full border border-border/30 ring-offset-background",t==="sm"&&"h-8 w-8",t==="md"&&"h-10 w-10",t==="lg"&&"h-12 w-12",t==="xl"&&"h-16 w-16",e),...r}));Tr.displayName=j4.displayName;const Ar=f.forwardRef(({className:e,...t},r)=>s.jsx(N4,{ref:r,className:_e("aspect-square h-full w-full object-cover",e),...t}));Ar.displayName=N4.displayName;const Rr=f.forwardRef(({className:e,...t},r)=>s.jsx(_4,{ref:r,className:_e("flex h-full w-full items-center justify-center rounded-full bg-muted text-muted-foreground",e),...t}));Rr.displayName=_4.displayName;const iz=({referredBy:e})=>{const[t,r]=f.useState(null),[n,a]=f.useState(!1);f.useEffect(()=>{e&&e!=="Company"&&i()},[e]);const i=async()=>{if(e){a(!0);try{const{data:l,error:c}=await I.from("users").select("id, username, profile_photo, user_type").eq("username",e).single();l&&!c&&r(l)}catch(l){console.error("Error fetching referrer data:",l)}finally{a(!1)}}},o=!e||e.trim()===""||e==="Company";return!o&&n?s.jsx(Q,{className:"mb-6",children:s.jsx(X,{className:"p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full animate-pulse"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 animate-pulse"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-16 animate-pulse"})]})]})})}):o?s.jsxs(Q,{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",children:[s.jsx(de,{className:"pb-3",children:s.jsxs(ue,{className:"text-sm font-medium text-blue-800 flex items-center gap-2",children:[s.jsx(lw,{className:"w-4 h-4"}),"Referred By"]})}),s.jsx(X,{className:"pt-0",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(Tr,{className:"w-16 h-16 border-2 border-blue-200",children:[s.jsx(Ar,{src:void 0,alt:"Company"}),s.jsx(Rr,{className:"bg-blue-100 text-blue-700 text-lg font-semibold",children:"C"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"@Company"}),s.jsx(ce,{variant:"secondary",className:"text-xs bg-gray-100 text-gray-700",children:"Official"})]}),s.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-1",children:[s.jsx(Ut,{className:"w-3 h-3"}),"Your referrer"]})]})]})})]}):s.jsxs(Q,{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",children:[s.jsx(de,{className:"pb-3",children:s.jsxs(ue,{className:"text-sm font-medium text-blue-800 flex items-center gap-2",children:[s.jsx(lw,{className:"w-4 h-4"}),"Referred By"]})}),s.jsx(X,{className:"pt-0",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(Tr,{className:"w-16 h-16 border-2 border-blue-200",children:[s.jsx(Ar,{src:(t==null?void 0:t.profile_photo)||void 0,alt:(t==null?void 0:t.username)||e}),s.jsx(Rr,{className:"bg-blue-100 text-blue-700 text-lg font-semibold",children:((t==null?void 0:t.username)||e).charAt(0).toUpperCase()})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsxs("h3",{className:"font-semibold text-gray-900",children:["@",(t==null?void 0:t.username)||e]}),(t==null?void 0:t.user_type)&&s.jsx(ce,{variant:"secondary",className:`text-xs ${t.user_type==="stripper"||t.user_type==="exotic"?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-700"}`,children:t.user_type.charAt(0).toUpperCase()+t.user_type.slice(1)})]}),s.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-1",children:[s.jsx(Ut,{className:"w-3 h-3"}),"Your referrer"]})]})]})})]})},oz=({userData:e,referrerData:t,onImageUpload:r})=>{const[n,a]=f.useState(!1),i=f.useRef(null),o=e.user_type==="exotic"||e.user_type==="stripper",[l,c]=f.useState(!1),{getCardClasses:d,getPaddingClasses:u}=ki(),h=()=>{var g;(g=i.current)==null||g.click()},m=()=>{if(e.diamond_plus_active||e.membership_tier==="diamond_plus")return s.jsxs(ce,{className:"bg-gradient-to-r from-yellow-400 to-orange-400 text-black border-0 font-bold",children:[s.jsx(gs,{className:"w-3 h-3 mr-1"}),"Diamond Plus"]});if(e.silver_plus_active)return s.jsxs(ce,{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white border-0 font-bold",children:[s.jsx(gs,{className:"w-3 h-3 mr-1"}),"Silver Plus Member"]});const g=e.membership_tier||e.membership_type;if(g)switch(g.toLowerCase()){case"diamond":return s.jsxs(ce,{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white border-0",children:[s.jsx(gs,{className:"w-3 h-3 mr-1"}),"Diamond Member"]});case"gold":return s.jsxs(ce,{className:"bg-gradient-to-r from-yellow-500 to-yellow-600 text-white border-0",children:[s.jsx(gs,{className:"w-3 h-3 mr-1"}),"Gold Member"]});case"silver":return s.jsxs(ce,{className:"bg-gradient-to-r from-gray-400 to-gray-500 text-white border-0",children:[s.jsx(gs,{className:"w-3 h-3 mr-1"}),"Silver Member"]});case"elite":return s.jsxs(ce,{className:"bg-gradient-to-r from-red-600 to-yellow-500 text-white border-0",children:[s.jsx(gs,{className:"w-3 h-3 mr-1"}),"Elite Member"]})}return o?s.jsxs(ce,{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white border-0",children:[s.jsx(gs,{className:"w-3 h-3 mr-1"}),"Diamond Member"]}):s.jsxs(ce,{variant:"secondary",className:"bg-gray-100 text-gray-700",children:[s.jsx(At,{className:"w-3 h-3 mr-1"}),"Free member"]})},x=(g,v=2)=>(Number(g)||0).toFixed(v);return(e.gender==="male"||e.gender==="female"&&e.user_type==="normal")&&!e.silver_plus_active&&!e.diamond_plus_active&&e.membership_tier,s.jsxs("div",{className:"space-y-6",children:[e.referred_by&&s.jsx(iz,{referredBy:e.referred_by}),s.jsx(Q,{className:d("shadow-lg border-0 bg-gradient-to-br from-blue-50 to-indigo-50"),children:s.jsx(X,{className:u("p-6"),children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"relative w-32 h-32 mx-auto mb-4",children:[s.jsx("img",{src:e.profile_photo||"/placeholder.svg",alt:"Profile",className:"w-full h-full rounded-full object-cover border-4 border-white shadow-lg"}),s.jsx(V,{onClick:h,disabled:l,className:"absolute bottom-0 right-0 w-10 h-10 rounded-full bg-blue-600 hover:bg-blue-700 p-0",children:l?s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):s.jsx(v0,{className:"w-4 h-4 text-white"})})]}),s.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:["@",e.username]}),s.jsx("div",{className:"mb-3",children:m()}),s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[s.jsx(it,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"text-gray-600 text-sm",children:e.city&&e.state?`${e.city}, ${e.state}`:"Location not set"})]}),s.jsx(ce,{variant:"outline",className:"bg-blue-100 text-blue-800 border-blue-300",children:e.user_type||"User"})]})})}),o&&s.jsx(Q,{className:d("shadow-lg border-0 bg-gradient-to-br from-green-50 to-emerald-50"),children:s.jsxs(X,{className:u("p-6"),children:[s.jsxs("h4",{className:"text-gray-900 font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Tt,{className:"w-4 h-4 text-green-600"}),"Earnings Summary"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Tips Earned:"}),s.jsxs("span",{className:"font-bold text-green-600",children:["$",x(e.tips_earned)]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Referral Fees:"}),s.jsxs("span",{className:"font-bold text-blue-600",children:["$",x(e.referral_fees)]})]}),s.jsx("div",{className:"pt-2 border-t border-gray-200",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total:"}),s.jsxs("span",{className:"font-bold text-lg text-gray-900",children:["$",x((e.tips_earned||0)+(e.referral_fees||0))]})]})})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-3 leading-relaxed",children:"Earnings paid bi-weekly if  $25. Via CashApp, PayPal, Zelle."})]})}),s.jsx(Q,{className:d("shadow-lg border-0"),children:s.jsxs(X,{className:u("p-6"),children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx(fr,{className:"w-5 h-5 text-gray-500"}),s.jsx("span",{className:"text-gray-700 font-medium",children:"Member Since"})]}),s.jsx("p",{className:"text-gray-900 font-semibold",children:new Date(e.created_at||"").toLocaleDateString("en-US",{year:"numeric",month:"long"})})]})}),s.jsx(Q,{className:d("shadow-lg border-0"),children:s.jsxs(X,{className:u("p-6"),children:[s.jsxs("h4",{className:"text-gray-900 font-semibold mb-4 flex items-center gap-2",children:[s.jsx(At,{className:"w-4 h-4 text-blue-600"}),"Profile Stats"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"User Type:"}),s.jsx("span",{className:"font-medium text-gray-900 capitalize",children:e.user_type||"male"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Gender:"}),s.jsx("span",{className:"font-medium text-gray-900 capitalize",children:e.gender||"Not specified"})]}),e.lottery_tickets!==null&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Lottery Tickets:"}),s.jsx("span",{className:"font-medium text-gray-900",children:e.lottery_tickets||0})]}),e.is_ranked&&e.rank_number&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Rank:"}),s.jsxs("span",{className:"font-medium text-gray-900",children:["#",e.rank_number]})]})]})]})})]})},mr=f.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:_e("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground/60 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-primary focus-visible:border-primary/50 disabled:cursor-not-allowed disabled:opacity-50 transition-colors resize-none",e),ref:r,...t}));mr.displayName="Textarea";const lz=({userData:e,onUpdate:t})=>{const[r,n]=f.useState(!1),[a,i]=f.useState(!1),{getCardClasses:o,getPaddingClasses:l}=ki(),c=f.useRef({});f.useEffect(()=>{e!=null&&e.id&&!r&&(c.current={first_name:e.first_name||"",last_name:e.last_name||"",email:e.email||"",mobile_number:e.mobile_number||"",address:e.address||"",city:e.city||"",state:e.state||"",zip:e.zip||"",user_type:e.user_type||"",bio:e.bio||"",occupation:e.occupation||"",about_me:e.about_me||"",description:e.description||""})},[e.id,r]);const d=()=>{console.log("Starting edit mode"),c.current={first_name:e.first_name||"",last_name:e.last_name||"",email:e.email||"",mobile_number:e.mobile_number||"",address:e.address||"",city:e.city||"",state:e.state||"",zip:e.zip||"",user_type:e.user_type||"",bio:e.bio||"",occupation:e.occupation||"",about_me:e.about_me||"",description:e.description||""},n(!0)},u=(g,v)=>{console.log(`Field ${g} changed to:`,v),c.current={...c.current,[g]:v}},h=async()=>{i(!0);try{console.log("Saving profile data:",c.current),await t(c.current)&&n(!1)}catch(g){console.error("Error saving profile:",g)}finally{i(!1)}},m=()=>{console.log("Canceling edit"),n(!1)},x=({icon:g,label:v,fieldName:w,type:b="text",options:p=null})=>{const[y,j]=f.useState(c.current[w]||"");f.useEffect(()=>{r&&j(c.current[w]||"")},[r,w]);const N=k=>{j(k),u(w,k)};return s.jsxs("div",{className:"space-y-2",children:[s.jsxs(pe,{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[s.jsx(g,{className:"w-4 h-4 text-gray-500"}),v]}),r?p?s.jsxs(Sr,{value:y,onValueChange:N,children:[s.jsx(dr,{className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",children:s.jsx(kr,{})}),s.jsx(ur,{children:p.map(k=>s.jsx(Se,{value:k.value,children:k.label},k.value))})]}):b==="textarea"?s.jsx(mr,{value:y,onChange:k=>N(k.target.value),className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",rows:3,placeholder:`Enter your ${v.toLowerCase()}`}):s.jsx(ne,{type:b,value:y,onChange:k=>N(k.target.value),className:"border-gray-300 focus:border-blue-500 focus:ring-blue-500",placeholder:`Enter your ${v.toLowerCase()}`}):s.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border",children:s.jsx("p",{className:"text-gray-900",children:e[w]||s.jsx("span",{className:"text-gray-400 italic",children:"Not set"})})})]})};return s.jsxs(Q,{className:o("shadow-lg border-0"),children:[s.jsx(de,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-b",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(At,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-gray-900",children:"Profile Information"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage your personal details and preferences"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[e.user_type&&s.jsx(ce,{variant:"secondary",className:"capitalize",children:e.user_type}),r?s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(V,{onClick:h,size:"sm",disabled:a,className:"flex items-center gap-2",children:[s.jsx(eM,{className:"w-4 h-4"}),a?"Saving...":"Save"]}),s.jsxs(V,{onClick:m,size:"sm",variant:"outline",className:"flex items-center gap-2",children:[s.jsx(er,{className:"w-4 h-4"}),"Cancel"]})]}):s.jsxs(V,{onClick:d,size:"sm",variant:"outline",className:"flex items-center gap-2",children:[s.jsx(F2,{className:"w-4 h-4"}),"Edit"]})]})]})}),s.jsxs(X,{className:`${l("p-6")} space-y-6`,children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(ce,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:"Personal"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Personal Information"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(x,{icon:At,label:"First Name",fieldName:"first_name",type:"text"}),s.jsx(x,{icon:At,label:"Last Name",fieldName:"last_name",type:"text"}),s.jsx(x,{icon:yo,label:"Email",fieldName:"email",type:"email"}),s.jsx(x,{icon:$h,label:"Mobile Number",fieldName:"mobile_number",type:"tel"}),e.gender==="male"?s.jsxs("div",{className:"space-y-2",children:[s.jsxs(pe,{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[s.jsx(dm,{className:"w-4 h-4 text-gray-500"}),"User Type"]}),s.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border",children:s.jsx("p",{className:"text-gray-900",children:e.user_type?s.jsx(ce,{variant:"secondary",className:"capitalize",children:e.user_type}):s.jsx("span",{className:"text-gray-400 italic",children:"Not set"})})})]}):s.jsx(x,{icon:dm,label:"User Type",fieldName:"user_type",options:[{value:"normal",label:"Normal female"},{value:"exotic",label:"Exotic"},{value:"stripper",label:"Stripper"}]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(ce,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:"Location"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Address"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(x,{icon:it,label:"Address",fieldName:"address",type:"text"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(x,{icon:it,label:"City",fieldName:"city",type:"text"}),s.jsx(x,{icon:it,label:"State",fieldName:"state",type:"text"}),s.jsx(x,{icon:it,label:"ZIP Code",fieldName:"zip",type:"text"})]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(ce,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:"Professional"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Professional Details"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(x,{icon:At,label:"User Type",fieldName:"user_type",type:"text",options:e.gender==="male"?[{value:"male",label:"Male"}]:e.gender==="female"?[{value:"normal",label:"Normal female"},{value:"exotic",label:"Exotic"},{value:"stripper",label:"Stripper"}]:[{value:"male",label:"Male"},{value:"normal",label:"Normal"},{value:"exotic",label:"Exotic"},{value:"stripper",label:"Stripper"}]}),s.jsx(x,{icon:dm,label:"Occupation",fieldName:"occupation",type:"text"})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(ce,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:"Bio"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"About & Description"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(x,{icon:fu,label:"Bio",fieldName:"bio",type:"textarea"}),s.jsx(x,{icon:fu,label:"Description",fieldName:"description",type:"textarea"}),s.jsx(x,{icon:fu,label:"About Me",fieldName:"about_me",type:"textarea"})]})]})]})]})},Xt=({children:e})=>{const t=pt(),[r,n]=f.useState(null);return f.useEffect(()=>{(async()=>{try{const{data:{session:i}}=await I.auth.getSession();if(i!=null&&i.user){n(!0);return}const o=localStorage.getItem("authToken"),l=sessionStorage.getItem("currentUser");if(o==="authenticated"&&l){n(!0);return}n(!1),t("/login")}catch(i){console.error("Auth check error:",i),n(!1),t("/login")}})()},[t]),r===null?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):r?s.jsx(s.Fragment,{children:e}):null},cz=()=>{const[e,t]=f.useState([]),[r,n]=f.useState(!0),{toast:a}=Pe(),{user:i}=Es();f.useEffect(()=>{if(i!=null&&i.id){o();const d=I.channel("notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`recipient_id=eq.${i.id}`},u=>{console.log("New notification received:",u),o()}).subscribe();return()=>{d.unsubscribe()}}},[i==null?void 0:i.id]);const o=async()=>{if(!(i!=null&&i.id)){n(!1);return}try{const{data:d,error:u}=await I.from("notifications").select("*").eq("recipient_id",i.id).order("created_at",{ascending:!1});if(u)throw u;t(d||[])}catch(d){console.error("Error fetching notifications:",d),a({title:"Error",description:"Failed to load notifications",variant:"destructive"})}finally{n(!1)}},l=async d=>{try{const{error:u}=await I.from("notifications").update({is_read:!0}).eq("id",d);if(u)throw u;t(h=>h.map(m=>m.id===d?{...m,is_read:!0}:m))}catch(u){console.error("Error marking notification as read:",u)}},c=async d=>{try{const{error:u}=await I.from("notifications").delete().eq("id",d);if(u)throw u;t(h=>h.filter(m=>m.id!==d)),a({title:"Success",description:"Notification deleted"})}catch(u){console.error("Error deleting notification:",u),a({title:"Error",description:"Failed to delete notification",variant:"destructive"})}};return i?r?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(ox,{className:"w-5 h-5"}),s.jsx("h2",{className:"text-xl font-semibold",children:"Notifications"}),s.jsxs(ce,{variant:"secondary",children:[e.filter(d=>!d.is_read).length," unread"]})]}),e.length===0?s.jsx(Q,{children:s.jsxs(X,{className:"text-center py-8",children:[s.jsx(ox,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No notifications yet"})]})}):e.map(d=>s.jsxs(Q,{className:`${d.is_read?"":"border-blue-200 bg-blue-50"}`,children:[s.jsx(de,{className:"pb-3",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(ue,{className:"text-lg",children:d.title}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:d.created_at?new Date(d.created_at).toLocaleString():"Unknown time"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[!d.is_read&&s.jsx(ce,{variant:"default",className:"text-xs",children:"New"}),s.jsx(V,{variant:"ghost",size:"sm",onClick:()=>c(d.id),children:s.jsx($2,{className:"w-4 h-4"})})]})]})}),s.jsxs(X,{children:[s.jsx("p",{className:"text-gray-700 mb-4",children:d.message}),d.media_url&&s.jsx("div",{className:"mb-4",children:d.media_type==="photo"?s.jsx("img",{src:d.media_url,alt:"Notification media",className:"max-w-sm rounded-lg"}):s.jsx("video",{src:d.media_url,controls:!0,className:"max-w-sm rounded-lg"})}),!d.is_read&&s.jsx(V,{variant:"outline",size:"sm",onClick:()=>l(d.id),children:"Mark as Read"})]})]},d.id))]}):s.jsx(Q,{children:s.jsx(X,{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500",children:"Please log in to view notifications"})})})};var Sy="Progress",ky=100,[dz]=tr(Sy),[uz,hz]=dz(Sy),S4=f.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=fz,...o}=e;(a||a===0)&&!Xj(a)&&console.error(mz(`${a}`,"Progress"));const l=Xj(a)?a:ky;n!==null&&!Zj(n,l)&&console.error(pz(`${n}`,"Progress"));const c=Zj(n,l)?n:null,d=dh(c)?i(c,l):void 0;return s.jsx(uz,{scope:r,value:c,max:l,children:s.jsx(je.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":dh(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":E4(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});S4.displayName=Sy;var k4="ProgressIndicator",C4=f.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=hz(k4,r);return s.jsx(je.div,{"data-state":E4(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});C4.displayName=k4;function fz(e,t){return`${Math.round(e/t*100)}%`}function E4(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function dh(e){return typeof e=="number"}function Xj(e){return dh(e)&&!isNaN(e)&&e>0}function Zj(e,t){return dh(e)&&!isNaN(e)&&e<=t&&e>=0}function mz(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${ky}\`.`}function pz(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${ky} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var P4=S4,xz=C4;const In=f.forwardRef(({className:e,value:t,variant:r="default",...n},a)=>s.jsx(P4,{ref:a,className:_e("relative h-2 w-full overflow-hidden rounded-full bg-secondary/40",e),...n,children:s.jsx(xz,{className:_e("h-full w-full flex-1 transition-all duration-300 ease-in-out",r==="default"&&"bg-primary",r==="success"&&"bg-green-500",r==="warning"&&"bg-yellow-500",r==="error"&&"bg-destructive"),style:{transform:`translateX(-${100-(t||0)}%)`}})}));In.displayName=P4.displayName;const gz=({userType:e,weeklyProgress:t,monthlyProgress:r,quarterlyProgress:n,deductions:a})=>{const i=e==="stripper"||e==="exotic",o=6250,l=Math.max(0,o-a.total);return i?s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Q,{children:[s.jsx(de,{children:s.jsxs(ue,{className:"flex items-center gap-2",children:[s.jsx(Tt,{className:"h-5 w-5 text-green-500"}),"Quarterly Payment Program"]})}),s.jsx(X,{children:s.jsxs("div",{className:"bg-gradient-to-r from-pink-50 to-purple-50 p-6 rounded-lg",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"For Strippers and Exotic Dancers"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Our first 1,000 female strippers and exotic dancers can earn a guaranteed $6,250 every 3 months ($25,000 annually) once we reach 1,000 female strippers/exotics and 3,000 male, female, or non-performer users."}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",o.toLocaleString()]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Quarterly Base"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:["$",l.toLocaleString()]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Net Payment"})]})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs(Q,{children:[s.jsx(de,{className:"pb-3",children:s.jsxs(ue,{className:"text-sm flex items-center gap-2",children:[s.jsx(Ut,{className:"h-4 w-4"}),"Referrals"]})}),s.jsx(X,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"This Week"}),s.jsxs("span",{children:[t.referrals,"/7"]})]}),s.jsx(In,{value:t.referrals/7*100,className:"h-2"}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Quarterly"}),s.jsxs("span",{children:[n.totalReferrals,"/84"]})]}),s.jsx(In,{value:n.totalReferrals/84*100,className:"h-2"})]})})]}),s.jsxs(Q,{children:[s.jsx(de,{className:"pb-3",children:s.jsxs(ue,{className:"text-sm flex items-center gap-2",children:[s.jsx(dn,{className:"h-4 w-4"}),"Content"]})}),s.jsx(X,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Photos/Week"}),s.jsxs("span",{children:[t.photos,"/7"]})]}),s.jsx(In,{value:t.photos/7*100,className:"h-2"}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Videos/Week"}),s.jsxs("span",{children:[t.videos,"/7"]})]}),s.jsx(In,{value:t.videos/7*100,className:"h-2"})]})})]}),s.jsxs(Q,{children:[s.jsx(de,{className:"pb-3",children:s.jsxs(ue,{className:"text-sm flex items-center gap-2",children:[s.jsx(YL,{className:"h-4 w-4"}),"Messages"]})}),s.jsx(X,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"This Week"}),s.jsxs("span",{children:[t.messages,"/7"]})]}),s.jsx(In,{value:t.messages/7*100,className:"h-2"}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Quarterly"}),s.jsxs("span",{children:[n.totalMessages,"/84"]})]}),s.jsx(In,{value:n.totalMessages/84*100,className:"h-2"})]})})]})]}),s.jsxs(Q,{children:[s.jsx(de,{children:s.jsx(ue,{children:"Deductions Breakdown"})}),s.jsx(X,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-medium",children:"Weekly Deductions"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Missed Referrals"}),s.jsxs(ce,{variant:"destructive",children:["$",((7-t.referrals)*14.14).toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Missed Photos"}),s.jsxs(ce,{variant:"destructive",children:["$",((7-t.photos)*14.14).toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Missed Videos"}),s.jsxs(ce,{variant:"destructive",children:["$",((7-t.videos)*14.14).toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Missed Messages"}),s.jsxs(ce,{variant:"destructive",children:["$",((7-t.messages)*14.14).toFixed(2)]})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-medium",children:"Monthly Deductions"}),s.jsx("div",{className:"space-y-2 text-sm",children:s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Missed Events"}),s.jsxs(ce,{variant:"destructive",children:["$",((1-r.events)*500).toFixed(2)]})]})}),s.jsx("div",{className:"pt-4 border-t",children:s.jsxs("div",{className:"flex justify-between font-medium",children:[s.jsx("span",{children:"Total Deductions"}),s.jsxs(ce,{variant:"destructive",children:["$",a.total.toFixed(2)]})]})})]})]})})]})]}):s.jsxs(Q,{children:[s.jsx(de,{children:s.jsxs(ue,{className:"flex items-center gap-2",children:[s.jsx(go,{className:"h-5 w-5 text-amber-500"}),"Payment Program Eligibility"]})}),s.jsx(X,{children:s.jsx("p",{className:"text-muted-foreground",children:"The Quarterly Payment Program is available for strippers and exotic dancers only."})})]})},yz=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Q,{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:[s.jsx(de,{children:s.jsxs(ue,{className:"text-center text-2xl font-bold flex items-center justify-center gap-2",children:[s.jsx(Bs,{className:"w-6 h-6"}),"Tips Breakdown"]})}),s.jsx(X,{className:"text-center",children:s.jsx("p",{className:"text-lg",children:"How your tips can win the jackpot system"})})]}),s.jsxs(Q,{children:[s.jsx(de,{children:s.jsxs(ue,{className:"flex items-center gap-2",children:[s.jsx(at,{className:"w-5 h-5 text-yellow-500"}),"Winning Distribution"]})}),s.jsx(X,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[s.jsx("h4",{className:"font-semibold text-yellow-800 mb-2",children:"1st Place Winner = 3 Winners"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-bold text-2xl text-yellow-600",children:"Max $1,973,400"}),s.jsx("div",{className:"text-gray-600",children:"Tipper"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-bold text-lg text-green-600",children:"$234.33 - $148,005.17"}),s.jsx("div",{className:"text-gray-600",children:"Dime Tipped"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-bold text-lg text-green-600",children:"$117.17 - $74,002.50"}),s.jsx("div",{className:"text-gray-600",children:"Dime Referred By"})]})]})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"2nd Place Drawing = 2 Winners"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-bold text-lg text-gray-600",children:"$62.49 - $110,510.40"}),s.jsx("div",{className:"text-gray-600",children:"Dime"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-bold text-lg text-orange-600",children:"$15.62 - $27,627.60"}),s.jsx("div",{className:"text-gray-600",children:"Dime Referred By"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-bold text-lg text-gray-600",children:"Dimes & Dime Referred By"}),s.jsx("div",{className:"text-gray-600",children:"2 Chances to Wim"})]})]})]}),s.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-orange-800 mb-2",children:"3rd Place Drawing # 3"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-bold text-lg text-orange-600",children:"$31.24 - $55,255.20"}),s.jsx("div",{className:"text-gray-600",children:"Who Referred Tipper"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-bold text-lg text-orange-600",children:"Who referred the Tipper?"}),s.jsx("div",{className:"text-gray-600",children:"Get 3 Chances to Win"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-bold text-lg text-orange-600",children:"Dimes tip yourself!"}),s.jsx("div",{className:"text-gray-600",children:"Solidify 3 ways to win!"})]})]})]})]})})]}),s.jsxs(Q,{children:[s.jsx(de,{children:s.jsxs(ue,{className:"flex items-center gap-2",children:[s.jsx(Tt,{className:"w-5 h-5 text-green-500"}),"Tip Distribution Grand Prize Breakdown"]})}),s.jsx(X,{children:s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg text-center",children:[s.jsx("div",{className:"font-bold text-2xl text-green-600",children:"3.75% of Grand Prize"}),s.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Goes to who referred Dime"}),s.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"$117.17 to $74,002.50 max range"})]}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg text-center",children:[s.jsx("div",{className:"font-bold text-2xl text-green-600",children:"7.5% of Grand Prize"}),s.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Goes to the Dime tipped"}),s.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"$234.33 to $148,005 max range"})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg text-center",children:[s.jsx("div",{className:"font-bold text-2xl text-green-600",children:"$1,973,400 Max"}),s.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Goes to winning tipper"}),s.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"Min. jackpot prize $1k"})]})]})})})]}),s.jsxs(Q,{children:[s.jsx(de,{children:s.jsxs(ue,{className:"flex items-center gap-2",children:[s.jsx(Tt,{className:"w-5 h-5 text-green-500"}),"2nd Place Prize Breakdown"]})}),s.jsx(X,{children:s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg text-center",children:[s.jsx("div",{className:"font-bold text-2xl text-green-600",children:"$62.49 to $110,510.40"}),s.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Goes to Dime"}),s.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"$10,000 Bonus from company included at max"})]}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg text-center",children:[s.jsx("div",{className:"font-bold text-2xl text-green-600",children:"$15.62 - $27,627.60"}),s.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Goes to who referred Dime"}),s.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"$40,000 Bonus from company included at max"})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg text-center",children:[s.jsx("div",{className:"font-bold text-2xl text-purple-600",children:"$40,000 Bonus"}),s.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Bonus from Company add to max payouts"}),s.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"$150,510.40 & 67,627.60 max"})]})]})})})]}),s.jsxs(Q,{children:[s.jsx(de,{children:s.jsxs(ue,{className:"flex items-center gap-2",children:[s.jsx(Tt,{className:"w-5 h-5 text-green-500"}),"3rd Place Winner Breakdown"]})}),s.jsx(X,{children:s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg text-center",children:[s.jsx("div",{className:"font-bold text-2xl text-green-600",children:"$31.24 to $55,255.20"}),s.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Goes to who referred tipper"}),s.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"GUARANTEED WINNERS IF MAX REACHED"})]}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg text-center",children:[s.jsx("div",{className:"font-bold text-2xl text-purple-600",children:"Did you refer Tipper?"}),s.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Tip yourself and win"}),s.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"3 Chances to Win"})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg text-center",children:[s.jsx("div",{className:"font-bold text-2xl text-purple-600",children:"$10,000 Bonus"}),s.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Bonus added if max is reached"}),s.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"$65,255.20 max"})]})]})})})]}),s.jsxs(Q,{children:[s.jsx(de,{children:s.jsxs(ue,{className:"flex items-center gap-2",children:[s.jsx(Ut,{className:"w-5 h-5 text-indigo-500"}),"Payment Structure"]})}),s.jsx(X,{children:s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h4",{className:"font-semibold text-green-700 flex items-center gap-2",children:[s.jsx(ce,{className:"bg-green-100 text-green-800",children:"PAID"}),"Members"]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Referrer:"}),s.jsx("span",{className:"font-medium",children:"20% Upfront"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Override:"}),s.jsx("span",{className:"font-medium",children:"10%"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Dimes Referred User & User Tipped You:"}),s.jsx("span",{className:"font-medium",children:"30%"})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h4",{className:"font-semibold text-blue-700 flex items-center gap-2",children:[s.jsx(ce,{className:"bg-blue-100 text-blue-800",children:"FREE"}),"Members (All Dimes who started early are paid members!)"]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Referrer:"}),s.jsx("span",{className:"font-medium",children:"10%"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Dimes Referred User & User Tipped You:"}),s.jsx("span",{className:"font-medium",children:"20% Upfront"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium text-red-500",children:"NO OVERRIDES"}),s.jsx("span",{className:"font-medium text-red-500",children:"UPGRADE TO SILVER MINIMUM $4.99 MONTHLY TO OVERRIDE"})]})]})]})]})})})]})]}),eN=.2,zm=1e3,vz=10,Vi=e=>Math.round(e*100)/100,bz=({userData:e})=>{const[t,r]=f.useState([]),[n,a]=f.useState([]),[i,o]=f.useState([]),[l,c]=f.useState([]),d=f.useMemo(()=>{const $=n.map(fe=>({id:`performer-${fe.id}`,created_at:fe.created_at,amount:Vi(fe.tip_amount||0),role:"performer",counterparty:fe.tipper_username,status:fe.status,referrer_username:fe.referrer_username,original_tip_amount:Vi(fe.gross_amount??(fe.tip_amount||0)/eN),tipper_username:fe.tipper_username,tipped_username:fe.tipped_username??(e==null?void 0:e.username)??null})),oe=l.map(fe=>{var ye;return{id:fe.id,created_at:fe.created_at??fe.completed_at??"",amount:Vi(fe.referrer_commission||0),role:"referral",counterparty:fe.tipped_username,original_tip_amount:Vi(fe.tip_amount||0),tipper_username:((ye=fe.tipper_user)==null?void 0:ye.username)??(fe.tipper_user_id?fe.tipper_user_id:null),tipped_username:fe.tipped_username??null}});return[...$,...oe].filter(fe=>fe.amount>0).sort((fe,ye)=>fe.created_at<ye.created_at?1:-1)},[n,l]),[u,h]=f.useState({currentTickets:0,totalTickets:0,winnings:[]}),[m,x]=f.useState(0),[g,v]=f.useState("weekly"),[w,b]=f.useState(0),[p,y]=f.useState(0),[j,N]=f.useState(!0),[k,_]=f.useState(!1),[S,P]=f.useState(!1),[C,A]=f.useState({payoutMethod:"",paypalEmail:"",venmoUsername:"",venmoPhone:"",venmoEmail:"",wireBankName:"",wireRoutingNumber:"",wireAccountNumber:"",wireAccountHolderName:"",wireAccountType:"",wireBankAddress:"",wireSwiftCode:"",checkFullName:"",checkAddressLine1:"",checkAddressLine2:"",checkCity:"",checkState:"",checkZipCode:"",checkCountry:"United States",achTransactionCode:"",achPayeeId:""}),[L,F]=f.useState(0),[E,W]=f.useState({tips:0,referrals:0,photos:0,videos:0,messages:0,events:0}),[U,Y]=f.useState(0),{toast:M}=Pe(),{user:G}=Es(),{getContentClasses:R}=ki(),[D,te]=f.useState(""),[J,ae]=f.useState([]),[K,O]=f.useState(0),[H,re]=f.useState(!1),[ee,se]=f.useState(1),[T,z]=f.useState(25),[Z,le]=f.useState(""),[q,he]=f.useState("all"),[xe,me]=f.useState(""),[Ae,Re]=f.useState(""),[Oe,_t]=f.useState([]),[rr,sd]=f.useState(["free","silver_plus","diamond_plus"]),[pf,nd]=f.useState(!1),xf=$=>($||"").split("_").join(" ").replace(/\b\w/g,oe=>oe.toUpperCase());f.useEffect(()=>{const $=setTimeout(()=>{Js(1,T)},300);return()=>clearTimeout($)},[q,xe,Ae,Z,Oe,T]);const gf=$=>{_t(oe=>oe.includes($)?oe.filter(fe=>fe!==$):[...oe,$])},WT=["subscription","membership"],qT=$=>{const oe=new Set;for(const fe of $){const ye=fe.toLowerCase();ye==="subscription"?(oe.add("subscription_referral_commission"),oe.add("subscription_upline_referral_commission")):ye==="membership"?(oe.add("referral_commission"),oe.add("upline_referral_commission"),oe.add("diamond_plus_referral_commission"),oe.add("diamond_plus_upline_referral_commission")):oe.add(fe)}return Array.from(oe)},Gy=()=>{const $=new Date,oe=$.getFullYear(),fe=$.getMonth(),ye=$.getDate(),Me=new Date(oe,fe,ye<=15?1:16),Fe=new Date(oe,fe,ye<=15?15:new Date(oe,fe+1,0).getDate());return{start:Me.toISOString().slice(0,10),end:Fe.toISOString().slice(0,10)}},Ky=()=>{const $=new Date,oe=$.getFullYear(),fe=$.getMonth();if($.getDate()<=15){const Me=new Date(oe,fe-1,1),Fe=new Date(Me.getFullYear(),Me.getMonth(),16),We=new Date(Me.getFullYear(),Me.getMonth()+1,0);return{start:Fe.toISOString().slice(0,10),end:We.toISOString().slice(0,10)}}else{const Me=new Date(oe,fe,1),Fe=new Date(oe,fe,15);return{start:Me.toISOString().slice(0,10),end:Fe.toISOString().slice(0,10)}}},HT=()=>{const{start:$,end:oe}=Gy();me($),Re(oe),Js(1,T)},GT=()=>{const{start:$,end:oe}=Ky();me($),Re(oe),Js(1,T)},KT=()=>{me(""),Re(""),Js(1,T)},Ei=Gy(),ad=Ky(),Yy=async($,oe,fe="period")=>{try{const ye=new URLSearchParams;ye.set("user_id",e.id),ye.set("start_date",$),ye.set("end_date",oe),ye.set("page","1"),ye.set("page_size","10000"),ye.set("format","csv");const Me=`${Ju}/functions/v1/earnings-query?${ye.toString()}`,Fe=await fetch(Me,{headers:{Authorization:`Bearer ${vs}`,apikey:vs}});if(!Fe.ok)throw new Error("CSV export failed");const We=await Fe.blob(),sr=document.createElement("a");sr.href=URL.createObjectURL(We),sr.download=`earnings_${fe}_${$}_${oe}.csv`,document.body.appendChild(sr),sr.click(),sr.remove()}catch(ye){console.error(ye),M({title:"Error",description:"CSV export failed",variant:"destructive"})}},[id]=f.useState({weeklyProgress:{referrals:3,photos:5,videos:2,messages:7},monthlyProgress:{events:0},quarterlyProgress:{totalReferrals:15,totalPhotos:25,totalVideos:18,totalMessages:42,totalEvents:1},deductions:{weekly:168.56,monthly:500,total:668.56}});f.useEffect(()=>{d.length>0||i.length>0?Y(sA(7,d)):Y(0)},[d,i]),f.useEffect(()=>{e!=null&&e.id&&(Qy(),JT(),Js(1,T))},[e==null?void 0:e.id]),f.useEffect(()=>{(async()=>{try{nd(!0);const{data:oe,error:fe}=await I.from("users").select("membership_tier").not("membership_tier","is",null);if(fe)throw fe;const ye=Array.from(new Set((oe||[]).map(We=>String(We.membership_tier||"").toLowerCase()).filter(Boolean))),Me=new Set(["free","silver_plus","diamond_plus"]),Fe=ye.filter(We=>!Me.has(We)).sort((We,sr)=>We.localeCompare(sr));sd(["free","silver_plus","diamond_plus",...Fe])}catch(oe){console.warn("tier load failed",oe)}finally{nd(!1)}})()},[]);const Jy=($,oe,fe="json")=>{const ye=new URLSearchParams;if(ye.set("user_id",e.id),xe&&ye.set("start_date",xe),Ae&&ye.set("end_date",Ae),Z&&ye.set("q",Z),q&&q!=="all"&&ye.set("membership_type",q),Oe.length>0){const Me=qT(Oe);Me.length>0&&ye.set("commission_type",Me.join(","))}return ye.set("page",String($)),ye.set("page_size",String(oe)),ye.set("format",fe),`${Ju}/functions/v1/earnings-query?${ye.toString()}`},Js=async($=ee,oe=T)=>{if(e!=null&&e.id)try{re(!0);const fe=Jy($,oe,"json"),ye=await fetch(fe,{method:"GET",headers:{Authorization:`Bearer ${vs}`,apikey:vs}});if(!ye.ok)throw new Error(`earnings-query failed: ${ye.status}`);const Me=await ye.json(),Fe=Me.items||[];ae(Fe),O(Number(Me.total||Fe.length)),se($),z(oe),D&&te(""),o(Fe.map(We=>({id:We.id,amount:We.amount,referrer_commission:We.amount,payment_type:We.payment_type,created_at:We.created_at,referred_by:""})))}catch(fe){console.error(fe),te("Unable to load referral earnings due to a connection/auth issue. Please refresh or try again shortly."),M({title:"Error",description:"Failed to load referral earnings",variant:"destructive"})}finally{re(!1)}},YT=async()=>{try{const $=Jy(ee,T,"csv"),oe=await fetch($,{headers:{Authorization:`Bearer ${vs}`,apikey:vs}});if(!oe.ok)throw new Error("CSV export failed");const fe=await oe.blob(),ye=document.createElement("a");ye.href=URL.createObjectURL(fe),ye.download=`earnings_${new Date().toISOString().slice(0,10)}.csv`,document.body.appendChild(ye),ye.click(),ye.remove()}catch($){console.error($),M({title:"Error",description:"CSV export failed",variant:"destructive"})}},JT=async()=>{if(!(e!=null&&e.username))return;const{data:$,error:oe}=await I.from("users").select("count").eq("referred_by",e.username).single();!oe&&$?F($.count||0):oe&&te("Could not load referral count due to a connection issue.")},QT=async $=>{const oe=[];let fe=0;for(;fe<vz;){const ye=fe*zm,Me=ye+zm-1,{data:Fe,error:We}=await I.from("jackpot_tickets").select("id, user_id, pool_id, code, draw_date, created_at, is_winner").eq("user_id",$).order("created_at",{ascending:!1}).range(ye,Me);if(We)throw We;const sr=(Fe??[]).map(wn=>({...wn,code:wn.code?String(wn.code):null,pool_id:wn.pool_id?String(wn.pool_id):null}));if(oe.push(...sr),sr.length<zm)break;fe+=1}return oe},Qy=async()=>{if(!(e!=null&&e.id)||!(e!=null&&e.username)){N(!1);return}try{const[$,oe,fe,ye,Me,Fe]=await Promise.all([I.from("weekly_earnings").select("*").eq("user_id",e.id).order("week_start",{ascending:!1}),I.from("tips").select("*").eq("tipped_username",e.username).eq("status","completed").order("created_at",{ascending:!1}),I.from("payments").select("*").eq("referred_by",e.username).not("referrer_commission","is",null).order("created_at",{ascending:!1}),I.from("tips_transactions").select(`id,
             referrer_commission,
             referrer_username,
             tipped_username,
             tip_amount,
             payment_status,
             created_at,
             completed_at,
             tipper_user_id,
             tipper_user:tipper_user_id ( username )`).eq("referrer_username",e.username).eq("payment_status","completed").order("created_at",{ascending:!1}),I.from("jackpot_winners").select("*").eq("user_id",e.id).order("draw_date",{ascending:!1}),I.from("commission_payouts").select("*").eq("user_id",e.id).eq("payout_status","completed")]);if($.error)throw $.error;if(oe.error)throw oe.error;if(fe.error)throw fe.error;if(ye.error)throw ye.error;if(Me.error)throw Me.error;if(Fe.error)throw Fe.error;r($.data||[]);const We=(oe.data||[]).map(ze=>{const Ye=Number(ze.tip_amount||0),sv=ze.gross_amount!=null?Number(ze.gross_amount):Ye>0?Vi(Ye/eN):0;return{...ze,tip_amount:Vi(Ye),gross_amount:sv}});a(We),o(fe.data||[]),c(ye.data||[]);const sr=await QT(e.id),wn=Me.data||[];let Pi=0;const fl=new Map;sr.forEach(ze=>{if(!ze.code)return;const Ye=ze.pool_id?ze.pool_id:"__no_pool__";fl.has(Ye)||fl.set(Ye,new Set),fl.get(Ye).add(ze.code)});let ev=0;const{data:bf,error:wf}=await I.from("v_jackpot_active_pool").select("pool_id").single();if(wf&&wf.code!=="PGRST116")throw wf;const tv=(bf==null?void 0:bf.pool_id)??null;if(tv){const ze=String(tv),Ye=fl.get(ze);Pi=Ye?Ye.size:0}else{const ze=new Set;sr.filter(Ye=>!Ye.is_winner&&Ye.code).forEach(Ye=>{ze.add(Ye.code)}),Pi=ze.size}ev=Array.from(fl.values()).reduce((ze,Ye)=>ze+Ye.size,0),h({currentTickets:Pi,totalTickets:ev,winnings:wn.map(ze=>({amount_won:Number(ze.amount_won||0),draw_date:String(ze.draw_date||""),created_at:String(ze.created_at||"")}))});const uA=We.reduce((ze,Ye)=>ze+Ye.tip_amount,0),hA=(fe.data||[]).reduce((ze,Ye)=>ze+(Ye.referrer_commission||0),0),fA=($.data||[]).reduce((ze,Ye)=>ze+(Ye.amount||0),0),rv=Math.max(uA+hA,fA),mA=(Fe.data||[]).reduce((ze,Ye)=>ze+(Number(Ye.amount)||0),0),pA=Math.max(0,rv-mA);x(rv),y(pA);const xA=new Date().getFullYear(),gA=($.data||[]).reduce((ze,Ye)=>new Date(String(Ye.week_start)).getFullYear()===xA?ze+(Number(Ye.amount)||0):ze,0);b(gA),D&&te("")}catch($){console.error("Error fetching earnings:",$),te("Were having trouble connecting to the earnings service. Your session may need a refresh. You can still use the filters below; data will appear once the connection resumes."),M({title:"Error",description:"Failed to load earnings data",variant:"destructive"})}finally{N(!1)}},XT=()=>{const $=new Date,oe=$.getMonth(),fe=$.getFullYear(),ye=$.getDate();let Me;return ye<=1?Me=new Date(fe,oe,1):ye<=15?Me=new Date(fe,oe,15):Me=new Date(fe,oe+1,1),Me.toLocaleDateString()},ZT=async()=>{if(p===0){M({title:"No Earnings",description:"You have no earnings available for withdrawal",variant:"destructive"});return}_(!0)},eA=async()=>{if(!C.payoutMethod){M({title:"Missing Information",description:"Please select a payout method",variant:"destructive"});return}if(tA()){P(!0);try{const{data:oe,error:fe}=await I.rpc("calculate_next_payout_date");if(fe)throw console.error("Error calculating payout date:",fe),new Error("Failed to calculate payout date");const ye=C.wireAccountType==="checking"?"22":C.wireAccountType==="savings"?"32":"",Me=`${Date.now().toString().slice(-10)}${Math.floor(Math.random()*1e5).toString().padStart(5,"0")}`,Fe=(C.wireRoutingNumber||"").replace(/\D/g,""),We=(C.wireAccountNumber||"").replace(/\D/g,""),sr=(C.wireAccountHolderName||"").trim().slice(0,22),{data:wn,error:Pi}=await I.from("payout_requests").insert({user_id:e.id,amount:p,payout_method:C.payoutMethod,scheduled_payout_date:oe,paypal_email:C.payoutMethod==="paypal"?C.paypalEmail:null,cashapp_cashtag:null,cashapp_phone:null,cashapp_email:null,wire_bank_name:C.payoutMethod==="wire"||C.payoutMethod==="direct_deposit"?C.wireBankName:null,wire_routing_number:C.payoutMethod==="wire"||C.payoutMethod==="direct_deposit"?C.wireRoutingNumber:null,wire_account_number:C.payoutMethod==="wire"||C.payoutMethod==="direct_deposit"?C.wireAccountNumber:null,wire_account_holder_name:C.payoutMethod==="wire"||C.payoutMethod==="direct_deposit"?C.wireAccountHolderName:null,wire_account_type:C.payoutMethod==="wire"||C.payoutMethod==="direct_deposit"?C.wireAccountType:null,wire_bank_address:C.payoutMethod==="wire"?C.wireBankAddress:null,wire_swift_code:C.payoutMethod==="wire"?C.wireSwiftCode:null,check_full_name:C.payoutMethod==="check"?C.checkFullName:null,check_address_line1:C.payoutMethod==="check"?C.checkAddressLine1:null,check_address_line2:C.payoutMethod==="check"?C.checkAddressLine2:null,check_city:C.payoutMethod==="check"?C.checkCity:null,check_state:C.payoutMethod==="check"?C.checkState:null,check_zip_code:C.payoutMethod==="check"?C.checkZipCode:null,check_country:C.payoutMethod==="check"?C.checkCountry:null,notes:C.payoutMethod==="venmo"?JSON.stringify({type:"venmo",username:C.venmoUsername||null,phone:C.venmoPhone||null,email:C.venmoEmail||null}):C.payoutMethod==="direct_deposit"?JSON.stringify({type:"ach",transaction_code:ye||null,routing_number:Fe,account_number:We,payee_id:C.achPayeeId||null,payee_name:sr||null,amount_cents:Math.round(p*100),trace_id:Me}):null}).select().single();if(Pi){console.error("Error creating payout request:",Pi),M({title:"Error",description:"Failed to submit payout request. Please try again.",variant:"destructive"});return}M({title:"Payout Request Submitted",description:`Your payout request for ${St(p)} has been submitted and will be processed on ${new Date(oe).toLocaleDateString()}.`}),_(!1),Xy(),Qy()}catch(oe){console.error("Error requesting payout:",oe),M({title:"Error",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{P(!1)}}},tA=()=>{const{payoutMethod:$}=C;if($==="paypal"){if(!C.paypalEmail)return M({title:"Missing Information",description:"PayPal email is required",variant:"destructive"}),!1}else if($==="venmo"){if(!C.venmoUsername)return M({title:"Missing Information",description:"Venmo username is required",variant:"destructive"}),!1}else if($==="wire"||$==="direct_deposit"){if(["wireBankName","wireRoutingNumber","wireAccountNumber","wireAccountHolderName","wireAccountType"].find(ye=>!C[ye]))return M({title:"Missing Information",description:$==="wire"?"All wire transfer fields are required":"All direct deposit fields are required",variant:"destructive"}),!1;if($==="direct_deposit"){const ye=(C.wireRoutingNumber||"").replace(/\D/g,""),Me=(C.wireAccountNumber||"").replace(/\D/g,""),Fe=(C.achPayeeId||"").replace(/[^a-zA-Z0-9]/g,""),We=(C.wireAccountHolderName||"").trim();if(!/^\d{9}$/.test(ye))return M({title:"Invalid Routing Number",description:"Routing number must be exactly 9 digits.",variant:"destructive"}),!1;if(!/^\d{1,17}$/.test(Me))return M({title:"Invalid Account Number",description:"Account number must be 117 digits.",variant:"destructive"}),!1;if(!/^[a-zA-Z0-9]{1,15}$/.test(Fe))return M({title:"Invalid Payee ID",description:"Payee ID must be alphanumeric and up to 15 characters.",variant:"destructive"}),!1;if(We.length===0||We.length>22)return M({title:"Invalid Payee Name",description:"Payee Name is required and must be up to 22 characters.",variant:"destructive"}),!1}}else if($==="check"&&["checkFullName","checkAddressLine1","checkCity","checkState","checkZipCode"].find(ye=>!C[ye]))return M({title:"Missing Information",description:"All address fields are required for check payments",variant:"destructive"}),!1;return!0},Xy=()=>{A({payoutMethod:"",paypalEmail:"",venmoUsername:"",venmoPhone:"",venmoEmail:"",wireBankName:"",wireRoutingNumber:"",wireAccountNumber:"",wireAccountHolderName:"",wireAccountType:"",wireBankAddress:"",wireSwiftCode:"",checkFullName:"",checkAddressLine1:"",checkAddressLine2:"",checkCity:"",checkState:"",checkZipCode:"",checkCountry:"United States",achTransactionCode:"",achPayeeId:""})},It=($,oe)=>{let fe=oe;$==="wireRoutingNumber"?fe=oe.replace(/\D/g,"").slice(0,9):$==="wireAccountNumber"?fe=oe.replace(/\D/g,"").slice(0,17):$==="achPayeeId"?fe=oe.replace(/[^a-zA-Z0-9]/g,"").slice(0,15):$==="wireAccountHolderName"&&(fe=oe.slice(0,22)),A(ye=>({...ye,[$]:fe}))},rA=()=>{var oe;const $=(oe=e==null?void 0:e.user_type)==null?void 0:oe.toLowerCase();return $==="stripper"||$==="exotic"},St=$=>`$${$.toFixed(2)}`,sA=($,oe)=>{const fe=new Date;fe.setDate(fe.getDate()-$);const ye=oe.filter(Fe=>new Date(Fe.created_at)>=fe).reduce((Fe,We)=>Fe+We.amount,0),Me=i.filter(Fe=>new Date(Fe.created_at)>=fe).reduce((Fe,We)=>Fe+(We.referrer_commission||0),0);return ye+Me},Zy=[...WT],nA=J.filter($=>$.override_badge).reduce(($,oe)=>$+(oe.amount||0),0),aA=J.reduce(($,oe)=>$+(oe.amount||0),0),iA=J.filter($=>!$.override_badge).reduce(($,oe)=>$+(oe.amount||0),0),[oA,od]=f.useState(!1),[hl,lA]=f.useState(""),[yf,vf]=f.useState(""),cA=$=>{lA($||""),vf(""),od(!0)},dA=async()=>{try{if(!hl||!yf.trim()){M({title:"Message",description:"Enter a recipient and a message.",variant:"destructive"});return}if(!(G!=null&&G.id)){M({title:"Sign in required",description:"Log in to send messages.",variant:"destructive"});return}const{data:$,error:oe}=await I.from("users").select("id, username").ilike("username",hl).single();if(oe||!($!=null&&$.id)){M({title:"User not found",description:`Could not find @${hl}.`,variant:"destructive"});return}if($.id===G.id){M({title:"Cannot message yourself",description:"Choose a different recipient.",variant:"destructive"});return}const{error:fe}=await I.from("direct_messages").insert({sender_id:G.id,recipient_id:$.id,message:yf.trim(),is_read:!1});if(fe)throw fe;const{data:ye,error:Me}=await I.from("users").select("username").eq("id",G.id).single();if(Me)throw Me;const{error:Fe}=await I.from("notifications").insert({recipient_id:$.id,title:"New Message",message:`You have a new message from ${(ye==null?void 0:ye.username)||"a user"}`,is_read:!1});if(Fe)throw Fe;M({title:"Message sent",description:`Your message to @${$.username} was sent.`}),od(!1),vf("")}catch($){console.error("sendDm error",$),M({title:"Error",description:"Failed to send message. Please try again.",variant:"destructive"})}};return e?j?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[rA()&&s.jsx(gz,{userType:e.user_type||"",weeklyProgress:id.weeklyProgress,monthlyProgress:id.monthlyProgress,quarterlyProgress:id.quarterlyProgress,deductions:id.deductions}),s.jsx(yz,{}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(Q,{className:"border-green-200 bg-green-50",children:[s.jsx(de,{className:"pb-3",children:s.jsx(ue,{className:"text-sm font-medium text-green-700",children:"Available Earnings"})}),s.jsxs(X,{children:[s.jsx("div",{className:"text-2xl font-bold text-green-800",children:St(p)}),s.jsx("p",{className:"text-sm text-green-600",children:"Available for withdrawal"})]})]}),s.jsxs(Q,{className:"border-blue-200 bg-blue-50",children:[s.jsx(de,{className:"pb-3",children:s.jsx(ue,{className:"text-sm font-medium text-blue-700",children:"Total Earnings"})}),s.jsxs(X,{children:[s.jsx("div",{className:"text-2xl font-bold text-blue-800",children:St(m)}),s.jsx("p",{className:"text-sm text-blue-600",children:"All time total"})]})]}),s.jsxs(Q,{className:"border-purple-200 bg-purple-50",children:[s.jsx(de,{className:"pb-3",children:s.jsx(ue,{className:"text-sm font-medium text-purple-700",children:"Next Payout"})}),s.jsxs(X,{children:[s.jsx("div",{className:"text-2xl font-bold text-purple-800",children:XT()}),s.jsx("p",{className:"text-sm text-purple-600",children:"1st & 15th of each month"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(Q,{children:[s.jsx(de,{className:"pb-2",children:s.jsxs(ue,{className:"text-sm flex items-center gap-2",children:[s.jsx(sM,{className:"w-4 h-4"}),"Last 7 Days"]})}),s.jsxs(X,{children:[s.jsx("div",{className:"text-xl font-bold",children:St(U)}),s.jsx("p",{className:"text-xs text-gray-500",children:"Recent earnings"})]})]}),s.jsxs(Q,{children:[s.jsx(de,{className:"pb-2",children:s.jsxs(ue,{className:"text-sm flex items-center gap-2",children:[s.jsx(gs,{className:"w-4 h-4"}),"Jackpot Tickets"]})}),s.jsxs(X,{children:[s.jsx("div",{className:"text-xl font-bold",children:u.currentTickets}),s.jsx("p",{className:"text-xs text-gray-500",children:"Active tickets"})]})]}),s.jsxs(Q,{children:[s.jsx(de,{className:"pb-2",children:s.jsxs(ue,{className:"text-sm flex items-center gap-2",children:[s.jsx(Ut,{className:"w-4 h-4"}),"Referrals"]})}),s.jsxs(X,{children:[s.jsx("div",{className:"text-xl font-bold",children:L}),s.jsx("p",{className:"text-xs text-gray-500",children:"Total referrals"})]})]})]}),s.jsxs(sf,{value:g,onValueChange:v,className:"w-full",children:[s.jsxs(td,{className:`grid grid-cols-2 sm:grid-cols-4 w-full gap-2 h-auto bg-gray-50 border border-gray-200 p-2 rounded-lg ${R()}`,children:[s.jsx(vt,{value:"weekly",className:"data-[state=active]:bg-yellow-400 data-[state=active]:text-black data-[state=inactive]:bg-gray-100 data-[state=inactive]:text-gray-800 border border-gray-300 rounded-lg px-3 py-2 text-xs sm:text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-yellow-300",children:"Pay Period History"}),s.jsx(vt,{value:"tips",className:"data-[state=active]:bg-yellow-400 data-[state=active]:text-black data-[state=inactive]:bg-gray-100 data-[state=inactive]:text-gray-800 border border-gray-300 rounded-lg px-3 py-2 text-xs sm:text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-yellow-300",children:"Tips Received"}),s.jsx(vt,{value:"referrals",className:"data-[state=active]:bg-yellow-400 data-[state=active]:text-black data-[state=inactive]:bg-gray-100 data-[state=inactive]:text-gray-800 border border-gray-300 rounded-lg px-3 py-2 text-xs sm:text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-yellow-300",children:"Referrals"}),s.jsx(vt,{value:"jackpot",className:"data-[state=active]:bg-yellow-400 data-[state=active]:text-black data-[state=inactive]:bg-gray-100 data-[state=inactive]:text-gray-800 border border-gray-300 rounded-lg px-3 py-2 text-xs sm:text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-yellow-300",children:"Jackpot"})]}),s.jsx(bt,{value:"weekly",className:"space-y-4",children:s.jsxs(Q,{children:[s.jsx(de,{children:s.jsxs(ue,{className:"flex items-center gap-2",children:[s.jsx(fr,{className:"w-5 h-5"}),"Pay Earnings History"]})}),s.jsx(X,{children:t.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Tt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No earnings history yet"})]}):s.jsx("div",{className:"space-y-3",children:t.map($=>s.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsxs("p",{className:"font-medium",children:["Pay period"," ",new Date($.week_start).toLocaleDateString()," -"," ",new Date($.week_end).toLocaleDateString()]}),s.jsxs("p",{className:"text-sm text-gray-500 hidden",children:[new Date($.week_start).toLocaleDateString()," -"," ",new Date($.week_end).toLocaleDateString()]}),s.jsxs("div",{className:"flex flex-wrap gap-4 mt-2 text-xs text-gray-600",children:[s.jsxs("span",{children:["Tips: ",St($.tip_earnings||0)]}),s.jsxs("span",{children:["Referrals:"," ",St($.referral_earnings||0)]}),s.jsxs("span",{children:["Jackpot: ",St($.bonus_earnings||0)]})]})]}),s.jsxs("div",{className:"w-full sm:w-auto flex items-center justify-between gap-3",children:[s.jsx(V,{variant:"secondary",className:"bg-yellow-400 text-black hover:bg-yellow-300 shrink-0 text-xs sm:text-sm px-3 py-2 sm:px-4 sm:py-2.5",onClick:()=>{me(String($.week_start).slice(0,10)),Re(String($.week_end).slice(0,10)),v("referrals"),Js(1,T)},children:"View Referrals"}),s.jsxs("div",{className:"text-right shrink-0",children:[s.jsx("p",{className:"text-lg font-bold",children:St($.amount||0)}),s.jsx(ce,{variant:"default",children:"Total"})]})]})]},$.id))})})]})}),s.jsx(bt,{value:"tips",className:"space-y-4",children:s.jsxs(Q,{children:[s.jsx(de,{children:s.jsxs(ue,{className:"flex items-center gap-2",children:[s.jsx(Tt,{className:"w-5 h-5"}),"Tips Received (",d.length,")"]})}),s.jsx(X,{children:d.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Tt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No tips received yet"})]}):s.jsxs("div",{className:"space-y-3",children:[d.slice(0,10).map($=>{const oe=$.role==="performer";return s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-xs text-gray-500",children:new Date($.created_at).toLocaleString()}),oe?s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:["Tipper: ",$.tipper_username??$.counterparty??"Anonymous"]}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Referred By: ",$.referrer_username??"None"]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:["Tipped: ",$.tipped_username??$.counterparty??"Unknown"]}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Tipper: ",$.tipper_username??"Unknown"]})]})]}),s.jsxs("div",{className:"text-right space-y-1",children:[s.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:oe?"Amount Received":"Override Amount"}),s.jsx("p",{className:"font-bold text-green-600",children:St($.amount)}),$.original_tip_amount?s.jsx("p",{className:"text-xs text-gray-500"}):null,s.jsx(ce,{variant:"outline",children:oe?$.status||"completed":"Referral Tip"})]})]},$.id)}),d.length>10&&s.jsxs("p",{className:"text-center text-sm text-gray-500 py-2",children:["Showing 10 of ",d.length," tips"]})]})})]})}),s.jsx(bt,{value:"referrals",className:"space-y-4",children:s.jsxs(Q,{children:[s.jsx(de,{children:s.jsxs(ue,{className:"flex items-center gap-2",children:[s.jsx(Ut,{className:"w-5 h-5"}),"Referral Earnings"]})}),s.jsxs(X,{className:"space-y-2 sm:space-y-3",children:[s.jsxs("div",{className:"text-xs text-gray-600",children:["Current pay period: ",Ei.start,"  ",Ei.end]}),D&&s.jsxs("div",{role:"alert",className:"flex items-start gap-3 p-3 rounded-md border border-red-200 bg-red-50 text-red-800",children:[s.jsx(ow,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),s.jsx("div",{className:"flex-1 text-sm",children:D}),s.jsx(V,{size:"sm",variant:"destructive",onClick:()=>{te(""),Js(1,T)},children:"Retry"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 md:grid-cols-6 gap-2",children:[s.jsx(ne,{className:"h-8 sm:h-9",placeholder:"Search buyer username",value:Z,onChange:$=>le($.target.value)}),s.jsxs(Sr,{value:q,onValueChange:he,children:[s.jsx(dr,{className:"h-8 sm:h-9",children:s.jsx(kr,{placeholder:"Membership tier"})}),s.jsxs(ur,{children:[s.jsx(Se,{value:"all",children:"All tiers"}),rr.map($=>s.jsx(Se,{value:$,children:xf($)},$))]})]}),s.jsx(ne,{className:"h-8 sm:h-9",type:"date",value:xe,onChange:$=>me($.target.value)}),s.jsx(ne,{className:"h-8 sm:h-9",type:"date",value:Ae,onChange:$=>Re($.target.value)}),s.jsxs(Sr,{value:String(T),onValueChange:$=>{z(Number($)),se(1)},children:[s.jsx(dr,{className:"h-8 sm:h-9",children:s.jsx(kr,{placeholder:"Page size"})}),s.jsxs(ur,{children:[s.jsx(Se,{value:"10",children:"10"}),s.jsx(Se,{value:"25",children:"25"}),s.jsx(Se,{value:"50",children:"50"}),s.jsx(Se,{value:"100",children:"100"})]})]})]}),s.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Filters update automatically. Subscription = recurring creator subscriptions. Membership = membership packages (includes Diamond Plus) and their overrides."}),Zy.length>0&&s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("div",{className:"text-xs text-gray-600",children:"Commission types"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[Zy.map($=>{const oe=Oe.includes($);return s.jsx(V,{variant:oe?"default":"outline",size:"sm",className:"px-2",onClick:()=>gf($),children:$==="subscription"?"Subscription":"Membership"},$)}),Oe.length>0&&s.jsx(V,{variant:"ghost",size:"sm",onClick:()=>_t([]),children:"Clear types"})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx("div",{className:"text-xs text-gray-600 mr-2",children:"Pay period"}),s.jsx(V,{size:"sm",variant:"outline",onClick:HT,children:"Current period"}),s.jsx(V,{size:"sm",variant:"outline",onClick:GT,children:"Previous period"}),s.jsx(V,{size:"sm",variant:"ghost",onClick:KT,children:"Clear dates"})]}),s.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-3",children:[s.jsxs("span",{children:["Total: ",K]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ce,{variant:"secondary",children:"Sum"}),s.jsx("span",{className:"font-medium",children:St(aA)})]}),s.jsxs("span",{className:"hidden sm:flex items-center gap-1",children:[s.jsx(ce,{variant:"secondary",children:"Direct"}),s.jsx("span",{className:"font-medium",children:St(iA)})]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ce,{variant:"secondary",children:"Overrides"}),s.jsx("span",{className:"font-medium text-green-700",children:St(nA)})]})]}),s.jsxs(V,{size:"sm",onClick:YT,children:[s.jsx(hu,{className:"w-4 h-4 mr-2"})," Export CSV"]})]}),s.jsxs("div",{className:"flex	items-center justify-between bg-gray-50 rounded-md px-3 py-2 mt-2",children:[s.jsxs("div",{className:"text-xs text-gray-600",children:["Previous pay period: ",ad.start,"  ",ad.end]}),s.jsxs(V,{size:"sm",variant:"outline",onClick:()=>Yy(ad.start,ad.end,"previous_period"),children:[s.jsx(hu,{className:"w-4 h-4 mr-2"})," Download CSV"]})]}),s.jsxs("div",{className:"flex items-center justify-between bg-gray-50 rounded-md px-3 py-2",children:[s.jsxs("div",{className:"text-xs text-gray-600",children:["Current pay period: ",Ei.start,"  ",Ei.end]}),s.jsxs(V,{size:"sm",variant:"outline",onClick:()=>Yy(Ei.start,Ei.end,"current_period"),children:[s.jsx(hu,{className:"w-4 h-4 mr-2"})," Download CSV"]})]}),H?s.jsx("div",{className:"text-center py-8",children:"Loading..."}):J.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Ut,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No referral earnings yet"})]}):s.jsx("div",{className:"space-y-3",children:J.map($=>s.jsxs("div",{className:"flex	items-stretch justify-between gap-3 p-3 border rounded-xl bg-white",children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[s.jsx("div",{className:"h-16 w-16 rounded-lg bg-gray-200 flex-shrink-0 overflow-hidden",children:$.buyer_avatar_url?s.jsx("img",{src:$.buyer_avatar_url,alt:$.buyer_username||"avatar",className:"h-full w-full object-cover"}):null}),s.jsxs("div",{className:"min-w-0",children:[s.jsxs("div",{className:"flex flex-wrap gap-4 text-xs text-gray-600",children:[s.jsxs("span",{children:["Tips: ",St(0)]}),s.jsxs("span",{children:["Referrals: ",St($.amount||0)]}),s.jsxs("span",{children:["Jackpot: ",St(0)]})]}),s.jsxs("div",{className:"mt-1",children:[s.jsxs("p",{className:"font-semibold truncate flex items-center gap-2",children:[$.buyer_username||"User",$.source_label==="diamond_plus"?s.jsx(ce,{variant:"secondary",children:"Jackpot"}):null,$.override_badge?s.jsx(ce,{variant:"outline",children:"Override"}):null]}),s.jsxs("p",{className:"text-sm text-gray-500 truncate",children:[($.plan_tier||$.buyer_membership_tier||"").toUpperCase()||"Membership",$.cadence?`  ${$.cadence}`:""]}),s.jsxs("p",{className:"text-xs text-gray-600 truncate",children:[$.buyer_location?`${$.buyer_location}`:null,$.buyer_joined_at?`${$.buyer_location?"  ":""}Joined: ${new Date($.buyer_joined_at).toLocaleDateString()}`:null]}),$.override_badge&&$.referrer_username?s.jsxs("p",{className:"text-xs text-gray-700",children:[s.jsx("span",{className:"font-semibold",children:"Referred by:"})," ",$.referrer_username]}):null,$.override_badge&&s.jsxs("p",{className:"text-xs text-gray-700",children:[s.jsx("span",{className:"font-semibold",children:"Overrides:"})," ",St($.amount||0)]})]}),s.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[s.jsx(ce,{className:"bg-purple-700 text-white",children:($.plan_tier||$.buyer_membership_tier||"").toUpperCase()||"PACKAGE"}),s.jsx(ce,{variant:"secondary",className:$.override_badge?"bg-orange-100 text-orange-800 border-orange-200":"bg-green-100 text-green-800 border-green-200",children:$.override_badge?"Override":"Direct"})]}),s.jsx("div",{className:"mt-2",children:s.jsxs(V,{className:"bg-slate-900 text-white hover:bg-slate-800",size:"sm",onClick:()=>cA($.buyer_username),children:[s.jsx(yo,{className:"w-4 h-4 mr-2"})," Send Message!"]})})]})]}),s.jsxs("div",{className:"ml-auto flex flex-col items-end justify-center",children:[s.jsx("div",{className:"text-lg font-semibold text-green-700",children:St($.amount||0)}),s.jsx(ce,{variant:"outline",className:"mt-1",children:$.override_badge?"Override Commission":"Direct Commission"}),s.jsx("div",{className:"text-xs text-gray-500 mt-2",children:new Date($.created_at).toLocaleDateString()})]})]},$.id))}),s.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2",children:[s.jsx(V,{variant:"outline",size:"sm",disabled:ee<=1,onClick:()=>Js(ee-1,T),children:"Prev"}),s.jsxs("div",{className:"text-xs text-gray-600",children:["Page ",ee]}),s.jsx(V,{variant:"outline",size:"sm",disabled:ee*T>=K,onClick:()=>Js(ee+1,T),children:"Next"})]})]})]})}),s.jsx(bt,{value:"jackpot",className:"space-y-4",children:s.jsxs(Q,{children:[s.jsx(de,{children:s.jsxs(ue,{className:"flex items-center gap-2",children:[s.jsx(gs,{className:"w-5 h-5"}),"Jackpot Status"]})}),s.jsxs(X,{children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[s.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-700",children:u.currentTickets}),s.jsx("p",{className:"text-sm text-yellow-600",children:"Active Tickets"})]}),s.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-700",children:u.totalTickets}),s.jsx("p",{className:"text-sm text-yellow-600",children:"Total Tickets"})]})]}),u.winnings.length>0?s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-3",children:"Jackpot Winnings"}),s.jsx("div",{className:"space-y-2",children:u.winnings.map(($,oe)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 border border-green-200 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-green-800",children:"Jackpot Win!"}),s.jsxs("p",{className:"text-sm text-green-600",children:["Draw: ",new Date($.draw_date).toLocaleDateString()]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-lg font-bold text-green-700",children:St($.amount_won)}),s.jsx(ce,{variant:"default",className:"bg-green-600",children:"Winner"})]})]},oe))})]}):s.jsxs("div",{className:"text-center py-6",children:[s.jsx(gs,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No jackpot winnings yet"}),s.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Keep earning tips to get more tickets!"})]})]})]})})]}),s.jsx(Xe,{open:oA,onOpenChange:od,children:s.jsxs(Je,{className:"bg-white max-w-md",children:[s.jsxs(Ze,{children:[s.jsxs(Qe,{children:["Message ",hl?`@${hl}`:"user"]}),s.jsx(fa,{children:"Send a quick message to this buyer."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(pe,{htmlFor:"dmBody",children:"Message"}),s.jsx(mr,{id:"dmBody",value:yf,onChange:$=>vf($.target.value),rows:4,placeholder:"Type your message..."})]}),s.jsxs(ha,{children:[s.jsx(V,{variant:"outline",onClick:()=>od(!1),children:"Cancel"}),s.jsx(V,{onClick:dA,children:"Send"})]})]})}),p>0&&s.jsx(Q,{children:s.jsx(X,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:"Minimum Payout Start at$250.00"}),s.jsxs("p",{className:"text-sm text-gray-500",children:["You have ",St(p)," available for withdrawal"]})]}),s.jsx(V,{onClick:ZT,className:"bg-green-600 hover:bg-green-700",disabled:p===0,children:"Payout Method"})]})})}),s.jsx(Xe,{open:k,onOpenChange:_,children:s.jsxs(Je,{className:"bg-white max-w-4xl max-h-[90vh] overflow-hidden",children:[s.jsxs(Ze,{children:[s.jsxs(Qe,{className:"text-gray-900 flex items-center gap-2",children:[s.jsx(Tt,{className:"w-5 h-5"}),"Request Payout - ",St(p)]}),s.jsx(fa,{className:"text-gray-600",children:"Choose your payout method. Payouts are processed on the 1st and 15th of each month."})]}),s.jsxs("div",{className:"overflow-y-auto max-h-[60vh] space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(pe,{className:"text-sm font-medium text-gray-700",children:"Select Payout Method *"}),s.jsxs(Sr,{value:C.payoutMethod,onValueChange:$=>It("payoutMethod",$),children:[s.jsx(dr,{className:"w-full",children:s.jsx(kr,{placeholder:"Choose how you want to receive your funds"})}),s.jsxs(ur,{children:[s.jsx(Se,{value:"venmo",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(iw,{className:"w-4 h-4"}),"Venmo (Instant)"]})}),s.jsx(Se,{value:"paypal",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(yo,{className:"w-4 h-4"}),"PayPal (1-2 days)"]})}),s.jsx(Se,{value:"wire",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(um,{className:"w-4 h-4"}),"Wire Transfer (1-3 days)"]})}),s.jsx(Se,{value:"direct_deposit",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(um,{className:"w-4 h-4"}),"ACH Payment (Instant)"]})}),s.jsx(Se,{value:"check",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(it,{className:"w-4 h-4"}),"Check by Mail (5-7 days) Jackpots only"]})})]})]})]}),C.payoutMethod==="paypal"&&s.jsxs(Q,{className:"border-blue-200 bg-blue-50",children:[s.jsx(de,{children:s.jsxs(ue,{className:"text-lg text-blue-700 flex items-center gap-2",children:[s.jsx(yo,{className:"w-5 h-5"}),"PayPal Information"]})}),s.jsx(X,{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"paypalEmail",className:"text-sm font-medium text-gray-700",children:"PayPal Email Address *"}),s.jsx(ne,{id:"paypalEmail",type:"email",value:C.paypalEmail,onChange:$=>It("paypalEmail",$.target.value),placeholder:"your-email@example.com",className:"mt-1"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter the email address associated with your PayPal account"})]})})]}),C.payoutMethod==="venmo"&&s.jsxs(Q,{className:"border-green-200 bg-green-50",children:[s.jsx(de,{children:s.jsxs(ue,{className:"text-lg text-green-700 flex items-center gap-2",children:[s.jsx(iw,{className:"w-5 h-5"}),"Venmo Information"]})}),s.jsxs(X,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"venmoUsername",className:"text-sm font-medium text-gray-700",children:"Venmo Username *"}),s.jsx(ne,{id:"venmoUsername",value:C.venmoUsername,onChange:$=>It("venmoUsername",$.target.value),placeholder:"@your-venmo",className:"mt-1"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"venmoPhone",className:"text-sm font-medium text-gray-700",children:"Phone (optional)"}),s.jsx(ne,{id:"venmoPhone",value:C.venmoPhone,onChange:$=>It("venmoPhone",$.target.value),placeholder:"(555) 123-4567",className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"venmoEmail",className:"text-sm font-medium text-gray-700",children:"Email (optional)"}),s.jsx(ne,{id:"venmoEmail",type:"email",value:C.venmoEmail,onChange:$=>It("venmoEmail",$.target.value),placeholder:"your-email@example.com",className:"mt-1"})]})]})]})]}),(C.payoutMethod==="wire"||C.payoutMethod==="direct_deposit")&&s.jsxs(Q,{className:"border-purple-200 bg-purple-50",children:[s.jsx(de,{children:s.jsxs(ue,{className:"text-lg text-purple-700 flex items-center gap-2",children:[s.jsx(um,{className:"w-5 h-5"}),C.payoutMethod==="wire"?"Wire Transfer":"Direct Deposit (ACH)"," ","Information"]})}),s.jsxs(X,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"wireBankName",className:"text-sm font-medium text-gray-700",children:"Bank Name *"}),s.jsx(ne,{id:"wireBankName",value:C.wireBankName,onChange:$=>It("wireBankName",$.target.value),placeholder:"Bank of America",className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"wireRoutingNumber",className:"text-sm font-medium text-gray-700",children:"Routing Number *"}),s.jsx(ne,{id:"wireRoutingNumber",value:C.wireRoutingNumber,onChange:$=>It("wireRoutingNumber",$.target.value),placeholder:"123456789",className:"mt-1"})]})]}),s.jsxs("div",{className:"grid	grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"wireAccountNumber",className:"text-sm font-medium text-gray-700",children:"Account Number *"}),s.jsx(ne,{id:"wireAccountNumber",value:C.wireAccountNumber,onChange:$=>It("wireAccountNumber",$.target.value),placeholder:"Account number",className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"wireAccountHolderName",className:"text-sm font-medium text-gray-700",children:"Account Holder Name *"}),s.jsx(ne,{id:"wireAccountHolderName",value:C.wireAccountHolderName,onChange:$=>It("wireAccountHolderName",$.target.value),placeholder:"John Doe",className:"mt-1"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"wireAccountType",className:"text-sm font-medium text-gray-700",children:"Account Type *"}),s.jsxs(Sr,{value:C.wireAccountType,onValueChange:$=>It("wireAccountType",$),children:[s.jsx(dr,{className:"mt-1",children:s.jsx(kr,{placeholder:"Select account type"})}),s.jsxs(ur,{children:[s.jsx(Se,{value:"checking",children:"Checking"}),s.jsx(Se,{value:"savings",children:"Savings"})]})]})]}),s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"wireSwiftCode",className:"text-sm font-medium text-gray-700",children:"SWIFT Code (International)"}),s.jsx(ne,{id:"wireSwiftCode",value:C.wireSwiftCode,onChange:$=>It("wireSwiftCode",$.target.value),placeholder:"BOFAUS3N",className:"mt-1"})]})]}),s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"wireBankAddress",className:"text-sm font-medium text-gray-700",children:"Bank Address (Optional)"}),s.jsx(mr,{id:"wireBankAddress",value:C.wireBankAddress,onChange:$=>It("wireBankAddress",$.target.value),placeholder:"Bank's full address",className:"mt-1",rows:2})]})]})]}),C.payoutMethod==="check"&&s.jsxs(Q,{className:"border-orange-200 bg-orange-50",children:[s.jsx(de,{children:s.jsxs(ue,{className:"text-lg text-orange-700 flex items-center gap-2",children:[s.jsx(it,{className:"w-5 h-5"}),"Mailing Address"]})}),s.jsxs(X,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"checkFullName",className:"text-sm font-medium text-gray-700",children:"Full Name *"}),s.jsx(ne,{id:"checkFullName",value:C.checkFullName,onChange:$=>It("checkFullName",$.target.value),placeholder:"John Doe",className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"checkAddressLine1",className:"text-sm font-medium text-gray-700",children:"Address Line 1 *"}),s.jsx(ne,{id:"checkAddressLine1",value:C.checkAddressLine1,onChange:$=>It("checkAddressLine1",$.target.value),placeholder:"123 Main Street",className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"checkAddressLine2",className:"text-sm font-medium text-gray-700",children:"Address Line 2 (Optional)"}),s.jsx(ne,{id:"checkAddressLine2",value:C.checkAddressLine2,onChange:$=>It("checkAddressLine2",$.target.value),placeholder:"Apt 4B",className:"mt-1"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"checkCity",className:"text-sm font-medium text-gray-700",children:"City *"}),s.jsx(ne,{id:"checkCity",value:C.checkCity,onChange:$=>It("checkCity",$.target.value),placeholder:"New York",className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"checkState",className:"text-sm font-medium text-gray-700",children:"State *"}),s.jsx(ne,{id:"checkState",value:C.checkState,onChange:$=>It("checkState",$.target.value),placeholder:"NY",className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"checkZipCode",className:"text-sm font-medium text-gray-700",children:"ZIP Code *"}),s.jsx(ne,{id:"checkZipCode",value:C.checkZipCode,onChange:$=>It("checkZipCode",$.target.value),placeholder:"10001",className:"mt-1"})]})]}),s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"checkCountry",className:"text-sm font-medium text-gray-700",children:"Country *"}),s.jsx(ne,{id:"checkCountry",value:C.checkCountry,onChange:$=>It("checkCountry",$.target.value),placeholder:"United States",className:"mt-1"})]})]})]}),C.payoutMethod&&s.jsx(Q,{className:"border-yellow-200 bg-yellow-50",children:s.jsx(X,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(ow,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),s.jsxs("div",{className:"text-sm text-yellow-800",children:[s.jsx("p",{className:"font-medium mb-1",children:"Important Information:"}),s.jsxs("ul",{className:"space-y-1 text-xs",children:[s.jsx("li",{children:" Payouts are processed on the 1st and 15th of each month"}),s.jsx("li",{children:" Processing times vary by payment method"}),s.jsx("li",{children:" Double-check all information before submitting"}),s.jsx("li",{children:" Contact support if you need to update payout information"})]})]})]})})})]}),s.jsxs(ha,{className:"border-t pt-4",children:[s.jsx(V,{variant:"outline",onClick:()=>{_(!1),Xy()},disabled:S,children:"Cancel"}),s.jsx(V,{onClick:eA,disabled:!C.payoutMethod||S,className:"bg-green-600 hover:bg-green-700",children:S?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Processing..."]}):s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Yt,{className:"w-4 h-4"}),"Submit Payout Request"]})})]})]})})]}):s.jsx(Q,{children:s.jsx(X,{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500",children:"Please log in to view earnings"})})})},wz=({onMessageSent:e,currentUserId:t})=>{const[r,n]=f.useState(""),[a,i]=f.useState([]),[o,l]=f.useState(null),[c,d]=f.useState(""),[u,h]=f.useState(!1),[m,x]=f.useState(!1),{toast:g}=Pe();f.useEffect(()=>{r.length>=2?v():i([])},[r]);const v=async()=>{x(!0);try{const{data:p,error:y}=await I.from("users").select("id, username, profile_photo, user_type").ilike("username",`%${r}%`).neq("id",t).limit(10);if(y)throw y;i(p||[])}catch(p){console.error("Error searching users:",p),g({title:"Error",description:"Failed to search users",variant:"destructive"})}finally{x(!1)}},w=async()=>{if(!(!o||!c.trim())){h(!0);try{const{data:p,error:y}=await I.from("users").select("username").eq("id",t).single();if(y)throw y;const{error:j}=await I.from("direct_messages").insert({sender_id:t,recipient_id:o.id,message:c.trim(),is_read:!1,created_at:new Date().toISOString()});if(j)throw j;const{error:N}=await I.from("notifications").insert({recipient_id:o.id,title:"New Message",message:`You have a new message from ${(p==null?void 0:p.username)||"Unknown"}`,is_read:!1});N&&console.warn("Failed to send notification:",N),g({title:"Success",description:`Message sent to ${o.username}!`}),d(""),l(null),n(""),i([]),e()}catch(p){console.error("Error sending message:",p),g({title:"Error",description:"Failed to send message. Please try again.",variant:"destructive"})}finally{h(!1)}}},b=p=>{p.key==="Enter"&&!p.shiftKey&&(p.preventDefault(),w())};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(bs,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(ne,{placeholder:"Search users by username...",value:r,onChange:p=>n(p.target.value),className:"pl-10"}),m&&s.jsx("div",{className:"absolute right-3 top-3",children:s.jsx("div",{className:"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"})})]}),a.length>0&&!o&&s.jsx(Q,{children:s.jsxs(X,{className:"p-4",children:[s.jsx("h4",{className:"font-medium mb-3",children:"Search Results:"}),s.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:a.map(p=>s.jsxs("div",{className:"flex items-center gap-3 p-3 hover:bg-gray-50 rounded-lg cursor-pointer transition-colors",onClick:()=>l(p),children:[s.jsxs(Tr,{className:"w-10 h-10",children:[s.jsx(Ar,{src:p.profile_photo||void 0}),s.jsx(Rr,{children:p.username.charAt(0).toUpperCase()})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-gray-900",children:p.username}),p.user_type&&s.jsx("p",{className:"text-sm text-gray-500 capitalize",children:p.user_type})]})]},p.id))})]})}),o&&s.jsx(Q,{children:s.jsx(X,{className:"p-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Tr,{className:"w-12 h-12",children:[s.jsx(Ar,{src:o.profile_photo||void 0}),s.jsx(Rr,{children:o.username.charAt(0).toUpperCase()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-lg",children:"Send message to:"}),s.jsxs("p",{className:"text-blue-600 font-medium",children:["@",o.username]}),o.user_type&&s.jsx("p",{className:"text-sm text-gray-500 capitalize",children:o.user_type})]})]}),s.jsx(V,{variant:"ghost",size:"sm",onClick:()=>{l(null),d("")},children:s.jsx(er,{className:"w-4 h-4"})})]}),s.jsx(mr,{placeholder:"Type your message here...",value:c,onChange:p=>d(p.target.value),onKeyPress:b,className:"min-h-[100px] resize-none",rows:4}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx(V,{variant:"outline",onClick:()=>{l(null),d("")},disabled:u,children:"Cancel"}),s.jsxs(V,{onClick:w,disabled:!c.trim()||u,className:"flex items-center gap-2",children:[s.jsx(si,{className:"w-4 h-4"}),u?"Sending...":"Send Message"]})]})]})})}),r.length>=2&&a.length===0&&!m&&s.jsx(Q,{children:s.jsx(X,{className:"p-4 text-center",children:s.jsxs("p",{className:"text-gray-500",children:['No users found matching "',r,'"']})})})]})};var[nf]=tr("Tooltip",[Qh]),af=Qh(),T4="TooltipProvider",jz=700,zx="tooltip.open",[Nz,Cy]=nf(T4),A4=e=>{const{__scopeTooltip:t,delayDuration:r=jz,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,o=f.useRef(!0),l=f.useRef(!1),c=f.useRef(0);return f.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),s.jsx(Nz,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:f.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:f.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:f.useCallback(d=>{l.current=d},[]),disableHoverableContent:a,children:i})};A4.displayName=T4;var Ac="Tooltip",[_z,of]=nf(Ac),R4=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:a,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=Cy(Ac,e.__scopeTooltip),d=af(t),[u,h]=f.useState(null),m=_s(),x=f.useRef(0),g=o??c.disableHoverableContent,v=l??c.delayDuration,w=f.useRef(!1),[b,p]=as({prop:n,defaultProp:a??!1,onChange:_=>{_?(c.onOpen(),document.dispatchEvent(new CustomEvent(zx))):c.onClose(),i==null||i(_)},caller:Ac}),y=f.useMemo(()=>b?w.current?"delayed-open":"instant-open":"closed",[b]),j=f.useCallback(()=>{window.clearTimeout(x.current),x.current=0,w.current=!1,p(!0)},[p]),N=f.useCallback(()=>{window.clearTimeout(x.current),x.current=0,p(!1)},[p]),k=f.useCallback(()=>{window.clearTimeout(x.current),x.current=window.setTimeout(()=>{w.current=!0,p(!0),x.current=0},v)},[v,p]);return f.useEffect(()=>()=>{x.current&&(window.clearTimeout(x.current),x.current=0)},[]),s.jsx(XE,{...d,children:s.jsx(_z,{scope:t,contentId:m,open:b,stateAttribute:y,trigger:u,onTriggerChange:h,onTriggerEnter:f.useCallback(()=>{c.isOpenDelayedRef.current?k():j()},[c.isOpenDelayedRef,k,j]),onTriggerLeave:f.useCallback(()=>{g?N():(window.clearTimeout(x.current),x.current=0)},[N,g]),onOpen:j,onClose:N,disableHoverableContent:g,children:r})})};R4.displayName=Ac;var Wx="TooltipTrigger",I4=f.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=of(Wx,r),i=Cy(Wx,r),o=af(r),l=f.useRef(null),c=Le(t,l,a.onTriggerChange),d=f.useRef(!1),u=f.useRef(!1),h=f.useCallback(()=>d.current=!1,[]);return f.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),s.jsx(ZE,{asChild:!0,...o,children:s.jsx(je.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:we(e.onPointerMove,m=>{m.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),u.current=!0)}),onPointerLeave:we(e.onPointerLeave,()=>{a.onTriggerLeave(),u.current=!1}),onPointerDown:we(e.onPointerDown,()=>{a.open&&a.onClose(),d.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:we(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:we(e.onBlur,a.onClose),onClick:we(e.onClick,a.onClose)})})});I4.displayName=Wx;var Sz="TooltipPortal",[AH,kz]=nf(Sz,{forceMount:void 0}),Jo="TooltipContent",O4=f.forwardRef((e,t)=>{const r=kz(Jo,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,o=of(Jo,e.__scopeTooltip);return s.jsx(Ir,{present:n||o.open,children:o.disableHoverableContent?s.jsx(L4,{side:a,...i,ref:t}):s.jsx(Cz,{side:a,...i,ref:t})})}),Cz=f.forwardRef((e,t)=>{const r=of(Jo,e.__scopeTooltip),n=Cy(Jo,e.__scopeTooltip),a=f.useRef(null),i=Le(t,a),[o,l]=f.useState(null),{trigger:c,onClose:d}=r,u=a.current,{onPointerInTransitChange:h}=n,m=f.useCallback(()=>{l(null),h(!1)},[h]),x=f.useCallback((g,v)=>{const w=g.currentTarget,b={x:g.clientX,y:g.clientY},p=Rz(b,w.getBoundingClientRect()),y=Iz(b,p),j=Oz(v.getBoundingClientRect()),N=Mz([...y,...j]);l(N),h(!0)},[h]);return f.useEffect(()=>()=>m(),[m]),f.useEffect(()=>{if(c&&u){const g=w=>x(w,u),v=w=>x(w,c);return c.addEventListener("pointerleave",g),u.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",g),u.removeEventListener("pointerleave",v)}}},[c,u,x,m]),f.useEffect(()=>{if(o){const g=v=>{const w=v.target,b={x:v.clientX,y:v.clientY},p=(c==null?void 0:c.contains(w))||(u==null?void 0:u.contains(w)),y=!Lz(b,o);p?m():y&&(m(),d())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,u,o,d,m]),s.jsx(L4,{...e,ref:i})}),[Ez,Pz]=nf(Ac,{isInside:!1}),Tz=HO("TooltipContent"),L4=f.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=of(Jo,r),d=af(r),{onClose:u}=c;return f.useEffect(()=>(document.addEventListener(zx,u),()=>document.removeEventListener(zx,u)),[u]),f.useEffect(()=>{if(c.trigger){const h=m=>{const x=m.target;x!=null&&x.contains(c.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,u]),s.jsx(Hc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:s.jsxs(eP,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(Tz,{children:n}),s.jsx(Ez,{scope:r,isInside:!0,children:s.jsx(mL,{id:c.contentId,role:"tooltip",children:a||n})})]})})});O4.displayName=Jo;var M4="TooltipArrow",Az=f.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=af(r);return Pz(M4,r).isInside?null:s.jsx(tP,{...a,...n,ref:t})});Az.displayName=M4;function Rz(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Iz(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function Oz(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function Lz(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],d=l.x,u=l.y,h=c.x,m=c.y;u>n!=m>n&&r<(h-d)*(n-u)/(m-u)+d&&(a=!a)}return a}function Mz(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Dz(t)}function Dz(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var Fz=A4,$z=R4,Uz=I4,D4=O4;const tN=Fz,rN=$z,sN=Uz,qx=f.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(D4,{ref:n,sideOffset:t,className:_e("z-50 overflow-hidden rounded-md border border-border/40 bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-lg animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));qx.displayName=D4.displayName;const Vz=()=>{var K;const[e,t]=f.useState([]),[r,n]=f.useState([]),[a,i]=f.useState(!0),[o,l]=f.useState(!1),[c,d]=f.useState(null),[u,h]=f.useState(""),[m,x]=f.useState(!1),[g,v]=f.useState(!1),[w,b]=f.useState(null),[p,y]=f.useState(null),[j,N]=f.useState([]),[k,_]=f.useState(!1),[S,P]=f.useState(""),[C,A]=f.useState(null),L="/placeholder.svg",{toast:F}=Pe(),{user:E}=Es(),[W,U]=f.useState(null),Y=O=>(O||"").split("_").join(" ").replace(/\b\w/g,H=>H.toUpperCase()),[M,G]=f.useState("all"),R=async O=>{if(E!=null&&E.id){b(O),v(!0),_(!0),P("");try{const{data:H}=await I.from("users").select("id, username, profile_photo, membership_tier").eq("id",O).single();y(H?{id:H.id,username:H.username??"Unknown",profile_photo:H.profile_photo??void 0,membership_tier:H.membership_tier??null}:null);const{data:re,error:ee}=await I.from("direct_messages").select("*").in("sender_id",[E.id,O]).in("recipient_id",[E.id,O]).order("created_at",{ascending:!0});if(ee)throw ee;if(N(re||[]),await I.from("direct_messages").update({is_read:!0}).eq("recipient_id",E.id).eq("sender_id",O).eq("is_read",!1),J(),C)try{C.unsubscribe()}catch{}const se=I.channel(`dm_thread_${E.id}_${O}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"direct_messages"},T=>{const z=T.new;(z.sender_id===E.id&&z.recipient_id===O||z.sender_id===O&&z.recipient_id===E.id)&&(N(Z=>[...Z,z]),z.recipient_id===E.id&&I.from("direct_messages").update({is_read:!0}).eq("id",z.id),J())}).subscribe();A(se)}catch(H){console.error("Error opening thread",H),F({title:"Error",description:"Failed to open chat",variant:"destructive"})}finally{_(!1)}}},D=()=>{if(v(!1),b(null),y(null),N([]),P(""),C){try{C.unsubscribe()}catch{}A(null)}},te=async()=>{if(!(E!=null&&E.id)||!w||!S.trim())return;const O=S.trim();P("");try{const{error:H}=await I.from("direct_messages").insert({sender_id:E.id,recipient_id:w,message:O,is_read:!1});if(H)throw H}catch(H){console.error("sendThread error",H),F({title:"Error",description:"Failed to send message",variant:"destructive"})}};f.useEffect(()=>{if(E!=null&&E.id){(async()=>{try{const{data:H}=await I.from("users").select("id, username, profile_photo").eq("id",E.id).single();U(H?{id:H.id,username:H.username??"Unknown",profile_photo:H.profile_photo??void 0}:null)}catch{}})(),J();const O=I.channel("direct_messages_conversations").on("postgres_changes",{event:"INSERT",schema:"public",table:"direct_messages"},H=>{const re=H.new;(re.sender_id===E.id||re.recipient_id===E.id)&&J()}).subscribe();return()=>{O.unsubscribe()}}},[E==null?void 0:E.id]);const J=async()=>{if(!(E!=null&&E.id)){i(!1);return}try{const{data:O,error:H}=await I.from("direct_messages").select("*").or(`sender_id.eq.${E.id},recipient_id.eq.${E.id}`).order("created_at",{ascending:!1});if(H)throw H;const re=O||[],ee=new Map;for(const Z of re){const le=Z.sender_id===E.id?Z.recipient_id:Z.sender_id;if(!le)continue;const q=ee.get(le)||{last:null,unread:0};q.last||(q.last=Z),Z.recipient_id===E.id&&Z.is_read===!1&&(q.unread+=1),ee.set(le,q)}const se=Array.from(ee.keys());let T={};if(se.length>0){const{data:Z,error:le}=await I.from("users").select("id, username, profile_photo, membership_tier").in("id",se);if(le)throw le;T=Object.fromEntries((Z||[]).map(q=>[q.id,{id:q.id,username:q.username??"Unknown",profile_photo:q.profile_photo??void 0,membership_tier:q.membership_tier??null}]))}const z=se.map(Z=>{var le,q;return{otherUserId:Z,otherUser:T[Z]||null,lastMessage:((le=ee.get(Z))==null?void 0:le.last)||null,unreadCount:((q=ee.get(Z))==null?void 0:q.unread)||0}});z.sort((Z,le)=>{var xe,me;const q=(xe=Z.lastMessage)!=null&&xe.created_at?new Date(Z.lastMessage.created_at).getTime():0;return((me=le.lastMessage)!=null&&me.created_at?new Date(le.lastMessage.created_at).getTime():0)-q}),t(z)}catch(O){console.error("Error fetching messages:",O),F({title:"Error",description:"Failed to load messages",variant:"destructive"})}finally{i(!1)}},ae=async()=>{var O;if(!(!c||!u.trim()||!(E!=null&&E.id))){x(!0);try{const{data:H,error:re}=await I.from("users").select("username").eq("id",E.id).single();if(re)throw re;const{error:ee}=await I.from("direct_messages").insert({sender_id:E.id,recipient_id:c.sender_id,message:u.trim(),is_read:!1});if(ee)throw ee;const{error:se}=await I.from("notifications").insert({recipient_id:c.sender_id,title:"New Reply",message:`You have a new reply from ${(H==null?void 0:H.username)||"Unknown"}`,is_read:!1});if(se)throw se;F({title:"Reply sent!",description:`Your reply has been sent to ${((O=c.sender)==null?void 0:O.username)||"the user"}`}),l(!1),d(null),h("")}catch(H){console.error("Error sending reply:",H),F({title:"Error",description:"Failed to send reply. Please try again.",variant:"destructive"})}finally{x(!1)}}};return E?a?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs(sf,{defaultValue:"messages",className:"w-full",children:[s.jsxs(td,{className:"grid w-full grid-cols-2",children:[s.jsx(vt,{value:"messages",children:"Messages"}),s.jsx(vt,{value:"compose",children:"Compose"})]}),s.jsxs(bt,{value:"messages",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(ui,{className:"w-5 h-5"}),s.jsx("h2",{className:"text-xl font-semibold",children:"Direct Messages"}),s.jsxs(ce,{variant:"secondary",children:[e.reduce((O,H)=>O+(H.unreadCount||0),0)," unread"]}),s.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[s.jsx(V,{size:"sm",variant:M==="all"?"default":"outline",onClick:()=>G("all"),children:"All"}),s.jsx(V,{size:"sm",variant:M==="unread"?"default":"outline",onClick:()=>G("unread"),children:"Unread"})]})]}),(M==="all"?e:e.filter(O=>O.unreadCount>0)).length===0?s.jsx(Q,{children:s.jsxs(X,{className:"text-center py-8",children:[s.jsx(ui,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No messages yet"})]})}):(M==="all"?e:e.filter(O=>O.unreadCount>0)).map(O=>{var H,re,ee,se,T,z;return s.jsx(Q,{className:`${O.unreadCount>0?"border-blue-200 bg-blue-50":""}`,onClick:()=>R(O.otherUserId),role:"button",children:s.jsx(de,{className:"pb-3",children:s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[s.jsx("img",{src:((H=O.otherUser)==null?void 0:H.profile_photo)||L,alt:((re=O.otherUser)==null?void 0:re.username)||"User",className:"h-10 w-10 rounded-full object-cover border"}),s.jsxs("div",{className:"min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[s.jsx(ue,{className:"text-lg truncate",children:((ee=O.otherUser)==null?void 0:ee.username)||"Unknown"}),((se=O.otherUser)==null?void 0:se.membership_tier)&&s.jsx(tN,{children:s.jsxs(rN,{children:[s.jsx(sN,{asChild:!0,children:s.jsx(ce,{variant:O.otherUser.membership_tier==="diamond_plus"?"default":"secondary",className:O.otherUser.membership_tier==="diamond_plus"?"bg-gradient-to-r from-cyan-500 to-blue-600 text-white border-none":"",children:Y(O.otherUser.membership_tier)})}),s.jsx(qx,{children:s.jsxs("p",{children:[Y(O.otherUser.membership_tier)," member"]})})]})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-xs text-gray-500",children:(T=O.lastMessage)!=null&&T.created_at?new Date(O.lastMessage.created_at).toLocaleString():""}),O.unreadCount>0&&s.jsx(ce,{variant:"default",className:"text-[10px] py-0 px-1.5",children:O.unreadCount})]}),s.jsx("p",{className:"text-sm text-gray-600 truncate mt-1",children:((z=O.lastMessage)==null?void 0:z.message)||""})]})]}),s.jsx("div",{className:"flex items-center gap-2"})]})})},O.otherUserId)})]}),s.jsxs(bt,{value:"compose",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(si,{className:"w-5 h-5"}),s.jsx("h2",{className:"text-xl font-semibold",children:"Send Message"})]}),s.jsx(wz,{onMessageSent:J,currentUserId:E.id})]})]}),s.jsx(Xe,{open:g,onOpenChange:O=>O?null:D(),children:s.jsxs(Je,{className:"max-w-lg w-full p-0",children:[s.jsxs("div",{className:"p-4 border-b flex items-center gap-3",children:[s.jsx("img",{src:(p==null?void 0:p.profile_photo)||L,alt:(p==null?void 0:p.username)||"User",className:"h-10 w-10 rounded-full object-cover border"}),s.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[s.jsx(Qe,{className:"text-base truncate",children:(p==null?void 0:p.username)||"Chat"}),(p==null?void 0:p.membership_tier)&&s.jsx(tN,{children:s.jsxs(rN,{children:[s.jsx(sN,{asChild:!0,children:s.jsx(ce,{variant:p.membership_tier==="diamond_plus"?"default":"secondary",className:p.membership_tier==="diamond_plus"?"bg-gradient-to-r from-cyan-500 to-blue-600 text-white border-none":"",children:Y(p.membership_tier)})}),s.jsx(qx,{children:s.jsxs("p",{children:[Y(p.membership_tier)," member"]})})]})})]})]}),s.jsx("div",{className:"h-[60vh] overflow-y-auto p-4 space-y-3 bg-gray-50",children:k?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):j.map(O=>{const H=O.sender_id===(E==null?void 0:E.id);return s.jsxs("div",{className:`flex items-end gap-2 ${H?"justify-end":"justify-start"}`,children:[!H&&s.jsx("img",{src:(p==null?void 0:p.profile_photo)||L,alt:(p==null?void 0:p.username)||"User",className:"h-7 w-7 rounded-full object-cover border"}),s.jsxs("div",{className:`max-w-[75%] rounded-2xl px-3 py-2 text-sm shadow ${H?"bg-blue-600 text-white rounded-br-sm":"bg-white border text-gray-800 rounded-bl-sm"}`,children:[s.jsx("div",{className:"whitespace-pre-wrap leading-relaxed",children:O.message}),s.jsx("div",{className:`mt-1 text-[10px] ${H?"text-blue-100":"text-gray-400"}`,children:O.created_at?new Date(O.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})]}),H&&s.jsx("img",{src:(W==null?void 0:W.profile_photo)||L,alt:(W==null?void 0:W.username)||"Me",className:"h-7 w-7 rounded-full object-cover border"})]},O.id)})}),s.jsxs("div",{className:"p-3 border-t flex items-end gap-2",children:[s.jsx(mr,{placeholder:"Type a message",value:S,onChange:O=>P(O.target.value),rows:2,className:"flex-1"}),s.jsx(V,{onClick:te,disabled:!S.trim(),className:"bg-blue-600 hover:bg-blue-700",children:"Send"})]})]})}),s.jsx(Xe,{open:o,onOpenChange:l,children:s.jsxs(Je,{className:"max-w-md",children:[s.jsx(Ze,{children:s.jsxs(Qe,{children:["Reply to ",((K=c==null?void 0:c.sender)==null?void 0:K.username)||"User"]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Original message:"}),s.jsx("p",{className:"text-sm",children:c==null?void 0:c.message})]}),s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"reply",children:"Your Reply"}),s.jsx(mr,{id:"reply",placeholder:"Type your reply here...",value:u,onChange:O=>h(O.target.value),rows:4,className:"mt-2"})]})]}),s.jsxs(ha,{children:[s.jsx(V,{variant:"outline",onClick:()=>l(!1),disabled:m,children:"Cancel"}),s.jsxs(V,{onClick:ae,disabled:!u.trim()||m,className:"flex items-center gap-2",children:[s.jsx(si,{className:"w-4 h-4"}),m?"Sending...":"Send Reply"]})]})]})})]}):s.jsx(Q,{children:s.jsx(X,{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500",children:"Please log in to view messages"})})})},Bz=({mediaId:e,currentUserId:t,initialLikes:r=0,initialLiked:n=!1})=>{const[a,i]=f.useState(r),[o,l]=f.useState(n),[c,d]=f.useState(!1),[u,h]=f.useState(!1),[m,x]=f.useState([]),{toast:g}=Pe();f.useEffect(()=>{v()},[e]);const v=async()=>{try{const{data:y,error:j}=await I.from("media_likes").select("user_id").eq("media_id",e);if(j)throw j;if(i((y==null?void 0:y.length)||0),t){const N=(y==null?void 0:y.some(k=>k.user_id===t))||!1;l(N)}}catch(y){console.error("Error fetching likes:",y)}},w=async()=>{try{const{data:y,error:j}=await I.from("media_likes").select(`
          user:users(username, profile_photo)
        `).eq("media_id",e).limit(10);if(j)throw j;const N=y.map(k=>k.user).filter(Boolean);x(N)}catch(y){console.error("Error fetching likers:",y)}},b=async()=>{if(!t){g({title:"Login Required",description:"Please log in to like content",variant:"destructive"});return}d(!0);try{if(o){const{error:y}=await I.from("media_likes").delete().eq("media_id",e).eq("user_id",t);if(y)throw y;i(j=>j-1),l(!1),g({title:"Unliked",description:"Content unliked successfully"})}else{const{error:y}=await I.from("media_likes").insert({media_id:e,user_id:t,created_at:new Date().toISOString()});if(y)throw y;i(j=>j+1),l(!0),g({title:"Liked!",description:"Content liked successfully"})}}catch(y){console.error("Error toggling like:",y),g({title:"Error",description:"Failed to update like",variant:"destructive"})}finally{d(!1)}},p=()=>{!u&&a>0&&w(),h(!u)};return s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(V,{variant:"ghost",size:"sm",onClick:b,disabled:c,className:`flex items-center gap-2 transition-all duration-200 ${o?"text-red-500 hover:text-red-600 hover:bg-red-50":"text-gray-500 hover:text-gray-600 hover:bg-gray-50"}`,children:[s.jsx(pn,{className:`w-5 h-5 transition-all duration-200 ${o?"fill-current":""}`}),s.jsx("span",{className:"font-medium",children:a})]}),a>0&&s.jsxs(V,{variant:"ghost",size:"sm",onClick:p,className:"flex items-center gap-2 text-gray-500 hover:text-gray-600 hover:bg-gray-50",children:[s.jsx(Ut,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"View"})]}),u&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4 max-h-[80vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"People who liked this"}),s.jsx(V,{variant:"ghost",size:"sm",onClick:()=>h(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),m.length>0?s.jsx("div",{className:"space-y-3",children:m.map((y,j)=>s.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-gray-50",children:[s.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center text-sm font-medium",children:y.profile_photo?s.jsx("img",{src:y.profile_photo,alt:y.username,className:"w-8 h-8 rounded-full object-cover"}):y.username.charAt(0).toUpperCase()}),s.jsx("span",{className:"font-medium text-gray-900",children:y.username})]},j))}):s.jsx("div",{className:"text-center py-4 text-gray-500",children:"No likers found"})]})})]})},zz=({mediaId:e,currentUserId:t})=>{const[r,n]=f.useState([]),[a,i]=f.useState(""),[o,l]=f.useState(null),[c,d]=f.useState(""),[u,h]=f.useState(!1),{toast:m}=Pe();f.useEffect(()=>{x()},[e]);const x=async()=>{try{h(!0);const{data:b,error:p}=await I.from("media_comments").select(`
          *,
          user:users(username, profile_photo)
        `).eq("media_id",e).order("created_at",{ascending:!1});if(p)throw p;const y=await Promise.all(b.map(async j=>{const{data:N}=await I.from("media_replies").select(`
              *,
              user:users(username, profile_photo)
            `).eq("comment_id",j.id).order("created_at",{ascending:!0});return{...j,replies:N||[],likes_count:0,user_liked:!1}}));n(y)}catch(b){console.error("Error fetching comments:",b),m({title:"Error",description:"Failed to load comments",variant:"destructive"})}finally{h(!1)}},g=async()=>{if(a.trim())try{h(!0);const{data:b,error:p}=await I.from("media_comments").insert({media_id:e,user_id:t,comment_text:a.trim()}).select(`
          *,
          user:users(username, profile_photo)
        `).single();if(p)throw p;const y={...b,replies:[],likes_count:0,user_liked:!1};n(j=>[y,...j]),i(""),m({title:"Success",description:"Comment added successfully"})}catch(b){console.error("Error adding comment:",b),m({title:"Error",description:"Failed to add comment",variant:"destructive"})}finally{h(!1)}},v=async b=>{if(c.trim())try{h(!0);const{data:p,error:y}=await I.from("media_replies").insert({comment_id:b,user_id:t,reply_text:c.trim()}).select(`
          *,
          user:users(username, profile_photo)
        `).single();if(y)throw y;const j=p;n(N=>N.map(k=>k.id===b?{...k,replies:[...k.replies||[],j]}:k)),d(""),l(null),m({title:"Success",description:"Reply added successfully"})}catch(p){console.error("Error adding reply:",p),m({title:"Error",description:"Failed to add reply",variant:"destructive"})}finally{h(!1)}},w=b=>{const p=new Date(b),j=Math.floor((new Date().getTime()-p.getTime())/(1e3*60*60));return j<1?"Just now":j<24?`${j}h ago`:j<168?`${Math.floor(j/24)}d ago`:p.toLocaleDateString()};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(Tr,{className:"w-8 h-8",children:[s.jsx(Ar,{src:""}),s.jsx(Rr,{children:"U"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx(mr,{placeholder:"Add a comment...",value:a,onChange:b=>i(b.target.value),className:"min-h-[80px] resize-none"}),s.jsx("div",{className:"flex justify-end mt-2",children:s.jsx(V,{onClick:g,disabled:u||!a.trim(),size:"sm",children:"Post Comment"})})]})]}),s.jsx("div",{className:"space-y-4",children:u?s.jsx("div",{className:"text-center py-4 text-gray-500",children:"Loading comments..."}):r.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(ui,{className:"w-12 h-12 mx-auto mb-2 text-gray-400"}),s.jsx("p",{children:"No comments yet. Be the first to comment!"})]}):r.map(b=>{var p,y,j,N;return s.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(Tr,{className:"w-8 h-8",children:[s.jsx(Ar,{src:(p=b.user)==null?void 0:p.profile_photo}),s.jsx(Rr,{children:(j=(y=b.user)==null?void 0:y.username)==null?void 0:j.charAt(0).toUpperCase()})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"font-semibold text-sm",children:(N=b.user)==null?void 0:N.username}),s.jsx("span",{className:"text-xs text-gray-500",children:w(b.created_at)})]}),s.jsx("p",{className:"text-sm text-gray-700 mb-2",children:b.comment_text}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[s.jsxs("button",{className:"flex items-center gap-1 hover:text-blue-600",children:[s.jsx(pn,{className:"w-3 h-3"}),b.likes_count||0]}),s.jsxs("button",{onClick:()=>l(b.id),className:"flex items-center gap-1 hover:text-blue-600",children:[s.jsx(ZL,{className:"w-3 h-3"}),"Reply"]})]})]})]}),o===b.id&&s.jsxs("div",{className:"ml-11 mt-3 flex gap-2",children:[s.jsx(mr,{placeholder:"Write a reply...",value:c,onChange:k=>d(k.target.value),className:"min-h-[60px] resize-none text-sm"}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx(V,{onClick:()=>v(b.id),disabled:u||!c.trim(),size:"sm",children:"Reply"}),s.jsx(V,{variant:"outline",onClick:()=>{l(null),d("")},size:"sm",children:"Cancel"})]})]}),b.replies&&b.replies.length>0&&s.jsx("div",{className:"ml-11 mt-3 space-y-3",children:b.replies.map(k=>{var _,S,P,C;return s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(Tr,{className:"w-6 h-6",children:[s.jsx(Ar,{src:(_=k.user)==null?void 0:_.profile_photo}),s.jsx(Rr,{children:(P=(S=k.user)==null?void 0:S.username)==null?void 0:P.charAt(0).toUpperCase()})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"font-semibold text-xs",children:(C=k.user)==null?void 0:C.username}),s.jsx("span",{className:"text-xs text-gray-500",children:w(k.created_at)})]}),s.jsx("p",{className:"text-xs text-gray-700",children:k.reply_text})]})]},k.id)})})]},b.id)})})]})},Hx=({media:e,onDelete:t,onReplace:r,showContentTier:n=!1,currentUserId:a,showLikesAndComments:i=!1})=>{const[o,l]=f.useState(null),[c,d]=f.useState({}),[u,h]=f.useState({}),[m,x]=f.useState({}),[g,v]=f.useState(!1),[w,b]=f.useState(null);f.useEffect(()=>{if(!w)return;const j=k=>{k.key==="Escape"&&b(null)},N=document.body.style.overflow;return document.body.style.overflow="hidden",window.addEventListener("keydown",j),()=>{window.removeEventListener("keydown",j),document.body.style.overflow=N}},[w]);const p=async(j,N)=>{try{const k=j.videoWidth,_=j.videoHeight;if(k&&_){const S=k>=_?"landscape":"portrait";x(P=>({...P,[N]:S}))}}catch{}try{j.requestFullscreen?await j.requestFullscreen():j.webkitEnterFullscreen&&j.webkitEnterFullscreen()}catch{}try{if(screen.orientation&&screen.orientation.lock){const k=m[N]||(j.videoWidth&&j.videoHeight?j.videoWidth>=j.videoHeight?"landscape":"portrait":"landscape");await screen.orientation.lock(k==="landscape"?"landscape":"portrait")}else h(k=>({...k,[N]:!0}))}catch{h(k=>({...k,[N]:!0}))}},y=j=>{switch(j){case"silver":return{name:"Silver",color:"from-yellow-400 to-yellow-600",icon:at};case"gold":return{name:"Gold",color:"from-yellow-500 to-orange-500",icon:lr};default:return{name:"Free",color:"from-gray-400 to-gray-600",icon:na}}};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 gap-6 lg:gap-8",children:e.map(j=>s.jsxs("div",{className:"relative group bg-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden",children:[j.media_type==="photo"?s.jsx("div",{className:"aspect-square bg-gray-100 overflow-hidden relative group cursor-zoom-in",onClick:()=>b(j.media_url),children:s.jsx("img",{src:j.media_url,alt:"User media",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy"})}):s.jsxs("div",{className:"aspect-square bg-gray-100 overflow-hidden relative group",children:[s.jsx("video",{src:j.media_url,className:`w-full h-full ${c[j.id]?"object-contain bg-black":"object-cover"}`,controls:!0,muted:!0,playsInline:!0,preload:"metadata",onLoadedMetadata:N=>{const k=N.currentTarget,_=k.videoWidth,S=k.videoHeight;x(P=>({...P,[j.id]:_&&S?_>=S?"landscape":"portrait":"landscape"}))},onPlay:N=>{d(k=>({...k,[j.id]:!0})),p(N.currentTarget,j.id)},onClick:N=>p(N.currentTarget,j.id),onPause:()=>d(N=>({...N,[j.id]:!1})),onEnded:()=>d(N=>({...N,[j.id]:!1}))}),u[j.id]&&s.jsxs("div",{className:"absolute left-1/2 -translate-x-1/2 bottom-4 bg-black/70 text-white text-[10px] px-2 py-1 rounded-md",children:["Rotate device to ",s.jsx("b",{children:m[j.id]==="portrait"?"Portrait":"Landscape"})," or use the 3-dot menu to switch."]}),s.jsx("div",{className:`absolute inset-0 flex items-center justify-center bg-black/30 pointer-events-none ${c[j.id]?"hidden":""}`,children:s.jsx("div",{className:"w-16 h-16 bg-white/95 rounded-full flex items-center justify-center shadow-lg",children:s.jsx(nn,{className:"w-8 h-8 text-gray-700"})})})]}),(t||r)&&s.jsxs("div",{className:"absolute top-2 right-2 opacity-100 md:opacity-0 md:group-hover:opacity-100 transition-opacity duration-200 flex gap-1 z-30",children:[s.jsx(V,{onClick:()=>t(j.id),size:"sm",variant:"destructive",className:"bg-red-500 hover:bg-red-600 text-white shadow-lg rounded-full w-7 h-7 p-0",children:s.jsx(er,{className:"w-3 h-3"})}),r&&s.jsx(V,{onClick:()=>r(j.id),size:"sm",className:"bg-blue-500 hover:bg-blue-600 text-white shadow-lg rounded-full w-7 h-7 p-0",children:s.jsx(XL,{className:"w-3 h-3"})})]}),n&&j.content_tier&&s.jsx("div",{className:"absolute top-2 left-2 z-20",children:s.jsxs(ce,{className:`bg-gradient-to-r ${y(j.content_tier).color} text-white text-xs font-semibold px-2 py-1 flex items-center gap-1 shadow-lg`,children:[He.createElement(y(j.content_tier).icon,{className:"w-3 h-3"}),y(j.content_tier).name]})}),(j.is_nude||j.is_xrated)&&s.jsxs("div",{className:"absolute top-12 left-2 flex flex-col gap-1 z-20",children:[j.is_nude&&s.jsx(ce,{variant:"destructive",className:"text-xs px-2 py-1 shadow-lg",children:" Nude"}),j.is_xrated&&s.jsx(ce,{variant:"destructive",className:"text-xs px-2 py-1 shadow-lg",children:" 18+"})]}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-2",children:s.jsxs("div",{className:"flex items-center justify-between text-white",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[j.media_type==="photo"?s.jsx($r,{className:"w-3 h-3"}):s.jsx(nn,{className:"w-3 h-3"}),s.jsx("span",{className:"text-xs font-medium capitalize",children:j.media_type})]}),s.jsx("div",{className:"text-xs opacity-75",children:j.upload_date?new Date(j.upload_date).toLocaleDateString():new Date(j.created_at).toLocaleDateString()})]})}),i&&a&&s.jsx("div",{className:"p-4 bg-white border-t border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsx(Bz,{mediaId:j.id,currentUserId:a}),s.jsxs(V,{onClick:N=>{N.stopPropagation(),l(j),v(!0)},size:"sm",variant:"ghost",className:"text-gray-600 hover:text-blue-600 hover:bg-blue-50 transition-colors px-3 py-2 rounded-lg flex items-center gap-2",children:[s.jsx(ui,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline text-sm",children:"Comments"})]})]})})]},j.id))}),w&&s.jsxs("div",{className:"fixed inset-0 z-[100] bg-black/95 flex items-center justify-center cursor-zoom-out",onClick:()=>b(null),children:[s.jsx("button",{"aria-label":"Close",onClick:j=>{j.stopPropagation(),b(null)},className:"absolute top-4 right-4 text-white/90 hover:text-white focus:outline-none",children:s.jsx(er,{className:"w-7 h-7"})}),s.jsx("img",{src:w,alt:"Zoomed",className:"max-w-[100vw] max-h-[100vh] object-contain"})]}),s.jsx(Xe,{open:g,onOpenChange:v,children:s.jsxs(Je,{className:"max-w-2xl max-h-[80vh] overflow-hidden",children:[s.jsx(Ze,{children:s.jsxs(Qe,{className:"flex items-center gap-2",children:[s.jsx(ui,{className:"w-5 h-5"}),"Comments",o&&s.jsxs("span",{className:"text-sm text-gray-500",children:["- ",o.media_type==="photo"?"Photo":"Video"]})]})}),s.jsx("div",{className:"overflow-y-auto max-h-[60vh]",children:o&&a&&s.jsx(zz,{mediaId:o.id,currentUserId:a})})]})})]})},Wz=({userData:e,onUpdate:t})=>{const[r,n]=f.useState(null),{toast:a}=Pe(),i=async(l,c)=>{if(e!=null&&e.id){n(c);try{const d=l.name.split(".").pop(),u=`${e.id}/${c}_${Date.now()}.${d}`,{data:h,error:m}=await I.storage.from("user-photos").upload(u,l,{cacheControl:"3600",upsert:!0});if(m)throw m;const{data:{publicUrl:x}}=I.storage.from("user-photos").getPublicUrl(u);await t({[c==="profile"?"profile_photo":c==="banner"?"banner_photo":"front_page_photo"]:x}),a({title:"Success",description:`${c} image updated successfully`})}catch(d){console.error("Error uploading image:",d),a({title:"Error",description:"Failed to upload image",variant:"destructive"})}finally{n(null)}}},o=l=>{const c=document.createElement("input");c.type="file",c.accept="image/*",c.onchange=d=>{var h;const u=(h=d.target.files)==null?void 0:h[0];u&&i(u,l)},c.click()};return s.jsxs(Q,{className:"bg-white/10 backdrop-blur border-white/20",children:[s.jsx(de,{children:s.jsxs(ue,{className:"text-white flex items-center gap-2",children:[s.jsx(At,{className:"w-5 h-5"}),"Profile Images"]})}),s.jsx(X,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-24 h-24 mx-auto mb-2 rounded-full overflow-hidden bg-gray-200",children:e!=null&&e.profile_photo?s.jsx("img",{src:e.profile_photo,alt:"Profile",className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(At,{className:"w-8 h-8 text-gray-400"})})}),s.jsx(V,{onClick:()=>o("profile"),disabled:r==="profile",size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:r==="profile"?"Uploading...":"Profile Photo"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-24 h-16 mx-auto mb-2 rounded overflow-hidden bg-gray-200",children:e!=null&&e.banner_photo?s.jsx("img",{src:e.banner_photo,alt:"Banner",className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx($r,{className:"w-6 h-6 text-gray-400"})})}),s.jsx(V,{onClick:()=>o("banner"),disabled:r==="banner",size:"sm",className:"bg-green-600 hover:bg-green-700",children:r==="banner"?"Uploading...":"Banner Image"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-24 h-16 mx-auto mb-2 rounded overflow-hidden bg-gray-200",children:e!=null&&e.front_page_photo?s.jsx("img",{src:e.front_page_photo,alt:"Front Page",className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx($r,{className:"w-6 h-6 text-gray-400"})})}),s.jsx(V,{onClick:()=>o("front_page"),disabled:r==="front_page",size:"sm",className:"bg-purple-600 hover:bg-purple-700",children:r==="front_page"?"Uploading...":"Front Page"})]})]})})]})},qz=({userData:e,onUpdate:t})=>{const[r,n]=f.useState([]),[a,i]=f.useState([]),[o,l]=f.useState(!0),[c,d]=f.useState(!1),[u,h]=f.useState(null),[m,x]=f.useState("free"),[g,v]=f.useState({photos:0,videos:0,maxPhotos:25,maxVideos:0}),{toast:w}=Pe(),b=["stripper","exotic"].includes(String((e==null?void 0:e.user_type)||"").toLowerCase());f.useEffect(()=>{e!=null&&e.id&&y()},[e==null?void 0:e.id]),f.useEffect(()=>{p()},[m,r,a,e==null?void 0:e.membership_tier,e==null?void 0:e.silver_plus_active,e==null?void 0:e.diamond_plus_active]),f.useEffect(()=>{!b&&m!=="free"&&(x("free"),w({title:"Restricted",description:"Only Dimes (Strippers/Exotics) can upload to Silver or Gold."}))},[b,m]);const p=()=>{const C=m==="free",A=C?25:260,L=C?25:48,F=r.filter(W=>W.media_type==="photo"&&W.content_tier===m).length,E=a.filter(W=>W.media_type==="video"&&W.content_tier===m).length;v({photos:F,videos:E,maxPhotos:A,maxVideos:L})},y=async()=>{if(e!=null&&e.id)try{const{data:C,error:A}=await I.from("user_media").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(A)if(A.code==="PGRST116"||A.message.includes('relation "user_media" does not exist'))console.log("user_media table does not exist yet. Please run the SQL script to create it."),w({title:"Setup Required",description:"Media upload feature requires database setup. Please contact administrator.",variant:"destructive"});else throw A;else{const L=C||[];n(L.filter(F=>F.media_type==="photo")),i(L.filter(F=>F.media_type==="video"))}}catch(C){console.error("Error fetching media:",C),w({title:"Error",description:"Failed to load media",variant:"destructive"})}finally{l(!1)}},j=async(C,A)=>{if(!(e!=null&&e.id))return;const L=A==="photo"?g.photos:g.videos,F=A==="photo"?g.maxPhotos:g.maxVideos,E=F-L;if(C.length>E&&!u){w({title:"Storage Full",description:`You can only upload ${E} more ${A}s. Maximum is ${F}. Please delete some files first.`,variant:"destructive"});return}d(!0);try{for(const W of C){const U=`${e.username}_${Date.now()}_${W.name}`,Y=`${e.username}/${m}/${A==="photo"?"photos":"videos"}/${U}`;let M="user-photos";A==="photo"?m==="free"?M="user-photos":M="public-media":A==="video"&&(M="private-media");const{data:G,error:R}=await I.storage.from(M).upload(Y,W);if(R)throw R;let D;M==="user-photos"?D=I.storage.from("user-photos").getPublicUrl(Y).data.publicUrl:M==="public-media"?D=I.storage.from("public-media").getPublicUrl(Y).data.publicUrl:D=I.storage.from("private-media").getPublicUrl(Y).data.publicUrl;const{error:te}=await I.from("user_media").insert({user_id:e.id,media_url:D,media_type:A,filename:U,storage_path:Y,content_tier:m,is_nude:m==="silver",is_xrated:m==="gold",upload_date:new Date().toISOString(),access_restricted:m!=="free"});if(te)throw te}w({title:"Upload Successful",description:`${C.length} ${A}${C.length>1?"s":""} uploaded successfully!`}),await y()}catch(W){console.error("Upload error:",W),w({title:"Upload Failed",description:"Failed to upload files. Please try again.",variant:"destructive"})}finally{d(!1)}},N=C=>{const A=document.createElement("input");A.type="file",A.accept=C==="photo"?"image/*":"video/*",A.multiple=!u,A.onchange=L=>{const F=L.target.files;F&&F.length>0&&j(F,C)},A.click()},k=async C=>{try{const{error:A}=await I.from("user_media").delete().eq("id",C);if(A)throw A;await y(),w({title:"Success",description:"Media deleted successfully"})}catch(A){console.error("Error deleting media:",A),w({title:"Error",description:"Failed to delete media",variant:"destructive"})}},_=C=>{h(C);const A=[...r,...a].find(L=>L.id===C);A&&N(A.media_type)},S=()=>{const C=String((e==null?void 0:e.membership_tier)||(e==null?void 0:e.membership_type)||"").toLowerCase(),A=!!(e!=null&&e.diamond_plus_active)||C==="diamond_plus",L=!!(e!=null&&e.silver_plus_active)||C==="silver_plus";return A?s.jsxs(ce,{className:"bg-yellow-500",children:[s.jsx(at,{className:"w-3 h-3 mr-1"}),"Diamond+"]}):L?s.jsxs(ce,{className:"bg-gray-500",children:[s.jsx(lr,{className:"w-3 h-3 mr-1"}),"Silver+"]}):C==="gold"?s.jsxs(ce,{className:"bg-yellow-600",children:[s.jsx(at,{className:"w-3 h-3 mr-1"}),"Gold"]}):C==="silver"?s.jsxs(ce,{className:"bg-gray-500",children:[s.jsx(lr,{className:"w-3 h-3 mr-1"}),"Silver"]}):s.jsx(ce,{variant:"outline",children:"Free"})},P=()=>{switch(m){case"free":return"Clean content only (photos & videos) - no nudes or x-rated material";case"silver":return"Nude content allowed (not x-rated) - requires Silver+ membership";case"gold":return"X-rated content preferred - requires Gold+ membership";default:return""}};return o?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsx(Wz,{userData:e,onUpdate:t}),s.jsxs(Q,{className:"border-gradient-to-r from-blue-200 to-purple-200 bg-gradient-to-r from-blue-50 to-purple-50 shadow-lg",children:[s.jsx(de,{className:"pb-4",children:s.jsxs(ue,{className:"text-lg font-bold text-gray-800 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-white rounded-full shadow-md",children:s.jsx(at,{className:"w-5 h-5 text-blue-600"})}),s.jsx("span",{children:"Current Membership"})]}),S()]})}),s.jsxs(X,{children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx($r,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"font-medium text-gray-700",children:"Photos"})]}),s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:g.photos}),s.jsxs("div",{className:"text-sm text-gray-500",children:["of ",g.maxPhotos," used"]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(g.photos/g.maxPhotos*100,100)}%`}})})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(nn,{className:"w-4 h-4 text-purple-600"}),s.jsx("span",{className:"font-medium text-gray-700",children:"Videos"})]}),s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:g.videos}),s.jsxs("div",{className:"text-sm text-gray-500",children:["of ",g.maxVideos," used"]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:s.jsx("div",{className:"bg-purple-600 h-2 rounded-full transition-all duration-300",style:{width:g.maxVideos>0?`${Math.min(g.videos/g.maxVideos*100,100)}%`:"0%"}})})]})]}),s.jsx("div",{className:"mt-4 p-3 bg-white rounded-lg border-l-4 border-blue-500",children:s.jsx("p",{className:"text-sm font-medium text-gray-700",children:g.maxPhotos===25?" Free Tier: Upload up to 25 photos and 25 videos to get started!":` Premium Tier: Enjoy ${g.maxPhotos} photos + ${g.maxVideos} videos`})})]})]}),s.jsxs(Q,{className:"shadow-lg border-0 bg-gradient-to-br from-gray-50 to-gray-100",children:[s.jsx(de,{className:"pb-4",children:s.jsxs(ue,{className:"text-xl font-bold text-gray-800 flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full",children:s.jsx(lr,{className:"w-5 h-5 text-white"})}),"Select Content Tier"]})}),s.jsxs(X,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:`relative p-6 rounded-xl border-2 cursor-pointer transition-all duration-300 hover:shadow-lg ${m==="free"?"border-green-500 bg-green-50 shadow-lg":"border-gray-200 bg-white hover:border-green-300"}`,onClick:()=>x("free"),children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 mx-auto mb-3 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(na,{className:"w-6 h-6 text-green-600"})}),s.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:"Free Content"}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Clean photos & videos"}),s.jsx("div",{className:"text-xs text-green-600 font-medium",children:" Always Available"})]}),m==="free"&&s.jsx("div",{className:"absolute top-2 right-2 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:s.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]}),s.jsxs("div",{className:`relative p-6 rounded-xl border-2 cursor-pointer transition-all duration-300 hover:shadow-lg ${m==="silver"?"border-yellow-500 bg-yellow-50 shadow-lg":"border-gray-200 bg-white hover:border-yellow-300"}`,onClick:()=>{if(!b)return w({title:"Dimes Only",description:"Only Strippers and Exotics can upload Silver content."});x("silver")},children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 mx-auto mb-3 bg-yellow-100 rounded-full flex items-center justify-center",children:s.jsx(lr,{className:"w-6 h-6 text-yellow-600"})}),s.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:"Silver Content"}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Nude photos & videos"}),s.jsx("div",{className:"text-xs text-yellow-600 font-medium",children:b?" Available":"Dimes Only"})]}),m==="silver"&&s.jsx("div",{className:"absolute top-2 right-2 w-6 h-6 bg-yellow-500 rounded-full flex items-center justify-center",children:s.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]}),s.jsxs("div",{className:`relative p-6 rounded-xl border-2 cursor-pointer transition-all duration-300 hover:shadow-lg ${m==="gold"?"border-orange-500 bg-orange-50 shadow-lg":"border-gray-200 bg-white hover:border-orange-300"}`,onClick:()=>{if(!b)return w({title:"Dimes Only",description:"Only Strippers and Exotics can upload Gold content."});x("gold")},children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 mx-auto mb-3 bg-orange-100 rounded-full flex items-center justify-center",children:s.jsx(at,{className:"w-6 h-6 text-orange-600"})}),s.jsx("h3",{className:"font-bold text-gray-800 mb-2",children:"Gold Content"}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"X-rated photos & videos"}),s.jsx("div",{className:"text-xs text-orange-600 font-medium",children:b?" Available":"Dimes Only"})]}),m==="gold"&&s.jsx("div",{className:"absolute top-2 right-2 w-6 h-6 bg-orange-500 rounded-full flex items-center justify-center",children:s.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]})]}),s.jsx("div",{className:"mt-6 p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl border border-blue-200",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-1 bg-blue-100 rounded-full mt-0.5",children:s.jsx(go,{className:"w-4 h-4 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-800 mb-1",children:"Content Guidelines"}),s.jsx("p",{className:"text-sm text-gray-600",children:P()})]})]})})]})]}),s.jsxs(Q,{className:"shadow-xl border-0 bg-gradient-to-br from-indigo-50 to-blue-50",children:[s.jsx(de,{className:"pb-6",children:s.jsxs(ue,{className:"text-2xl font-bold text-gray-800 flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-gradient-to-r from-indigo-500 to-blue-600 rounded-full",children:s.jsx(dn,{className:"w-6 h-6 text-white"})}),"Upload Media"]})}),s.jsxs(X,{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx($r,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-gray-800",children:"Photos"}),s.jsxs("p",{className:"text-sm text-gray-500",children:[g.photos,"/",g.maxPhotos," uploaded"]})]})]}),g.photos>=g.maxPhotos&&s.jsxs(ce,{variant:"destructive",className:"bg-red-100 text-red-700 border-red-200",children:[s.jsx(go,{className:"w-3 h-3 mr-1"}),"Storage Full"]})]}),s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-8 text-center hover:border-blue-400 transition-colors duration-300 bg-gray-50 hover:bg-blue-50",children:[s.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:C=>C.target.files&&j(C.target.files,"photo"),disabled:c||g.photos>=g.maxPhotos,className:"hidden",id:"photo-upload"}),s.jsx("label",{htmlFor:"photo-upload",className:"cursor-pointer",children:s.jsxs("div",{className:"flex flex-col items-center gap-3",children:[s.jsx("div",{className:"p-4 bg-blue-100 rounded-full",children:s.jsx($r,{className:"w-8 h-8 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-lg font-semibold text-gray-700 mb-1",children:g.photos>=g.maxPhotos?"Storage Full":"Drop photos here or click to browse"}),s.jsx("p",{className:"text-sm text-gray-500",children:g.photos>=g.maxPhotos?"Delete some photos to upload more":"Supports JPG, PNG, GIF up to 10MB each"})]}),g.photos<g.maxPhotos&&s.jsxs(V,{type:"button",onClick:()=>{var C;return(C=document.getElementById("photo-upload"))==null?void 0:C.click()},className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-medium transition-colors duration-200",disabled:c,children:[s.jsx(dn,{className:"w-4 h-4 mr-2"}),"Choose Photos"]})]})})]})]}),g.maxVideos>0&&s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:s.jsx(nn,{className:"w-5 h-5 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-gray-800",children:"Videos"}),s.jsxs("p",{className:"text-sm text-gray-500",children:[g.videos,"/",g.maxVideos," uploaded"]})]})]}),g.videos>=g.maxVideos&&s.jsxs(ce,{variant:"destructive",className:"bg-red-100 text-red-700 border-red-200",children:[s.jsx(go,{className:"w-3 h-3 mr-1"}),"Storage Full"]})]}),s.jsxs("div",{className:`border-2 border-dashed border-gray-300 rounded-xl p-8 text-center transition-colors duration-300 ${!b&&m!=="free"?"bg-gray-100":"hover:border-purple-400 bg-gray-50 hover:bg-purple-50"}`,children:[s.jsx("input",{type:"file",multiple:!0,accept:"video/*",onChange:C=>C.target.files&&j(C.target.files,"video"),disabled:c||g.videos>=g.maxVideos||!b&&m!=="free",className:"hidden",id:"video-upload"}),s.jsx("label",{htmlFor:"video-upload",className:`cursor-pointer ${!b&&m!=="free"?"pointer-events-none opacity-60":""}`,children:s.jsxs("div",{className:"flex flex-col items-center gap-3",children:[s.jsx("div",{className:"p-4 bg-purple-100 rounded-full",children:s.jsx(nn,{className:"w-8 h-8 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-lg font-semibold text-gray-700 mb-1",children:!b&&m!=="free"?"Dimes Only (Strippers/Exotics)":g.videos>=g.maxVideos?"Storage Full":"Drop videos here or click to browse"}),s.jsx("p",{className:"text-sm text-gray-500",children:!b&&m!=="free"?"Only Dimes can upload to Silver or Gold":g.videos>=g.maxVideos?"Delete some videos to upload more":"Supports MP4, MOV, AVI up to 100MB each"})]}),g.videos<g.maxVideos&&s.jsxs(V,{type:"button",onClick:()=>{var C;return(C=document.getElementById("video-upload"))==null?void 0:C.click()},className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-lg font-medium transition-colors duration-200",disabled:c||!b&&m!=="free",children:[s.jsx(dn,{className:"w-4 h-4 mr-2"}),"Choose Videos"]})]})})]})]}),c&&s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-2 border-blue-600 border-t-transparent"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-blue-800",children:"Uploading your media..."}),s.jsx("p",{className:"text-sm text-blue-600",children:"Please wait while we process your files"})]})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(Q,{children:[s.jsx(de,{children:s.jsxs(ue,{className:"flex items-center gap-2",children:[s.jsx($r,{className:"w-5 h-5"}),"Photos (",r.filter(C=>C.content_tier===m).length,")"]})}),s.jsx(X,{children:r.filter(C=>C.content_tier===m).length>0?s.jsx(Hx,{media:r.filter(C=>C.content_tier===m),onDelete:k,onReplace:_,showContentTier:!0,currentUserId:e.id,showLikesAndComments:!0}):s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx($r,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No photos uploaded yet"})]})})]}),g.maxVideos>0&&s.jsxs(Q,{children:[s.jsx(de,{children:s.jsxs(ue,{className:"flex items-center gap-2",children:[s.jsx(nn,{className:"w-5 h-5"}),"Videos (",a.filter(C=>C.content_tier===m).length,")"]})}),s.jsx(X,{children:a.filter(C=>C.content_tier===m).length>0?s.jsx(Hx,{media:a.filter(C=>C.content_tier===m),onDelete:k,onReplace:_,showContentTier:!0,currentUserId:e.id,showLikesAndComments:!0}):s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(nn,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No videos uploaded yet"})]})})]})]})]})},Hz=({userData:e,onUpdate:t})=>{const r=pt(),n=async o=>t?await t(o):!1,i=(()=>{const o=String((e==null?void 0:e.membership_tier)||(e==null?void 0:e.membership_type)||"").toLowerCase(),l=!!(e!=null&&e.diamond_plus_active)||o==="diamond_plus",c=!!(e!=null&&e.silver_plus_active)||o==="silver_plus";return l?{tier:"Diamond Plus",icon:s.jsx(at,{className:"w-5 h-5 text-yellow-500"}),color:"from-yellow-400 to-orange-500"}:c?{tier:"Silver Plus",icon:s.jsx(lr,{className:"w-5 h-5 text-yellow-400"}),color:"from-yellow-500 to-yellow-600"}:o==="gold"?{tier:"Gold",icon:s.jsx(at,{className:"w-5 h-5 text-orange-500"}),color:"from-yellow-400 to-orange-500"}:o==="silver"?{tier:"Silver",icon:s.jsx(lr,{className:"w-5 h-5 text-gray-200"}),color:"from-gray-500 to-gray-600"}:{tier:"Free",icon:s.jsx(na,{className:"w-5 h-5 text-gray-400"}),color:"from-gray-500 to-gray-600"}})();return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:`bg-gradient-to-r ${i.color} text-white rounded-lg p-4 shadow-lg`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[i.icon,s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-lg",children:[i.tier," Member"]}),s.jsx("p",{className:"text-sm opacity-90",children:i.tier==="Free"?"Upgrade to unlock more features and upload limits":"You have access to premium features and higher upload limits"})]})]}),i.tier==="Free"&&s.jsx(V,{onClick:()=>r("/upgrade-silver-plus"),variant:"secondary",className:"bg-white text-gray-800 hover:bg-gray-100 font-semibold",children:"Upgrade Now"})]})}),s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Media Upload"}),s.jsxs("p",{className:"text-gray-600",children:["Upload your profile images and manage your photo and video gallery.",i.tier==="Free"&&" Upgrade to unlock higher upload limits and exclusive content tiers."]})]}),s.jsx(qz,{userData:e,onUpdate:n}),i.tier==="Free"&&s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:"Unlock Premium Features"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(lr,{className:"w-12 h-12 text-yellow-500 mx-auto mb-3"}),s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Silver Plus"}),s.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[s.jsx("li",{children:" Upload up to 260 photos"}),s.jsx("li",{children:" Upload up to 48 videos"}),s.jsx("li",{children:" Access to Silver content"}),s.jsx("li",{children:" Priority support"})]}),s.jsx(V,{onClick:()=>r("/upgrade-silver-plus"),className:"mt-3 bg-gradient-to-r from-yellow-500 to-yellow-600 hover:from-yellow-600 hover:to-yellow-700",children:"Upgrade to Silver Plus"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx(at,{className:"w-12 h-12 text-yellow-500 mx-auto mb-3"}),s.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Diamond Plus"}),s.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[s.jsx("li",{children:" Unlimited uploads"}),s.jsx("li",{children:" Access to all content tiers"}),s.jsx("li",{children:" Premium features"}),s.jsx("li",{children:" VIP support"})]}),s.jsx(V,{onClick:()=>r("/upgrade-diamond"),className:"mt-3 bg-gradient-to-r from-yellow-400 to-orange-500 hover:from-yellow-500 hover:to-orange-600",children:"Upgrade to Diamond Plus"})]})]})]})]})},Gz=({user:e,onImageClick:t,onMessage:r})=>{const[n,a]=f.useState([]),[i,o]=f.useState(!0);f.useEffect(()=>{l()},[e.id]);const l=async()=>{try{const{data:h,error:m}=await I.from("user_media").select("id, media_url, media_type").eq("user_id",e.id).eq("media_type","photo").limit(6).order("created_at",{ascending:!1});m?(console.log("Media table might not exist yet:",m),a([])):a(h||[])}catch(h){console.log("Error fetching user media:",h),a([])}finally{o(!1)}},c=h=>new Date(h).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),d=()=>{r(e.id)},u=[...e.profile_photo?[{type:"profile",url:e.profile_photo}]:[],...e.banner_photo?[{type:"banner",url:e.banner_photo}]:[],...e.front_page_photo?[{type:"front_page",url:e.front_page_photo}]:[],...n.map(h=>({type:"media",url:h.media_url}))];return s.jsx(Q,{className:"w-full",children:s.jsxs(X,{className:"p-4",children:[u.length>0&&s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 mb-4",children:u.slice(0,6).map((h,m)=>s.jsx("div",{className:"aspect-square cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>t(h.url),children:s.jsx("img",{src:h.url,alt:`${h.type} photo`,className:"w-full h-full object-cover rounded"})},m))}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"cursor-pointer",onClick:d,children:[s.jsx("h3",{className:"font-semibold text-lg hover:text-blue-600 transition-colors",children:e.username}),s.jsxs("p",{className:"text-gray-600",children:[e.city,", ",e.state]}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Joined: ",c(e.created_at)]}),n.length>0&&s.jsxs("p",{className:"text-xs text-blue-500",children:[n.length," photos uploaded"]})]}),s.jsxs(V,{onClick:d,size:"sm",className:"w-full",children:[s.jsx(ui,{className:"w-4 h-4 mr-2"}),"Send Message!"]})]})]})})},Kz=({usernameFilter:e,cityFilter:t,stateFilter:r,onUsernameChange:n,onCityChange:a,onStateChange:i})=>s.jsxs("div",{className:"bg-white p-4 rounded-lg border mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(bs,{className:"w-5 h-5 text-gray-500"}),s.jsx("h3",{className:"font-semibold",children:"Filter Referrals"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"username-filter",children:"Username"}),s.jsx(ne,{id:"username-filter",placeholder:"Search by username...",value:e,onChange:o=>n(o.target.value)})]}),s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"city-filter",children:"City"}),s.jsx(ne,{id:"city-filter",placeholder:"Search by city...",value:t,onChange:o=>a(o.target.value)})]}),s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"state-filter",children:"State"}),s.jsx(ne,{id:"state-filter",placeholder:"Search by state...",value:r,onChange:o=>i(o.target.value)})]})]})]}),Yz=()=>{const{user:e}=Es(),{toast:t}=Pe(),[r,n]=f.useState([]),[a,i]=f.useState([]),[o,l]=f.useState(!0),[c,d]=f.useState(1),[u,h]=f.useState(""),[m,x]=f.useState(""),[g,v]=f.useState(""),[w,b]=f.useState(null),[p,y]=f.useState(""),[j,N]=f.useState(!1),[k,_]=f.useState(null),[S,P]=f.useState(""),[C,A]=f.useState(!1),L=100,F=p,E=f.useMemo(()=>`Everyone who joins before the app is released will be compensated up to $10,000 to $22,500 a month or more for life just for joining early. There is more money than that to be made on your own. This will be historic.

Strippers and Exotic Females Must Be Approved
Load up your sexiest 3 videos and pics to get approved. If you get approved, you will get an email. I will text you on the platform from now on until the app is released.
Set up your account and see if you get approved. 
Add Nude content = $74,000 a year
Add x-rated content = $114,000 a year
Refer Dimes & People = Overrides $$$$ for Life

Males and normal females are approved automatically.
Refer Dimes & People = Overrides $$$$ For Life

This is only a peek at the money you can make.
Any questions? If not, click the link now before positions are gone.
https://www.DimesOnly.World/?ref=${F}`,[F]),W=f.useMemo(()=>`https://www.DimesOnly.World/?ref=${F}`,[F]),U=f.useCallback(async()=>{if(e!=null&&e.id)try{const{data:ee,error:se}=await I.from("users").select("username").eq("id",e.id).single();if(se)throw se;ee!=null&&ee.username&&ee.username!==p&&y(String(ee.username))}catch(ee){console.error("Error fetching user data:",ee)}},[e==null?void 0:e.id,p]),Y=f.useCallback(async()=>{if(!F){l(!1);return}l(!0);try{const{data:ee,error:se}=await I.from("users").select("id, username, city, state, created_at, profile_photo, banner_photo, front_page_photo").eq("referred_by",F).order("created_at",{ascending:!1});if(se)throw se;n(ee||[])}catch(ee){console.error("Error fetching referrals:",ee),t({title:"Error",description:"Failed to load referrals",variant:"destructive"})}finally{l(!1)}},[F,t]),M=f.useCallback(()=>{let ee=r;u&&(ee=ee.filter(se=>se.username.toLowerCase().includes(u.toLowerCase()))),m&&(ee=ee.filter(se=>{var T;return(T=se.city)==null?void 0:T.toLowerCase().includes(m.toLowerCase())})),g&&(ee=ee.filter(se=>{var T;return(T=se.state)==null?void 0:T.toLowerCase().includes(g.toLowerCase())})),i(ee),d(1)},[r,u,m,g]);f.useEffect(()=>{e!=null&&e.id&&U()},[e==null?void 0:e.id,U]),f.useEffect(()=>{F&&Y()},[F,Y]),f.useEffect(()=>{M()},[M]);const G=f.useCallback(()=>{navigator.clipboard.writeText(E),window.open(`https://wa.me/?text=${encodeURIComponent(E)}`,"_blank"),t({title:"Copied! Paste it on WhatsApp."})},[E,t]),R=f.useCallback(()=>{navigator.clipboard.writeText(E),window.open(`https://t.me/share/url?url=${encodeURIComponent(W)}&text=${encodeURIComponent(E)}`,"_blank"),t({title:"Copied! Paste it on Telegram."})},[E,W,t]),D=f.useCallback(()=>{navigator.clipboard.writeText(E),window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(E)}`,"_blank"),t({title:"Copied! Paste it on X."})},[E,t]),te=f.useCallback(()=>{navigator.clipboard.writeText(E),window.open(`mailto:?subject=Check this out&body=${encodeURIComponent(E)}`,"_blank"),t({title:"Copied! Paste it in Email."})},[E,t]),J=f.useCallback(()=>{navigator.clipboard.writeText(E),t({title:"Message copied to clipboard!"})},[E,t]),ae=f.useCallback(()=>{navigator.clipboard.writeText(E),window.open("https://facebook.com","_blank"),t({title:"Copied! Paste it on Facebook."})},[E,t]),K=f.useCallback(()=>{navigator.clipboard.writeText(E),window.open("https://instagram.com","_blank"),t({title:"Copied! Paste it on Instagram."})},[E,t]),O=f.useCallback(()=>{navigator.share?navigator.share({title:"Check out DimesOnly",text:E}):(navigator.clipboard.writeText(E),t({title:"Message copied to share with contacts!"}))},[E,t]),H=f.useMemo(()=>a.slice((c-1)*L,c*L),[a,c,L]),re=Math.ceil(a.length/L);return e?s.jsxs("div",{className:"w-full max-w-none px-0 md:px-4",children:[s.jsx("div",{className:"text-center mb-8",children:s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-purple-600 mb-2",children:"SHARE YOUR LINK AND GET YOUR FIRST REFERRAL NOW!"})}),s.jsxs("div",{className:"flex flex-col items-center p-4 text-center mb-8",children:[s.jsx("h3",{className:"text-xl font-bold mb-2",children:"The message below you will share to get your followers until the app is released."}),s.jsx("h3",{className:"text-xl font-bold mb-2",children:"ALL THE LINKS WILL MAXIMIZE YOUR FOLLOWERS."}),s.jsx("h3",{className:"text-xl font-bold mb-2",children:"Click Copy - Instagram - Facebook - Contacts below message to share"}),s.jsx("p",{className:"text-gray-700 whitespace-pre-line mb-4",children:E}),s.jsx("a",{href:"https://dimesonlyworld.s3.us-east-2.amazonaws.com/Commercial+for+Dimes+Final+(1).mp4",download:"CommercialForDimes.mp4",className:"bg-yellow-400 text-black px-4 py-2 rounded-lg hover:bg-yellow-300 transition mb-3",children:" Download Promo Video To Send"}),s.jsx("a",{href:W,target:"_blank",rel:"noopener noreferrer",className:"bg-black text-white px-4 py-2 rounded-lg hover:bg-gray-800 transition",children:"Click for Your Referral Link"})]}),s.jsxs(Q,{className:"mb-8",children:[s.jsx(de,{children:s.jsxs(ue,{className:"flex items-center gap-2",children:[s.jsx(D2,{className:"w-5 h-5"}),"Your Referral Link"]})}),s.jsx(X,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"p-3 bg-gray-50 rounded border",children:s.jsx("p",{className:"text-sm font-mono break-all",children:W})}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[s.jsxs(V,{onClick:J,variant:"outline",children:[s.jsx($L,{className:"w-4 h-4 mr-2"})," Copy"]}),s.jsxs(V,{onClick:ae,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[s.jsx(VL,{className:"w-4 h-4 mr-2"})," Facebook"]}),s.jsxs(V,{onClick:K,className:"bg-pink-600 hover:bg-pink-700 text-white",children:[s.jsx(qL,{className:"w-4 h-4 mr-2"})," Instagram"]}),s.jsxs(V,{onClick:O,variant:"outline",children:[s.jsx($h,{className:"w-4 h-4 mr-2"})," Contacts"]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[s.jsx(V,{onClick:G,className:"bg-green-500 hover:bg-green-600 text-white",children:"WhatsApp"}),s.jsx(V,{onClick:R,className:"bg-blue-400 hover:bg-blue-500 text-white",children:"Telegram"}),s.jsx(V,{onClick:D,className:"bg-sky-600 hover:bg-sky-700 text-white",children:"X"}),s.jsx(V,{onClick:te,className:"bg-red-500 hover:bg-red-600 text-white",children:"Email"})]})]})})]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-semibold",children:["Your Referrals (",a.length,")"]}),p&&s.jsxs("p",{className:"text-sm text-gray-600",children:["Checking referrals for: ",p]})]}),s.jsx(V,{onClick:Y,variant:"outline",disabled:o,children:o?"Loading...":"Refresh"})]}),s.jsx(Kz,{usernameFilter:u,cityFilter:m,stateFilter:g,onUsernameChange:h,onCityChange:x,onStateChange:v})]}),o?s.jsx("div",{className:"text-center py-8",children:"Loading referrals..."}):a.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-600 mb-4",children:"NO REFERRALS YET?"}),s.jsx("p",{className:"text-gray-500",children:"Share your link to get your first referral!"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:H.map(ee=>s.jsx(Gz,{user:ee},ee.id))}),re>1&&s.jsxs("div",{className:"flex justify-center gap-2 mt-6",children:[s.jsx(V,{onClick:()=>d(ee=>Math.max(1,ee-1)),disabled:c===1,variant:"outline",children:"Previous"}),s.jsxs("span",{className:"flex items-center px-4",children:["Page ",c," of ",re]}),s.jsx(V,{onClick:()=>d(ee=>Math.min(re,ee+1)),disabled:c===re,variant:"outline",children:"Next"})]})]})]}):s.jsx(Q,{children:s.jsx(X,{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500",children:"Please log in to view earning opportunities."})})})};var lf="Collapsible",[Jz,F4]=tr(lf),[Qz,Ey]=Jz(lf),$4=f.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:i,onOpenChange:o,...l}=e,[c,d]=as({prop:n,defaultProp:a??!1,onChange:o,caller:lf});return s.jsx(Qz,{scope:r,disabled:i,contentId:_s(),open:c,onOpenToggle:f.useCallback(()=>d(u=>!u),[d]),children:s.jsx(je.div,{"data-state":Ty(c),"data-disabled":i?"":void 0,...l,ref:t})})});$4.displayName=lf;var U4="CollapsibleTrigger",V4=f.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,a=Ey(U4,r);return s.jsx(je.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":Ty(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:t,onClick:we(e.onClick,a.onOpenToggle)})});V4.displayName=U4;var Py="CollapsibleContent",B4=f.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Ey(Py,e.__scopeCollapsible);return s.jsx(Ir,{present:r||a.open,children:({present:i})=>s.jsx(Xz,{...n,ref:t,present:i})})});B4.displayName=Py;var Xz=f.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:a,...i}=e,o=Ey(Py,r),[l,c]=f.useState(n),d=f.useRef(null),u=Le(t,d),h=f.useRef(0),m=h.current,x=f.useRef(0),g=x.current,v=o.open||l,w=f.useRef(v),b=f.useRef(void 0);return f.useEffect(()=>{const p=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(p)},[]),wt(()=>{const p=d.current;if(p){b.current=b.current||{transitionDuration:p.style.transitionDuration,animationName:p.style.animationName},p.style.transitionDuration="0s",p.style.animationName="none";const y=p.getBoundingClientRect();h.current=y.height,x.current=y.width,w.current||(p.style.transitionDuration=b.current.transitionDuration,p.style.animationName=b.current.animationName),c(n)}},[o.open,n]),s.jsx(je.div,{"data-state":Ty(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!v,...i,ref:u,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:v&&a})});function Ty(e){return e?"open":"closed"}var Zz=$4,eW=V4,tW=B4,Ts="Accordion",rW=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Ay,sW,nW]=Oh(Ts),[cf]=tr(Ts,[nW,F4]),Ry=F4(),z4=He.forwardRef((e,t)=>{const{type:r,...n}=e,a=n,i=n;return s.jsx(Ay.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?s.jsx(lW,{...i,ref:t}):s.jsx(oW,{...a,ref:t})})});z4.displayName=Ts;var[W4,aW]=cf(Ts),[q4,iW]=cf(Ts,{collapsible:!1}),oW=He.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},collapsible:i=!1,...o}=e,[l,c]=as({prop:r,defaultProp:n??"",onChange:a,caller:Ts});return s.jsx(W4,{scope:e.__scopeAccordion,value:He.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:He.useCallback(()=>i&&c(""),[i,c]),children:s.jsx(q4,{scope:e.__scopeAccordion,collapsible:i,children:s.jsx(H4,{...o,ref:t})})})}),lW=He.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...i}=e,[o,l]=as({prop:r,defaultProp:n??[],onChange:a,caller:Ts}),c=He.useCallback(u=>l((h=[])=>[...h,u]),[l]),d=He.useCallback(u=>l((h=[])=>h.filter(m=>m!==u)),[l]);return s.jsx(W4,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:d,children:s.jsx(q4,{scope:e.__scopeAccordion,collapsible:!0,children:s.jsx(H4,{...i,ref:t})})})}),[cW,df]=cf(Ts),H4=He.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:a,orientation:i="vertical",...o}=e,l=He.useRef(null),c=Le(l,t),d=sW(r),h=ll(a)==="ltr",m=we(e.onKeyDown,x=>{var S;if(!rW.includes(x.key))return;const g=x.target,v=d().filter(P=>{var C;return!((C=P.ref.current)!=null&&C.disabled)}),w=v.findIndex(P=>P.ref.current===g),b=v.length;if(w===-1)return;x.preventDefault();let p=w;const y=0,j=b-1,N=()=>{p=w+1,p>j&&(p=y)},k=()=>{p=w-1,p<y&&(p=j)};switch(x.key){case"Home":p=y;break;case"End":p=j;break;case"ArrowRight":i==="horizontal"&&(h?N():k());break;case"ArrowDown":i==="vertical"&&N();break;case"ArrowLeft":i==="horizontal"&&(h?k():N());break;case"ArrowUp":i==="vertical"&&k();break}const _=p%b;(S=v[_].ref.current)==null||S.focus()});return s.jsx(cW,{scope:r,disabled:n,direction:a,orientation:i,children:s.jsx(Ay.Slot,{scope:r,children:s.jsx(je.div,{...o,"data-orientation":i,ref:c,onKeyDown:n?void 0:m})})})}),uh="AccordionItem",[dW,Iy]=cf(uh),G4=He.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...a}=e,i=df(uh,r),o=aW(uh,r),l=Ry(r),c=_s(),d=n&&o.value.includes(n)||!1,u=i.disabled||e.disabled;return s.jsx(dW,{scope:r,open:d,disabled:u,triggerId:c,children:s.jsx(Zz,{"data-orientation":i.orientation,"data-state":Z4(d),...l,...a,ref:t,disabled:u,open:d,onOpenChange:h=>{h?o.onItemOpen(n):o.onItemClose(n)}})})});G4.displayName=uh;var K4="AccordionHeader",Y4=He.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=df(Ts,r),i=Iy(K4,r);return s.jsx(je.h3,{"data-orientation":a.orientation,"data-state":Z4(i.open),"data-disabled":i.disabled?"":void 0,...n,ref:t})});Y4.displayName=K4;var Gx="AccordionTrigger",J4=He.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=df(Ts,r),i=Iy(Gx,r),o=iW(Gx,r),l=Ry(r);return s.jsx(Ay.ItemSlot,{scope:r,children:s.jsx(eW,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":a.orientation,id:i.triggerId,...l,...n,ref:t})})});J4.displayName=Gx;var Q4="AccordionContent",X4=He.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,a=df(Ts,r),i=Iy(Q4,r),o=Ry(r);return s.jsx(tW,{role:"region","aria-labelledby":i.triggerId,"data-orientation":a.orientation,...o,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});X4.displayName=Q4;function Z4(e){return e?"open":"closed"}var uW=z4,hW=G4,fW=Y4,eT=J4,tT=X4;const mW=uW,rT=f.forwardRef(({className:e,...t},r)=>s.jsx(hW,{ref:r,className:_e("border-b border-border/50",e),...t}));rT.displayName="AccordionItem";const sT=f.forwardRef(({className:e,children:t,...r},n)=>s.jsx(fW,{className:"flex",children:s.jsxs(eT,{ref:n,className:_e("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:text-primary [&[data-state=open]>svg]:rotate-180 [&[data-state=open]]:text-primary",e),...r,children:[t,s.jsx(b0,{className:"h-4 w-4 shrink-0 transition-transform duration-300 ease-in-out text-muted-foreground"})]})}));sT.displayName=eT.displayName;const nT=f.forwardRef(({className:e,children:t,...r},n)=>s.jsx(tT,{ref:n,className:"overflow-hidden text-sm text-muted-foreground transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:s.jsx("div",{className:_e("pb-4 pt-0",e),children:t})}));nT.displayName=tT.displayName;const Aa=30,Wm=1e3,pW=10,nN=e=>e===1?"1st Place":e===2?"2nd Place":"3rd Place",qm=e=>{switch(e){case"tipper":return"Tipper";case"dime":return"Dime";case"referred_dime":return"Referred Dime";case"dime_referred_dime":return"Dimes Referrer Referrer";case"referred_dime_referrer":return"Referrer (2nd Place)";case"who_referred_tipper":return"Tipper Referrer";default:return"Winner"}},aN=["tipper","dime","referred_dime","who_referred_tipper","dime_referred_dime","referred_dime_referrer"],xW={1:["tipper","dime","referred_dime","who_referred_tipper","dime_referred_dime","referred_dime_referrer"],2:["referred_dime","dime_referred_dime","referred_dime_referrer","tipper","dime","who_referred_tipper"],3:["who_referred_tipper","referred_dime","dime_referred_dime","referred_dime_referrer","tipper","dime"]},iN={tipper:{label:"Tipper",helper:"Sent the original tip"},dime:{label:"Tipped (Dime)",helper:"Performer who received the tip"},referred_dime:{label:"Dimes Referrer",helper:"Brought the performer onto the platform"},who_referred_tipper:{label:"Tippers Referrer",helper:"Invited the tipper"},dime_referred_dime:{label:"Dimes Referrer Referrer",helper:"Second-level referrer on the performer side"},referred_dime_referrer:{label:"Override Recipient",helper:"Earned an override on this tip"}},Gd=(e,t=!1)=>{const r=new Date(e);return t?r.toLocaleString(void 0,{weekday:"short",month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"}):r.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})},gW=({userData:e})=>{var G,R,D,te;const[t,r]=f.useState(0),[n,a]=f.useState([]),[i,o]=f.useState(Aa),[l,c]=f.useState([]),[d,u]=f.useState({}),[h,m]=f.useState(0),[x,g]=f.useState("open"),[v,w]=f.useState(null),{toast:b}=Pe();f.useEffect(()=>{e!=null&&e.id&&(async()=>(await y(),await Promise.all([N(),S()])))()},[e==null?void 0:e.id]),f.useEffect(()=>{e!=null&&e.id&&v&&(N(),j())},[e==null?void 0:e.id,v]),f.useEffect(()=>{if(n.length===0){o(Aa);return}o(J=>Math.min(n.length,Math.max(Aa,J)))},[n]);const p=async(J,ae)=>{const K=[];let O=0;for(;O<pW;){const H=O*Wm,re=H+Wm-1,{data:ee,error:se}=await I.from("jackpot_tickets").select("code, created_at").eq("user_id",J).eq("pool_id",ae).order("created_at",{ascending:!1}).range(H,re);if(se)throw se;const T=ee||[];if(K.push(...T),T.length<Wm)break;O+=1}return K},y=async()=>{try{const{data:J,error:ae}=await I.from("v_jackpot_active_pool").select("total,status,pool_id,period_start,period_end").single();if(ae)throw ae;if(J){const K=J;m(Number(K.total)||0),g(K.status||"open"),w(K.pool_id||null)}}catch(J){console.error("Error fetching jackpot pool:",J),b({title:"Jackpot",description:"Could not load current pool.",variant:"destructive"})}},j=async()=>{try{if(!(e!=null&&e.id)||!v){r(0);return}const J=await p(e.id,v),ae=new Set(J.map(K=>K.code).filter(Boolean)).size;r(ae)}catch(J){console.error("Error fetching my tickets (by active pool):",J)}},N=async()=>{try{if(!(e!=null&&e.id)||!v){a([]),r(0);return}const J=await p(e.id,v),ae=new Map;J.forEach(O=>{O.code&&(ae.has(O.code)||ae.set(O.code,O.created_at?new Date(O.created_at).toISOString():null))});const K=Array.from(ae.entries()).map(([O,H])=>({code:O,created_at:H}));a(K),r(K.length),o(Math.min(Aa,K.length))}catch(J){console.error("Error fetching ticket codes:",J)}},k=J=>(J==null?void 0:J.username)||"",_=async J=>{try{const{data:ae,error:K}=await I.from("users").select("id, username, first_name, last_name, profile_photo").in("id",J);if(K)throw K;const O={};(ae||[]).forEach(H=>{O[H.id]={name:k(H)||H.id,avatar_url:H.profile_photo??null}}),u(H=>({...H,...O}))}catch(ae){console.error("Error loading user profiles:",ae)}},S=async()=>{try{const{data:J,error:ae}=await I.from("v_jackpot_latest_winners").select("draw_id,drawn_code,executed_at,user_id,role,place,percentage,amount,status").order("executed_at",{ascending:!1}).limit(60);if(ae)throw ae;const K=J||[],O=new Map,H=K.map(T=>({draw_id:String(T.draw_id),drawn_code:T.drawn_code??null,executed_at:String(T.executed_at),user_id:T.user_id?String(T.user_id):null,username:null,profile_photo:null,role:T.role,place:Number(T.place),percentage:T.percentage===null?null:Number(T.percentage||0),amount:T.amount===null?null:Number(T.amount||0),status:T.status??"pending"}));H.forEach(T=>{const z=T.draw_id;O.has(z)||O.set(z,{drawId:z,executedAt:T.executed_at,drawnCode:T.drawn_code,winners:[]}),O.get(z).winners.push(T)});const re=Array.from(O.values()).sort((T,z)=>new Date(z.executedAt).getTime()-new Date(T.executedAt).getTime());c(re);const ee={};H.forEach(T=>{T.user_id&&(ee[T.user_id]={name:T.username||qm(T.role)||T.user_id,avatar_url:T.profile_photo??null})}),Object.keys(ee).length>0&&u(T=>({...T,...ee}));const se=Array.from(new Set(H.map(T=>T.user_id).filter(T=>!!T)));se.length>0&&await _(se)}catch(J){console.error("Error fetching winners:",J),b({title:"Jackpot",description:"Could not load winners.",variant:"destructive"})}},P=J=>Number(J||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),C=(J,ae)=>{var K;if(J){const O=(K=d[J])==null?void 0:K.name;if(O&&O.trim().length>0)return O}return ae},A=f.useMemo(()=>l.length>0?l[0]:null,[l]),L=f.useMemo(()=>l.length>1?l.slice(1):[],[l]),F=f.useMemo(()=>A?aN.reduce((J,ae)=>{var H;const K=A.winners.find(re=>re.role===ae);if(!K)return J;const O=iN[ae];return J.push({key:`${K.draw_id}-${ae}-${K.user_id??"n/a"}`,role:ae,name:C(K.user_id,K.username||O.label||"Participant"),avatar:K.user_id?((H=d[K.user_id])==null?void 0:H.avatar_url)??null:K.profile_photo??null,helper:O.helper}),J},[]):[],[A,d]),E=f.useMemo(()=>{if(!A)return[];const J={1:[],2:[],3:[]},ae=(K,O)=>{const H=xW[K]??[],re=ee=>{const se=H.indexOf(ee);if(se!==-1)return se;const T=aN.indexOf(ee);return H.length+(T===-1?99:T)};return[...O].sort((ee,se)=>re(ee.role)-re(se.role))};return A.winners.forEach(K=>{J[K.place].push(K)}),[{place:1,winners:ae(1,J[1])},{place:2,winners:ae(2,J[2])},{place:3,winners:ae(3,J[3])}].filter(K=>K.winners.length>0)},[A]),W=(J,ae=!0)=>{var se;const K=J.username||qm(J.role)||J.user_id||"Winner",O=C(J.user_id,K),H=(J.user_id?(se=d[J.user_id])==null?void 0:se.avatar_url:void 0)??J.profile_photo??void 0,re=nN(J.place),ee=(()=>{if(J.place===2){if(J.role==="dime_referred_dime")return"Referred Dime";if(J.role==="referred_dime_referrer")return"Dimes Referrer Referrer"}return qm(J.role)})();return s.jsxs("div",{className:"p-3 bg-gradient-to-r from-yellow-50 to-orange-50 rounded-lg border border-yellow-200",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[s.jsxs(Tr,{className:"w-12 h-12 flex-shrink-0",children:[H?s.jsx(Ar,{src:H,alt:O}):null,s.jsx(Rr,{children:((O==null?void 0:O[0])||(ee==null?void 0:ee[0])||"U").toUpperCase()})]}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("div",{className:"font-semibold text-gray-900 truncate",children:O}),s.jsx("div",{className:"text-xs text-gray-500 capitalize",children:ee})]})]}),s.jsx("div",{className:"flex items-center justify-between sm:justify-end gap-3",children:s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-xl sm:text-2xl font-bold text-green-600 leading-tight",children:["$",P(J.amount)]}),ae&&s.jsx(ce,{variant:"outline",className:"text-xs mt-1",children:re})]})})]}),s.jsx("div",{className:"text-xs text-gray-600 mt-2 pt-2 border-t border-yellow-200/50",children:s.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-1",children:[s.jsxs("span",{children:["Won on ",Gd(J.executed_at)]}),s.jsxs("span",{children:["Draw Code: ",J.drawn_code||""]})]})})]},`${J.draw_id}-${J.user_id??J.role}-${J.place}`)},U=n.slice(0,i),Y=i<n.length,M=i>Aa;return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Q,{className:"shadow-lg border-0",children:s.jsxs(X,{className:"p-6",children:[s.jsxs("h4",{className:"text-gray-900 font-semibold mb-4 flex items-center gap-2",children:[s.jsx(At,{className:"w-4 h-4 text-blue-600"}),"Profile Stats Detail"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:((G=e.user_type)==null?void 0:G.charAt(0).toUpperCase())+(((R=e.user_type)==null?void 0:R.slice(1))||"")}),s.jsx("div",{className:"text-sm text-gray-600",children:"User Type"})]}),s.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:((D=e.gender)==null?void 0:D.charAt(0).toUpperCase())+(((te=e.gender)==null?void 0:te.slice(1))||"N/A")}),s.jsx("div",{className:"text-sm text-gray-600",children:"Gender"})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:t}),s.jsx("div",{className:"text-sm text-gray-600",children:"Tickets This Week"})]}),s.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:x.toUpperCase()}),s.jsx("div",{className:"text-sm text-gray-600",children:"Pool Status"})]})]})]})}),s.jsx(Q,{className:"bg-gradient-to-r from-red-500 via-red-600 to-red-700 text-white",children:s.jsxs(X,{className:"p-8 text-center",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx(at,{className:"w-16 h-16 mx-auto mb-4 text-red-200"}),s.jsx("h2",{className:"text-4xl font-bold mb-2",children:"JACKPOT"}),s.jsxs("div",{className:"text-6xl font-bold mb-2",children:["$",P(h)]}),s.jsx("p",{className:"text-xl text-red-100",children:"Current Jackpot Amount"})]}),s.jsxs("div",{className:"bg-white/20 rounded-lg p-4 mb-4",children:[s.jsx("p",{className:"text-lg mb-2",children:"When pool reaches $1,000"}),s.jsx("p",{className:"text-xl font-bold",children:"Saturday 12:00 am drawing"}),s.jsxs("p",{className:"text-sm mt-2",children:["$",P(Math.max(0,1e3-h))," to go  One code, 1st/2nd/3rd win  Rollover if no match"]})]}),s.jsxs("div",{className:"space-y-2 text-left bg-white/10 rounded-lg p-4",children:[s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx("span",{children:""})," Every $1 = 1 ticket (min $5 per tip)"]}),s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx("span",{children:""})," Weekly drawing (Saturday 12:00 am). If no match, 100% rolls to next week."]}),s.jsxs("div",{className:"mt-4 flex flex-col items-center space-y-2",children:[s.jsx("video",{className:"w-64 h-64 md:w-80 md:h-80 object-cover rounded-lg shadow-lg border-4 border-yellow-400 hover:border-yellow-300 transition-colors",src:"https://dimesonlyworld.s3.us-east-2.amazonaws.com/Tip+and+Win+(1).mp4",autoPlay:!0,loop:!0,muted:!0,playsInline:!0,controlsList:"nodownload",onContextMenu:J=>J.preventDefault()}),s.jsxs("p",{className:"text-sm text-center max-w-md",children:["View winners and live drawings on YouTube Live"," ",s.jsxs("a",{href:"https://www.youtube.com/@DimesOnlyWorld",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 underline hover:text-red-200",children:["Click Here to Subscribe ",s.jsx(UL,{className:"w-3 h-3"})]})]})]})]})]})}),s.jsxs(Q,{children:[s.jsx(de,{children:s.jsxs(ue,{className:"flex itemswner:flex-start gap-2",children:[s.jsx(Dd,{className:"w-5 h-5"}),"Your Current Tickets"]})}),s.jsx(X,{children:s.jsxs("div",{className:"text-center p-6",children:[s.jsx("div",{className:"text-4xl font-bold text-blue-600 mb-2",children:t}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Tickets for upcoming drawing"}),s.jsx(ce,{variant:"outline",className:"text-sm",children:"$1 = 1 ticket  min $5 per tip"})]})})]}),s.jsxs(Q,{children:[s.jsx(de,{children:s.jsxs(ue,{className:"flex items-center gap-2",children:[s.jsx(Dd,{className:"w-5 h-5"}),"Your Ticket Codes (This Week)"]})}),s.jsx(X,{children:n.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:U.map((J,ae)=>s.jsxs("div",{className:"rounded-md border border-neutral-200 bg-neutral-50 p-3 text-center",children:[s.jsx(ce,{variant:"secondary",className:"justify-center text-sm mb-2",children:J.code}),s.jsx("div",{className:"text-xs text-neutral-500",children:J.created_at?`Bought ${Gd(J.created_at,!0)}`:"Purchase time unavailable"})]},ae))}),(Y||M)&&s.jsxs("div",{className:"flex justify-center gap-2 mt-4",children:[Y&&s.jsx(V,{variant:"outline",size:"sm",onClick:()=>o(J=>Math.min(J+Aa,n.length)),children:"Show more"}),M&&s.jsx(V,{variant:"ghost",size:"sm",onClick:()=>o(Aa),children:"Show less"})]})]}):s.jsxs("div",{className:"text-center text-gray-500",children:[s.jsx(Dd,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No tickets yet. Tip to earn your first ticket!"})]})})]}),F.length>0&&s.jsxs(Q,{children:[s.jsx(de,{children:s.jsxs(ue,{className:"flex items-center gap-2",children:[s.jsx(Dd,{className:"w-5 h-5"}),"Jackpot Ticket Tree"]})}),s.jsxs(X,{children:[s.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:F.map(J=>s.jsx("div",{className:"border rounded-lg p-3 bg-gradient-to-r from-yellow-50 to-orange-50",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Tr,{className:"w-10 h-10",children:[J.avatar?s.jsx(Ar,{src:J.avatar,alt:J.name}):null,s.jsx(Rr,{children:J.name.slice(0,1).toUpperCase()})]}),s.jsxs("div",{className:"flex-1 space-y-1 min-w-0",children:[s.jsx("p",{className:"font-semibold text-gray-900 truncate",children:J.name}),s.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-600",children:iN[J.role].label}),J.helper?s.jsx("p",{className:"text-xs text-gray-500",children:J.helper}):null]})]})},J.key))}),s.jsx("p",{className:"text-xs text-gray-500 mt-4",children:"All recipients share the same ticket code generated by the tip that created this draw entry."})]})]}),s.jsxs(Q,{children:[s.jsx(de,{children:s.jsxs(ue,{className:"flex items-center gap-2",children:[s.jsx(Bs,{className:"w-5 h-5"}),"Latest Winners"]})}),s.jsx(X,{children:A?s.jsxs("div",{className:"space-Y-6",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 text-sm text-gray-600",children:[s.jsxs("span",{children:["Drawn on ",Gd(A.executedAt,!0)]}),s.jsxs("span",{children:["Draw Code: ",A.drawnCode||""]})]}),E.map(J=>s.jsxs("section",{className:"space-y-3",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:nN(J.place)}),J.winners.map(ae=>W(ae,!0))]},J.place)),L.length===0&&s.jsx("p",{className:"text-sm text-gray-500",children:"No previous draws to display yet."})]}):s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Bs,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No winners yet  be the first!"})]})})]}),L.length>0&&s.jsxs(Q,{children:[s.jsx(de,{children:s.jsxs(ue,{className:"flex items-center gap-2",children:[s.jsx(Bs,{className:"w-5 h-5"}),"Previous Draw Winners"]})}),s.jsx(X,{children:s.jsx(mW,{type:"single",collapsible:!0,className:"space-y-2",children:L.map(J=>s.jsxs(rT,{value:J.drawId,children:[s.jsx(sT,{className:"text-left",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between w-full gap-2",children:[s.jsxs("span",{className:"font-medium text-gray-900",children:["Drawn on ",Gd(J.executedAt,!0)]}),s.jsxs("span",{className:"text-sm text-gray-600",children:["Draw Code: ",J.drawnCode||""]})]})}),s.jsx(nT,{children:s.jsx("div",{className:"space-y-3 pt-2",children:J.winners.map(ae=>W(ae,!0))})})]},J.drawId))})})]})]})},yW=({userData:e})=>{Pe();const[t,r]=f.useState([]),[n,a]=f.useState(!0),i=e.user_type==="stripper"||e.user_type==="exotic",o=e.diamond_plus_active,l=t.reduce((m,x)=>m+x.current_count,0),c=1e3,d=c-l;f.useEffect(()=>{t.length>0&&(console.log("Membership limits:",t),console.log("Total max count:",c),console.log("Total current count:",l),console.log("Spots left:",d))},[t,c,l,d]),f.useEffect(()=>{i&&!o&&u()},[i,o]);const u=async()=>{try{console.log("Fetching actual Diamond Plus user count...");const{count:m,error:x}=await I.from("users").select("id",{count:"exact",head:!0}).eq("diamond_plus_active",!0).in("user_type",["exotic","stripper"]);console.log("Diamond Plus user count result:",{diamondPlusCount:m,countError:x}),x?(console.error("Error fetching Diamond Plus user count:",x),r([{membership_type:"diamond_plus",user_type:"combined",current_count:0,max_count:1e3}])):r([{membership_type:"diamond_plus",user_type:"combined",current_count:m||0,max_count:1e3}])}catch(m){console.error("Error fetching Diamond Plus user count:",m),r([{membership_type:"diamond_plus",user_type:"combined",current_count:0,max_count:1e3}])}finally{a(!1)}},h=()=>{window.location.href="/upgrade-diamond"};return!i||o||d<=0||n?null:s.jsxs(Q,{className:"bg-gradient-to-r from-yellow-400 to-orange-400 text-black mb-6 shadow-lg",children:[s.jsx(de,{className:"pb-3",children:s.jsxs(ue,{className:"flex items-center gap-2 text-xl font-bold",children:[s.jsx(at,{className:"w-6 h-6"}),"DIAMOND PLUS"]})}),s.jsxs(X,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-3xl font-bold",children:"$349.99"}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-sm font-medium",children:["Only ",Math.max(0,d)," spots left!"]}),s.jsx("div",{className:"text-xs opacity-80",children:"No referral fees attached"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Tt,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"PayPal button complete upgrades status"})]}),s.jsx("div",{className:"text-sm font-medium",children:"Installment option:"}),s.jsxs("div",{className:"ml-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(fr,{className:"w-4 h-4"}),s.jsx("span",{children:"$149.00"})]}),s.jsxs("div",{className:"ml-6 text-xs space-y-1",children:[s.jsx("div",{children:"2 installments include $11.73 installment fee"}),s.jsx("div",{children:"$111.73 per installment"})]})]})]}),s.jsxs(V,{onClick:h,className:"w-full bg-black hover:bg-gray-800 text-white font-bold py-3 text-lg shadow-md",children:[s.jsx(at,{className:"w-5 h-5 mr-2"}),"DIAMOND PLUS"]}),s.jsx("div",{className:"text-xs text-center opacity-80",children:"When transaction is complete, update to Diamond Plus"})]})]})},vW=({userData:e,onMembershipUpdate:t})=>{const[r,n]=f.useState(null),[a,i]=f.useState(!1),[o,l]=f.useState(null),{toast:c}=Pe();f.useEffect(()=>{(async()=>{try{const{data:g,error:v}=await I.rpc("check_silver_plus_availability");if(v)throw v;if(g&&Array.isArray(g)&&g.length>0){const w=g[0];l({available:w.available,current_count:w.current_count,max_count:w.max_count,remaining:w.remaining})}}catch(g){console.error("Error fetching Silver+ availability:",g)}})()},[]);const d=e.gender==="male"||e.gender==="female"&&e.user_type==="normal",u=e.silver_plus_active===!0;f.useEffect(()=>{d&&h()},[e.id,d]);const h=async()=>{try{const{data:x,error:g}=await I.rpc("get_silver_plus_membership_info",{user_id_param:e.id});if(g){console.error("Error fetching Silver Plus info:",g);return}x&&Array.isArray(x)&&x.length>0&&n(x[0])}catch(x){console.error("Error fetching Silver Plus info:",x)}},m=async()=>{i(!0);try{const{data:x,error:g}=await I.rpc("check_silver_plus_availability");if(g)throw new Error("Failed to check availability");if(x&&Array.isArray(x)&&x.length>0&&!x[0].available){c({title:"Silver Plus Unavailable",description:"All 3,000 Silver Plus memberships have been claimed. It will become an annual subscription soon.",variant:"destructive"});return}window.location.href=`/upgrade-silver-plus?user_id=${e.id}`}catch(x){console.error("Error checking Silver Plus availability:",x),c({title:"Error",description:"Failed to check Silver Plus availability",variant:"destructive"})}finally{i(!1)}};return d?o&&!o.available?s.jsxs(Q,{className:"bg-gradient-to-r from-purple-50 to-blue-50 border-purple-200",children:[s.jsxs(de,{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx(at,{className:"w-6 h-6 text-purple-600"}),s.jsx(ue,{className:"text-purple-800",children:"Silver Plus Subscription"})]}),s.jsx(ce,{variant:"secondary",className:"bg-purple-600 text-white",children:"Now Available: Annual or Monthly"})]}),s.jsxs(X,{className:"flex flex-col items-center text-center",children:[s.jsxs("p",{className:"text-purple-700 mb-4",children:["All 3,000 lifetime Silver Plus memberships have been claimed.",s.jsx("br",{}),"You can now join as a Silver Plus subscriber!"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6 text-sm w-full max-w-md mx-auto",children:[s.jsxs("div",{className:"flex flex-col items-center p-4 border rounded-lg bg-white/80",children:[s.jsx("span",{className:"font-bold text-lg text-purple-700 mb-1",children:"Annual"}),s.jsx("span",{className:"text-2xl font-bold text-purple-800 mb-1",children:"$39.99/year"}),s.jsx("span",{className:"text-xs text-gray-500",children:"Billed yearly, cancel anytime"})]}),s.jsxs("div",{className:"flex flex-col items-center p-4 border rounded-lg bg-white/80",children:[s.jsx("span",{className:"font-bold text-lg text-purple-700 mb-1",children:"Monthly"}),s.jsx("span",{className:"text-2xl font-bold text-purple-800 mb-1",children:"$4.99/month"}),s.jsx("span",{className:"text-xs text-gray-500",children:"Billed monthly, cancel anytime"})]})]}),s.jsxs("div",{className:"w-full flex flex-col gap-2 max-w-xs",children:[s.jsx(V,{className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white font-bold px-8 py-3 text-lg shadow-lg w-full rounded-full mb-2",disabled:!0,children:"Subscribe (Coming Soon)"}),s.jsx("span",{className:"text-xs text-gray-400",children:"Subscription payments will be available soon."})]}),s.jsxs("div",{className:"mt-6 text-left w-full max-w-md mx-auto",children:[s.jsx("h4",{className:"font-semibold text-purple-700 mb-2",children:"Silver Plus Referral & Compensation"}),s.jsxs("ul",{className:"list-disc ml-6 text-sm text-purple-800 space-y-1",children:[s.jsx("li",{children:"One Year of Flame Flix Subscription in Phase 6"}),s.jsxs("li",{children:[s.jsx("b",{children:"10%"})," discount site wide forever from all Dimes Only related products and serices."]}),s.jsx("li",{children:"Get Overrides from Strippers and Exotics"}),s.jsxs("li",{children:["Earn ",s.jsx("b",{children:"20%"})," of tips from all your strippers & exotics."]}),s.jsxs("li",{children:["Earn ",s.jsx("b",{children:"10%"})," override from your referrals' purchases of all products & services"]}),s.jsx("li",{children:"View nude photos & videos from strippers & exotics"})]})]})]})]}):u?s.jsxs(Q,{className:"bg-gradient-to-r from-slate-100 to-slate-200 border-slate-300",children:[s.jsxs(de,{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx(at,{className:"w-6 h-6 text-slate-600"}),s.jsx(ue,{className:"text-slate-800",children:"Silver Plus Member"})]}),s.jsxs(ce,{variant:"secondary",className:"bg-slate-600 text-white",children:["Member #",e.silver_plus_membership_number||"N/A"]})]}),s.jsxs(X,{className:"text-center",children:[s.jsx("p",{className:"text-slate-700 mb-4",children:"You are a lifetime Silver Plus member! Enjoy exclusive benefits and features."}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(lr,{className:"w-4 h-4 text-slate-600"}),s.jsx("span",{children:"Premium Access"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ut,{className:"w-4 h-4 text-slate-600"}),s.jsx("span",{children:"Exclusive Content"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(cw,{className:"w-4 h-4 text-slate-600"}),s.jsx("span",{children:"Priority Support"})]})]})]})]}):s.jsxs(Q,{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-blue-200",children:[s.jsxs(de,{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx(at,{className:"w-6 h-6 text-blue-600"}),s.jsx(ue,{className:"text-blue-800",children:"Get Silver Plus Membership"})]}),s.jsxs(ce,{variant:"secondary",className:"bg-blue-600 hover:bg-blue-600 text-white",children:["Limited Time: Only ",(o==null?void 0:o.remaining.toLocaleString())||"3,000"," Available"]})]}),s.jsxs(X,{className:"flex flex-col items-center text-center",children:[s.jsx("p",{className:"text-blue-700 mb-4",children:"Join the exclusive Silver Plus membership for a one-time fee and unlock premium features for life!"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6 text-sm w-full max-w-md mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[s.jsx(lr,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{children:"Lifetime Access"})]}),s.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[s.jsx(Ut,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{children:"Exclusive Content"})]}),s.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[s.jsx(cw,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{children:"Priority Support"})]})]}),s.jsx("div",{className:"w-full flex justify-center",children:s.jsx(V,{onClick:m,disabled:a,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-bold px-8 py-3 text-lg shadow-lg w-full max-w-xs rounded-full",children:a?"Checking Availability...":"Get Silver Plus Membership"})})]})]}):null},bW=()=>{const[e,t]=f.useState(null),[r,n]=f.useState(!0);f.useEffect(()=>{a();const l=I.channel("silver_plus_updates").on("postgres_changes",{event:"*",schema:"public",table:"users",filter:"silver_plus_active=eq.true"},c=>{a()}).subscribe();return()=>{I.removeChannel(l)}},[]);const a=async()=>{try{n(!0);const{data:l,error:c}=await I.rpc("check_silver_plus_availability");if(c){console.error("Error fetching Silver Plus counter:",c);return}if(l&&Array.isArray(l)&&l.length>0){const d=l[0];t({current_count:d.current_count,max_count:d.max_count,available:d.available,remaining:d.max_count-d.current_count})}}catch(l){console.error("Error fetching Silver Plus counter:",l)}finally{n(!1)}};if(r)return s.jsx(Q,{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-blue-200",children:s.jsx(X,{className:"text-center py-6",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})})});if(!e)return s.jsx(Q,{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-blue-200",children:s.jsx(X,{className:"text-center py-6",children:s.jsx("p",{children:"Unable to load counter data"})})});const i=e.max_count-e.current_count,o=e.current_count/e.max_count*100;return s.jsxs("div",{className:"w-full",children:[s.jsxs("div",{className:"text-center mb-2",children:[s.jsxs("p",{className:"text-2xl font-bold text-blue-700",children:[i.toLocaleString(),s.jsxs("span",{className:"text-base font-normal text-blue-600",children:[" of ",e.max_count.toLocaleString()]})]}),s.jsx("p",{className:"text-blue-700 text-sm",children:"Silver Plus memberships remaining"})]}),s.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2.5 mb-2",children:s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${o}%`}})}),s.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-blue-700",children:[s.jsx(Ut,{className:"w-3.5 h-3.5"}),s.jsxs("span",{children:[e.current_count.toLocaleString()," members joined"]})]}),!e.available&&s.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsx("p",{className:"text-red-700 text-sm font-medium",children:"All Silver Plus memberships have been claimed! It will become an annual subscription soon."})})]})},oN=e=>{if(!e)return"";try{const t=new Date(e);return isNaN(t.getTime())?"":t.toLocaleString()}catch{return""}};function wW({userId:e}){const[t,r]=f.useState(!0),[n,a]=f.useState([]),[i,o]=f.useState(null);f.useEffect(()=>{(async()=>{var u;try{r(!0),o(null);let h=e;if(!h){const{data:g}=await I.auth.getUser();h=(u=g.user)==null?void 0:u.id}if(!h){a([]);return}const{data:m,error:x}=await I.from("subscriptions").select("*").eq("user_id",h).order("updated_at",{ascending:!1});if(x){console.error("subscriptions fetch error",x),o("We couldn't load your subscription right now."),a([]);return}a(m||[])}finally{r(!1)}})()},[e]);const l=f.useMemo(()=>n.find(d=>d.tier==="diamond"&&d.cadence==="yearly"),[n]);if(t)return s.jsx(Q,{className:"mb-6",children:s.jsxs(de,{children:[s.jsx(ue,{children:"Subscription Progress"}),s.jsx(qs,{children:"Loading"})]})});if(i)return s.jsxs(Q,{className:"mb-6",children:[s.jsxs(de,{children:[s.jsx(ue,{children:"Subscription Progress"}),s.jsx(qs,{className:"text-red-600",children:i})]}),s.jsx(X,{children:s.jsx("div",{className:"text-sm text-slate-600",children:"Please refresh, or try again later."})})]});if(!l)return null;const c=l.total_cycles?`${l.cycles_paid}/${l.total_cycles}`:`${l.cycles_paid}`;return s.jsxs(Q,{className:"mb-6",children:[s.jsx(de,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"Diamond Yearly Subscription"}),s.jsx(qs,{children:l.billing_option==="split"?"Yearly (Split every 4 months)":"Yearly (Full)"})]}),s.jsx(ce,{variant:"secondary",className:"uppercase",children:l.status||"unknown"})]})}),s.jsx(X,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-4 bg-slate-50 rounded-md border",children:[s.jsx("div",{className:"text-sm text-slate-500",children:"Progress"}),s.jsx("div",{className:"text-2xl font-semibold",children:c})]}),s.jsxs("div",{className:"p-4 bg-slate-50 rounded-md border",children:[s.jsx("div",{className:"text-sm text-slate-500",children:"Next Billing"}),s.jsx("div",{className:"text-base",children:oN(l.next_billing_time)})]}),s.jsxs("div",{className:"p-4 bg-slate-50 rounded-md border",children:[s.jsx("div",{className:"text-sm text-slate-500",children:"Membership Expires"}),s.jsx("div",{className:"text-base",children:oN(l.membership_expires_at)})]})]})})]})}const jW=()=>{const[e,t]=f.useState(null),[r,n]=f.useState(!0),{user:a,setUser:i}=Es(),{toast:o}=Pe(),{isMobile:l,getContainerClasses:c,getContentClasses:d,getCardClasses:u,getPaddingClasses:h}=ki(),m=pt(),[x,g]=f.useState(!1);f.useEffect(()=>{a!=null&&a.id?w(a.id):v()},[a==null?void 0:a.id]),f.useEffect(()=>{(async()=>{if(e!=null&&e.id)try{const{data:_,error:S}=await I.from("subscriptions").select("tier,status").eq("user_id",e.id).order("updated_at",{ascending:!1});if(S){console.warn("Failed to read subscriptions:",S.message),g(!1);return}const P=(_||[]).some(C=>{const A=C.tier==="diamond",L=(C.status||"").toString().toUpperCase(),F=L.includes("CANCEL")||L.includes("EXPIRE")||L.includes("SUSPEND");return A&&!F});g(P)}catch(_){console.warn("Subscriptions check failed:",_),g(!1)}})()},[e==null?void 0:e.id]);const v=async()=>{try{const{data:{user:k}}=await I.auth.getUser();k!=null&&k.id&&await w(k.id)}catch(k){console.error("Error getting current user:",k),n(!1)}},w=async k=>{try{n(!0);const{data:_,error:S}=await I.from("users").select("*").eq("id",k).single();return S?(console.error("Error fetching user data:",S),!1):_?(t(_),!0):!1}catch(_){return console.error("Error fetching user data:",_),o({title:"Error",description:"Failed to load user data",variant:"destructive"}),!1}finally{n(!1)}},b=async k=>{if(!(e!=null&&e.id))return console.error("No user ID available for update"),!1;console.log("Attempting to update user data:",{userId:e.id,updatedData:k,originalData:e});try{const{data:_,error:S}=await I.from("users").update(k).eq("id",e.id).select();return console.log("Supabase update response:",{data:_,error:S}),S?(console.error("Supabase error updating user data:",S),o({title:"Error",description:`Failed to update profile: ${S.message}`,variant:"destructive"}),!1):_&&_.length>0?(console.log("Update successful, new data:",_[0]),t(_[0]),o({title:"Success",description:"Profile updated successfully"}),!0):(console.log("No data returned from update, refetching..."),await w(e.id)?(o({title:"Success",description:"Profile updated successfully"}),!0):(o({title:"Warning",description:"Profile may have been updated, but couldn't verify",variant:"destructive"}),!1))}catch(_){return console.error("Exception updating user data:",_),o({title:"Error",description:"Failed to update profile",variant:"destructive"}),!1}},p=async(k,_)=>{if(e!=null&&e.username)try{const S=k.name.split(".").pop(),P=`profiles/${e.username}/${_}.${S}`,{data:C,error:A}=await I.storage.from("user-photos").upload(P,k,{cacheControl:"3600",upsert:!0});if(A)throw A;const{data:{publicUrl:L}}=I.storage.from("user-photos").getPublicUrl(P);await b({[_==="profile"?"profile_photo":_==="banner"?"banner_photo":"front_page_photo"]:L})}catch(S){console.error("Error uploading image:",S),o({title:"Error",description:"Failed to upload image",variant:"destructive"})}},y=async()=>{try{await I.auth.signOut(),localStorage.removeItem("authToken"),sessionStorage.removeItem("userData"),sessionStorage.removeItem("currentUser"),i(null),o({title:"Logged out successfully",description:"You have been logged out of your account"}),m("/login",{replace:!0})}catch(k){console.error("Error logging out:",k),o({title:"Error",description:"Failed to logout properly",variant:"destructive"})}};if(r)return s.jsx(Xt,{children:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto"})})});if(!e)return s.jsx(Xt,{children:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 flex items-center justify-center",children:s.jsx("p",{className:"text-gray-600",children:"User data not found"})})});const j=(e.user_type||"").toLowerCase(),N=["stripper","exotic"].includes(j)?"https://dimesonlyworld.s3.us-east-2.amazonaws.com/Dimes+Dashboard.webm":"https://dimesonlyworld.s3.us-east-2.amazonaws.com/home+page.mp4";return s.jsx(Xt,{children:s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[s.jsx("div",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:c(),children:s.jsxs("div",{className:`flex justify-between items-center py-4 px-4 ${d()}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(pn,{className:"w-8 h-8 md:w-10 md:h-10 text-red-600 fill-current"}),s.jsx("h1",{className:"text-xl md:text-2xl font-bold text-red-600",children:"Dimes"})]}),s.jsx("div",{className:"hidden md:flex items-center",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Welcome Back ",e.username||"User"]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"md:hidden",children:s.jsxs("p",{className:"text-xs text-gray-600 text-right",children:["Welcome ",e.username||"User"]})}),s.jsx(V,{onClick:y,variant:"ghost",size:"sm",className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50",title:"Logout",children:s.jsx(GL,{className:"w-5 h-5"})})]})]})})}),s.jsx("div",{className:`${l?"py-4":"py-8"}`,children:s.jsx(zB,{srcDesktop:N,srcMobile:N,thumbnailUrl:"https://dimesonly.s3.us-east-2.amazonaws.com/HOUSING-ANGELS+(1).png"})}),s.jsxs("div",{className:`${c()} py-0`,children:[s.jsx(yW,{userData:e}),s.jsx(wW,{userId:e.id}),e&&(e.gender==="male"||e.gender==="female"&&e.user_type==="normal")&&!e.silver_plus_active&&s.jsx(Q,{className:"bg-gradient-to-br from-blue-900 to-blue-700 text-white mb-6",children:s.jsx(X,{className:"p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-center",children:[s.jsxs("div",{className:"w-full md:w-1/3",children:[s.jsx("h3",{className:"text-2xl font-bold mb-4 text-center md:text-left",children:"Silver Plus Memberships"}),s.jsx("div",{className:"text-yellow-300 text-sm mb-4 text-center md:text-left",children:"Limited Time Offer"}),s.jsx("div",{className:"bg-black/30 p-4 rounded-lg",children:s.jsx(bW,{})})]}),s.jsxs("div",{className:"w-full md:w-2/3",children:[s.jsx("h4",{className:"font-semibold text-yellow-300 text-lg mb-3",children:"Silver Plus Referral & Compensation"}),s.jsxs("ul",{className:"space-y-3 text-sm",children:[s.jsxs("li",{className:"flex items-start",children:[s.jsx(Mi,{className:"w-4 h-4 mt-0.5 mr-2 text-green-400 flex-shrink-0"}),s.jsx("span",{children:"One Year of Flame Flix Subscription in Phase 6"})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx(Mi,{className:"w-4 h-4 mt-0.5 mr-2 text-green-400 flex-shrink-0"}),s.jsxs("span",{children:[s.jsx("b",{children:"10%"})," discount site wide forever from all Dimes Only related products and services."]})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx(Mi,{className:"w-4 h-4 mt-0.5 mr-2 text-green-400 flex-shrink-0"}),s.jsx("span",{children:"Get Overrides from Strippers and Exotics"})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx(Mi,{className:"w-4 h-4 mt-0.5 mr-2 text-green-400 flex-shrink-0"}),s.jsxs("span",{children:["Earn ",s.jsx("b",{children:"20%"})," of tips from all your strippers & exotics."]})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx(Mi,{className:"w-4 h-4 mt-0.5 mr-2 text-green-400 flex-shrink-0"}),s.jsxs("span",{children:["Earn ",s.jsx("b",{children:"10%"})," override from your referrals' purchases of all products & services"]})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx(Mi,{className:"w-4 h-4 mt-0.5 mr-2 text-green-400 flex-shrink-0"}),s.jsx("span",{children:"View nude photos & videos from strippers & exotics"})]})]})]})]})})}),e&&s.jsx("div",{className:"mb-6",children:s.jsx(vW,{userData:e,onMembershipUpdate:t})}),s.jsx(Q,{className:`${l?"mb-4 mx-0 rounded-none":"mb-8"} overflow-hidden`,children:s.jsx(BB,{bannerPhoto:e.banner_photo,userData:e,onImageUpload:k=>p(k,"banner")})}),s.jsx("div",{className:"my-6 flex justify-center",children:s.jsx(V,{asChild:!0,className:"bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 text-white font-bold px-8 py-3 text-lg shadow-lg","aria-label":"Upgrade Membership",children:s.jsx("a",{href:"/upgrade",children:"Upgrade Membership"})})}),s.jsx(Q,{className:u(),children:s.jsxs(sf,{defaultValue:"profile",className:"w-full",children:[s.jsx("div",{className:"border-b bg-gray-50",children:s.jsxs(td,{className:"w-full bg-transparent p-4 h-auto grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-7 gap-3",children:[s.jsxs(vt,{value:"profile",className:"group flex flex-col items-center justify-center gap-1 sm:gap-2 px-3 py-3 sm:py-4 rounded-xl border border-gray-200 bg-white text-gray-700 shadow-sm hover:shadow-md transition-transform hover:-translate-y-0.5 data-[state=active]:bg-gradient-to-r data-[state=active]:from-pink-50 data-[state=active]:to-purple-50 data-[state=active]:border-pink-300",children:[s.jsx(At,{className:"w-5 h-5 text-gray-600"}),s.jsx("span",{className:"text-[10px] sm:text-xs font-semibold tracking-wide uppercase",children:"Profile"})]}),s.jsxs(vt,{value:"makemoney",className:"group flex flex-col items-center justify-center gap-1 sm:gap-2 px-3 py-3 sm:py-4 rounded-xl border border-gray-200 bg-white text-gray-700 shadow-sm hover:shadow-md transition-transform hover:-translate-y-0.5 data-[state=active]:bg-gradient-to-r data-[state=active]:from-pink-50 data-[state=active]:to-purple-50 data-[state=active]:border-pink-300",children:[s.jsx(D2,{className:"w-5 h-5 text-gray-600"}),s.jsx("span",{className:"text-[10px] sm:text-xs font-semibold tracking-wide uppercase",children:"Make Money"})]}),s.jsxs(vt,{value:"notifications",className:"group flex flex-col items-center justify-center gap-1 sm:gap-2 px-3 py-3 sm:py-4 rounded-xl border border-gray-200 bg-white text-gray-700 shadow-sm hover:shadow-md transition-transform hover:-translate-y-0.5 data-[state=active]:bg-gradient-to-r data-[state=active]:from-pink-50 data-[state=active]:to-purple-50 data-[state=active]:border-pink-300",children:[s.jsx(ox,{className:"w-5 h-5 text-gray-600"}),s.jsx("span",{className:"text-[10px] sm:text-xs font-semibold tracking-wide uppercase",children:"Notifications"})]}),s.jsxs(vt,{value:"earnings",className:"group flex flex-col items-center justify-center gap-1 sm:gap-2 px-3 py-3 sm:py-4 rounded-xl border border-gray-200 bg-white text-gray-700 shadow-sm hover:shadow-md transition-transform hover:-translate-y-0.5 data-[state=active]:bg-gradient-to-r data-[state=active]:from-pink-50 data-[state=active]:to-purple-50 data-[state=active]:border-pink-300",children:[s.jsx(Tt,{className:"w-5 h-5 text-gray-600"}),s.jsx("span",{className:"text-[10px] sm:text-xs font-semibold tracking-wide uppercase",children:"Earnings"})]}),s.jsxs(vt,{value:"messages",className:"group flex flex-col items-center justify-center gap-1 sm:gap-2 px-3 py-3 sm:py-4 rounded-xl border border-gray-200 bg-white text-gray-700 shadow-sm hover:-translate-y-0.5 data-[state=active]:bg-gradient-to-r data-[state=active]:from-pink-50 data-[state=active]:to-purple-50 data-[state=active]:border-pink-300",children:[s.jsx(ui,{className:"w-5 h-5 text-gray-600"}),s.jsx("span",{className:"text-[10px] sm:text-xs font-semibold tracking-wide uppercase",children:"Messages"})]}),s.jsxs(vt,{value:"media",className:"group flex flex-col items-center justify-center gap-1 sm:gap-2 px-3 py-3 sm:py-4 rounded-xl border border-gray-200 bg-white text-gray-700 shadow-sm hover:-translate-y-0.5 data-[state=active]:bg-gradient-to-r data-[state=active]:from-pink-50 data-[state=active]:to-purple-50 data-[state=active]:border-pink-300",children:[s.jsx(v0,{className:"w-5 h-5 text-gray-600"}),s.jsx("span",{className:"text-[10px] sm:text-xs font-semibold tracking-wide uppercase",children:"Media"})]}),s.jsxs(vt,{value:"jackpot",className:"group flex flex-col items-center justify-center gap-1 sm:gap-2 px-3 py-3 sm:py-4 rounded-xl border border-gray-200 bg-white text-gray-700 shadow-sm hover:-translate-y-0.5 data-[state=active]:bg-gradient-to-r data-[state=active]:from-pink-50 data-[state=active]:to-purple-50 data-[state=active]:border-pink-300",children:[s.jsx(Bs,{className:"w-5 h-5 text-gray-600"}),s.jsx("span",{className:"text-[10px] sm:text-xs font-semibold tracking-wide uppercase",children:"Jackpot"})]})]})}),s.jsxs(X,{className:h(),children:[s.jsx(bt,{value:"profile",className:"mt-0",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsx(oz,{userData:e,referrerData:null,onImageUpload:k=>p(k,"profile")})}),s.jsx("div",{className:"lg:col-span-3",children:s.jsx(lz,{userData:e,onUpdate:b})})]})}),s.jsx(bt,{value:"notifications",className:"mt-0",children:s.jsx(cz,{})}),s.jsx(bt,{value:"earnings",className:"mt-0",children:s.jsx(bz,{userData:e})}),s.jsx(bt,{value:"messages",className:"mt-0",children:s.jsx(Vz,{})}),s.jsx(bt,{value:"media",className:"mt-0",children:s.jsx(Hz,{userData:e,onUpdate:b})}),s.jsx(bt,{value:"makemoney",className:"mt-0",children:s.jsx(Yz,{})}),s.jsx(bt,{value:"jackpot",className:"mt-0",children:s.jsx(gW,{userData:e})})]})]})})]})]})})},NW=()=>s.jsx("div",{className:"flex flex-col",children:s.jsx(jW,{})}),aT=He.memo(({attendee:e})=>s.jsxs("div",{className:"text-center",children:[s.jsx("img",{src:e.users.profile_photo||"/placeholder.svg",alt:e.users.username,className:"w-12 h-12 md:w-16 md:h-16 rounded-full object-cover border-2 border-yellow-400 mx-auto mb-2",loading:"lazy",onError:t=>{const r=t.target;r.src="/placeholder.svg"}}),s.jsxs("p",{className:"text-xs text-yellow-400 truncate font-medium",children:["@",e.users.username]}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:e.users.user_type})]}));aT.displayName="AttendeeCard";const _W=()=>{var ae;const[e]=gr(),{toast:t}=Pe(),{getContainerClasses:r,getContentClasses:n,getCardClasses:a}=ki(),i=e.get("events")||"";e.get("ref");const[o,l]=f.useState([]),[c,d]=f.useState(null),[u,h]=f.useState(!0),[m,x]=f.useState(!1),[g,v]=f.useState(null),[w,b]=f.useState(""),[p,y]=f.useState("all"),[j,N]=f.useState(!1),[k,_]=f.useState(1),[S,P]=f.useState({location:"",date:""}),C=24,[A,L]=f.useState("");f.useEffect(()=>{const K=setTimeout(()=>{L(w),_(1)},300);return()=>clearTimeout(K)},[w]),f.useEffect(()=>{i&&(F(),E())},[i]),f.useEffect(()=>()=>{h(!1),N(!1)},[]);const F=f.useCallback(async()=>{try{const{data:K,error:O}=await I.from("users").select("username, profile_photo, banner_photo, city, state, user_type").eq("username",i).single();if(O)throw O;d(K)}catch(K){console.error("Error fetching user profile:",K)}},[i]),E=f.useCallback(async()=>{try{const{data:K,error:O}=await I.from("events").select("*").gte("date",new Date().toISOString().split("T")[0]).order("date");if(O)throw O;const{data:H,error:re}=await I.from("user_events").select("event_id").eq("username",i);if(re)throw re;const ee=(H==null?void 0:H.map(T=>T.event_id))||[],se=await Promise.all((K||[]).map(async T=>{const{count:z}=await I.from("user_events").select("*",{count:"exact",head:!0}).eq("event_id",T.id);return{...T,current_attendees:z||0,is_attending:ee.includes(T.id)}}));l(se)}catch(K){console.error("Error fetching events:",K),t({title:"Error",description:"Failed to fetch events",variant:"destructive"})}finally{h(!1)}},[i,t]),W=f.useCallback(async K=>{if(!K)return[];N(!0);try{const{data:O,error:H}=await I.from("user_events").select(`
          user_id,
          users (
            username,
            profile_photo,
            user_type,
            city,
            state
          )
        `).eq("event_id",K).limit(200);if(H)throw H;return O||[]}catch(O){return console.error("Error fetching attendees:",O),t({title:"Error",description:"Failed to load attendees. Please try again.",variant:"destructive"}),[]}finally{N(!1)}},[t]),U=f.useCallback(async K=>{if(K!=null&&K.id)try{v(K),x(!0),_(1),b(""),y("all");const O=await W(K.id);v(H=>H?{...H,attendees:O}:null)}catch(O){console.error("Error handling view attendees:",O),t({title:"Error",description:"Failed to load event details",variant:"destructive"})}},[W,t]),Y=f.useMemo(()=>{if(!(g!=null&&g.attendees))return[];const K=A.toLowerCase().trim();return g.attendees.filter(O=>{var ee,se,T;if(!(O!=null&&O.users))return!1;const H=!K||((ee=O.users.username)==null?void 0:ee.toLowerCase().includes(K))||((se=O.users.city)==null?void 0:se.toLowerCase().includes(K))||((T=O.users.state)==null?void 0:T.toLowerCase().includes(K)),re=p==="all"||O.users.user_type===p;return H&&re})},[g==null?void 0:g.attendees,A,p]),M=f.useMemo(()=>{const K=(k-1)*C,O=K+C;return Y.slice(K,O)},[Y,k]),G=Math.ceil(Y.length/C),R=f.useMemo(()=>o.filter(K=>{const O=!S.location||K.city&&K.city.toLowerCase().includes(S.location.toLowerCase())||K.state&&K.state.toLowerCase().includes(S.location.toLowerCase())||K.address&&K.address.toLowerCase().includes(S.location.toLowerCase())||K.name&&K.name.toLowerCase().includes(S.location.toLowerCase()),H=!S.date||K.date.includes(S.date);return O&&H}),[o,S]),D=f.useCallback(K=>K?Math.max(0,K.max_attendees-K.current_attendees):0,[]),te=f.useCallback(K=>K?(K.free_spots_strippers||0)+(K.free_spots_exotics||0):0,[]),J=f.useCallback(()=>{x(!1),v(null),b(""),y("all"),_(1)},[]);return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 text-white",children:[s.jsxs("div",{className:r(),children:[c&&s.jsxs("div",{className:"relative mb-6",children:[s.jsxs("div",{className:"h-48 md:h-64 relative overflow-hidden",children:[s.jsx("img",{src:c.banner_photo||"/placeholder.svg",alt:`${c.username} banner`,className:"w-full h-full object-cover",onError:K=>{const O=K.target;O.src="/placeholder.svg"}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"})]}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 md:p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-end gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:c.profile_photo||"/placeholder.svg",alt:c.username,className:"w-24 h-24 md:w-32 md:h-32 rounded-full object-cover border-4 border-yellow-400 bg-white/10"}),s.jsx("div",{className:"absolute -bottom-3 left-1/2 transform -translate-x-1/2 z-10",children:s.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded-full text-white shadow-lg ${c.user_type==="stripper"?"bg-pink-500":c.user_type==="exotic"?"bg-purple-500":"bg-blue-500"}`,children:c.user_type})})]}),s.jsxs("div",{className:"text-center md:text-left flex-1",children:[s.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-yellow-400 mb-2",children:["@",c.username]}),s.jsx("div",{className:"flex flex-col md:flex-row items-center gap-2 text-gray-300 mb-2",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(it,{className:"h-4 w-4"}),s.jsxs("span",{children:[c.city,", ",c.state]})]})}),s.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-3 mt-4 p-3 bg-white/10 backdrop-blur rounded-lg border border-white/20",children:[s.jsx("img",{src:c.profile_photo||"/placeholder.svg",alt:c.username,className:"w-12 h-12 rounded-full object-cover border-2 border-yellow-400",onError:K=>{const O=K.target;O.src="/placeholder.svg"}}),s.jsxs("div",{className:"text-center md:text-left",children:[s.jsxs("p",{className:"font-semibold text-white text-sm",children:["@",c.username]}),s.jsxs("p",{className:"text-xs text-gray-300",children:[c.user_type,"  ",c.city,","," ",c.state]})]})]})]})]})})]}),s.jsxs("div",{className:n(),children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-2",children:i?"Upcoming Events":"Events"}),s.jsx("p",{className:"text-gray-300 text-sm md:text-base",children:"All upcoming events - purchase tickets from any event page"}),c&&s.jsx("div",{className:"mt-2",children:s.jsxs(ce,{className:"bg-yellow-400/20 text-yellow-400 border-yellow-400/50",children:["Events attending:"," ",o.filter(K=>K.is_attending).length]})})]}),s.jsx(Q,{className:`bg-white/10 backdrop-blur border-white/20 mb-6 ${a()}`,children:s.jsxs(X,{className:n(),children:[s.jsx("h3",{className:"text-lg md:text-xl font-bold text-yellow-400 mb-4",children:"Filter Events"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(it,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(ne,{placeholder:"Filter by event name or location",value:S.location,onChange:K=>P(O=>({...O,location:K.target.value})),className:"pl-10 bg-white/10 border-white/20 text-white placeholder-gray-400"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(fr,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(ne,{type:"date",value:S.date,onChange:K=>P(O=>({...O,date:K.target.value})),className:"pl-10 bg-white/10 border-white/20 text-white"})]})]})]})}),u?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-400 text-lg",children:"Loading events..."})]}):R.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx(Q,{className:`bg-white/10 backdrop-blur border-white/20 max-w-md mx-auto ${a()}`,children:s.jsxs(X,{className:n(),children:[s.jsx("h3",{className:"text-xl font-bold text-yellow-400 mb-4",children:"No Events Available"}),s.jsx("p",{className:"text-gray-300 mb-4",children:S.location||S.date?"No events match your filters.":"No upcoming events found."}),s.jsx("p",{className:"text-gray-400 text-sm",children:S.location||S.date?"Try adjusting your filters":"CHECK BACK TOMORROW"})]})})}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 lg:gap-6",children:R.map(K=>s.jsxs(Q,{className:`bg-white/10 backdrop-blur border-white/20 hover:bg-white/20 transition-all duration-300 overflow-hidden ${a()}`,children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:K.photo_url||"/placeholder.svg",alt:K.name,className:"w-full h-32 md:h-40 object-cover",onError:O=>{const H=O.target;H.src="/placeholder.svg"}}),s.jsx("div",{className:"absolute top-3 right-3",children:K.is_attending?s.jsx("div",{className:"bg-green-500 rounded-full p-2 shadow-lg",children:s.jsx(Fh,{className:"h-4 w-4 text-white"})}):s.jsx("div",{className:"bg-red-500 rounded-full p-2 shadow-lg",children:s.jsx(er,{className:"h-4 w-4 text-white"})})}),s.jsx("div",{className:"absolute top-3 left-3",children:D(K)===0?s.jsx(ce,{className:"bg-red-600 text-white font-bold",children:"SOLD OUT"}):te(K)>0?s.jsxs(ce,{className:"bg-green-600 text-white font-bold",children:["FREE SPOTS: ",te(K)]}):s.jsx(ce,{className:"bg-yellow-600 text-white font-bold",children:"PAID ONLY"})}),s.jsxs("div",{className:"absolute bottom-3 left-3 flex gap-2",children:[K.video_urls&&K.video_urls.length>0&&s.jsxs("div",{className:"bg-black/60 text-white px-2 py-1 rounded-full text-xs flex items-center gap-1",children:[s.jsx(ca,{className:"h-3 w-3"}),K.video_urls.length]}),K.additional_photos&&K.additional_photos.length>0&&s.jsxs("div",{className:"bg-black/60 text-white px-2 py-1 rounded-full text-xs flex items-center gap-1",children:[s.jsx($r,{className:"h-3 w-3"}),K.additional_photos.length]})]})]}),s.jsxs(X,{className:n(),children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsx("h3",{className:"text-lg font-bold text-yellow-400 line-clamp-2",children:K.name}),s.jsx("div",{className:"text-right text-sm text-gray-300 ml-2",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ut,{className:"h-3 w-3"}),s.jsxs("span",{children:[K.current_attendees,"/",K.max_attendees]})]})})]}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-300 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(fr,{className:"h-4 w-4 text-yellow-400"}),s.jsx("span",{children:new Date(K.date).toLocaleDateString()})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(bc,{className:"h-4 w-4 text-yellow-400"}),s.jsxs("span",{children:[K.start_time," - ",K.end_time]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(it,{className:"h-4 w-4 text-yellow-400 mt-0.5"}),s.jsxs("span",{className:"line-clamp-2",children:[K.address,", ",K.city,", ",K.state]})]}),K.price>0&&s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("span",{className:"text-yellow-400 font-bold",children:["$",K.price]})})]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs(V,{onClick:()=>U(K),variant:"outline",size:"sm",className:"flex-1 border-yellow-400/50 text-yellow-400 hover:bg-yellow-400/10 hover:text-yellow-400 bg-transparent",children:[s.jsx(Ba,{className:"h-4 w-4 mr-1"}),"Details"]})})]})]},K.id))})]})]}),s.jsx(Xe,{open:m,onOpenChange:J,children:s.jsxs(Je,{className:`bg-gray-900 border-gray-700 text-white max-w-5xl max-h-[95vh] overflow-hidden p-0 ${a()}`,children:[s.jsxs("div",{className:`border-b border-gray-700 ${n()}`,children:[s.jsx(Ze,{children:s.jsx(Qe,{className:"text-yellow-400 text-xl md:text-2xl",children:g==null?void 0:g.name})}),j&&s.jsxs("div",{className:"flex items-center gap-2 text-yellow-400 text-sm",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-yellow-400"}),"Loading attendees..."]})]}),s.jsx("div",{className:`flex-1 overflow-y-auto ${n()}`,children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-yellow-400 mb-3",children:"Event Information"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/5 rounded-lg",children:[s.jsx(fr,{className:"h-5 w-5 text-yellow-400 flex-shrink-0"}),s.jsx("span",{children:g&&new Date(g.date).toLocaleDateString()})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/5 rounded-lg",children:[s.jsx(bc,{className:"h-5 w-5 text-yellow-400 flex-shrink-0"}),s.jsxs("span",{children:[g==null?void 0:g.start_time," - ",g==null?void 0:g.end_time]})]}),s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white/5 rounded-lg",children:[s.jsx(it,{className:"h-5 w-5 text-yellow-400 mt-0.5 flex-shrink-0"}),s.jsxs("span",{className:"break-words",children:[g==null?void 0:g.address,", ",g==null?void 0:g.city,","," ",g==null?void 0:g.state]})]}),(g==null?void 0:g.price)&&g.price>0&&s.jsx("div",{className:"flex items-center gap-3 p-3 bg-white/5 rounded-lg",children:s.jsxs("span",{className:"text-yellow-400 font-bold text-lg",children:["$",g.price]})}),s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/5 rounded-lg",children:[s.jsx(Ut,{className:"h-5 w-5 text-yellow-400 flex-shrink-0"}),s.jsxs("span",{children:[g==null?void 0:g.current_attendees,"/",g==null?void 0:g.max_attendees," attending"]})]})]}),(g==null?void 0:g.description)&&s.jsxs("div",{className:"mt-6",children:[s.jsx("h4",{className:"font-semibold text-gray-300 mb-3",children:"Description"}),s.jsx("p",{className:"text-gray-300 text-sm leading-relaxed p-3 bg-white/5 rounded-lg",children:g.description})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-yellow-400 mb-3",children:"Media"}),s.jsx("img",{src:(g==null?void 0:g.photo_url)||"/placeholder.svg",alt:g==null?void 0:g.name,className:"w-full h-48 md:h-56 object-cover rounded-lg"}),(g==null?void 0:g.additional_photos)&&g.additional_photos.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsxs("h4",{className:"font-semibold text-gray-300 mb-3 text-sm",children:["Photos (",g.additional_photos.length,")"]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:g.additional_photos.slice(0,6).map((K,O)=>s.jsx("img",{src:K,alt:`Event photo ${O+1}`,className:"w-full h-20 md:h-24 object-cover rounded-lg"},O))})]}),(g==null?void 0:g.video_urls)&&g.video_urls.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsxs("h4",{className:"font-semibold text-gray-300 mb-3 text-sm",children:["Videos (",g.video_urls.length,")"]}),s.jsx("div",{className:"space-y-3",children:g.video_urls.slice(0,2).map((K,O)=>s.jsx("div",{className:"relative",children:s.jsx("video",{src:K,className:"w-full h-32 md:h-40 object-cover rounded-lg",controls:!0})},O))}),s.jsxs(V,{variant:"outline",className:"w-full mt-4 border-red-400 text-red-400 hover:bg-red-400/10",disabled:!0,children:[s.jsx(ca,{className:"h-4 w-4 mr-2"}),"Watch Live (Coming Soon)"]})]})]})]}),s.jsxs("div",{className:"border-t border-gray-700 pt-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-yellow-400 mb-4",children:["Attendees (",((ae=g==null?void 0:g.attendees)==null?void 0:ae.length)||0,")"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-6",children:[s.jsx(ne,{placeholder:"Search by username, city, or state",value:w,onChange:K=>b(K.target.value),className:"bg-white/10 border-white/20 text-white placeholder-gray-400"}),s.jsxs("select",{value:p,onChange:K=>y(K.target.value),className:"bg-white/10 border border-white/20 rounded-md px-3 py-2 text-white",children:[s.jsx("option",{value:"all",children:"All Types"}),s.jsx("option",{value:"stripper",children:"Strippers"}),s.jsx("option",{value:"exotic",children:"Exotics"}),s.jsx("option",{value:"male",children:"Males"}),s.jsx("option",{value:"female",children:"Females"}),s.jsx("option",{value:"normal",children:"Normal"})]})]}),j?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-400",children:"Loading attendees..."})]}):Y.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-3 md:grid-cols-6 lg:grid-cols-8 gap-4",children:M.map(K=>s.jsx(aT,{attendee:K},K.user_id))}),G>1&&s.jsxs("div",{className:"flex items-center justify-center gap-4 mt-6 p-4 bg-white/5 rounded-lg",children:[s.jsxs(V,{variant:"outline",size:"sm",onClick:()=>_(Math.max(1,k-1)),disabled:k===1,className:"border-yellow-400/50 text-yellow-400 hover:bg-yellow-400/10 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(L2,{className:"h-4 w-4 mr-1"}),"Previous"]}),s.jsxs("span",{className:"text-gray-400 text-sm",children:["Page ",k," of ",G," (",Y.length," total)"]}),s.jsxs(V,{variant:"outline",size:"sm",onClick:()=>_(Math.min(G,k+1)),disabled:k===G,className:"border-yellow-400/50 text-yellow-400 hover:bg-yellow-400/10 disabled:opacity-50 disabled:cursor-not-allowed",children:["Next",s.jsx(M2,{className:"h-4 w-4 ml-1"})]})]})]}):s.jsx("div",{className:"text-center py-12",children:s.jsxs("div",{className:"bg-white/5 rounded-lg p-8",children:[s.jsx("p",{className:"text-gray-400 text-lg mb-2",children:w||p!=="all"?"No attendees match your search":"No attendees yet"}),s.jsx("p",{className:"text-gray-500 text-sm",children:w||p!=="all"?"Try adjusting your search filters":"Be the first to join this event!"})]})})]})]})})]})})]})},iT=({referrerUsername:e})=>{const[t,r]=f.useState(null),[n,a]=f.useState(!0),[i,o]=f.useState("");return f.useEffect(()=>{(async()=>{if(!e){a(!1),o("No referrer username provided");return}try{const c=N0(e);console.log(" Original referrer username:",e),console.log(" Decoded referrer username:",c),console.log(" Username length:",c.length),console.log(" Username characters:",c.split("").map(y=>`${y}(${y.charCodeAt(0)})`).join(", "));const{data:d,error:u}=await I.from("users").select("username").ilike("username",`%${c}%`);console.log(" Users with similar usernames:",d);const{data:h,error:m}=await I.from("users").select("username, front_page_photo").eq("username",c).single();console.log(" Exact match result:",{data:h,error:m});const{data:x,error:g}=await I.from("users").select("username, front_page_photo").ilike("username",c).single();console.log(" Case-insensitive match result:",{data:x,error:g});let v=null,w=null;if(c!==e){const{data:y,error:j}=await I.from("users").select("username, front_page_photo").eq("username",e).single();v=y,w=j,console.log(" Original (non-decoded) match result:",{data:v,error:w})}o(`
          Original: ${e}
          Decoded: ${c}
          Same?: ${c===e?"Yes":"No"}
          Exact match: ${h?"Found":"Not found"}
          Case insensitive: ${x?"Found":"Not found"}
          Original match: ${v?"Found":c===e?"N/A":"Not found"}
          Similar users: ${(d==null?void 0:d.length)||0}
        `);const b=h||x||v,p=(m==null?void 0:m.code)!=="PGRST116"?m:(g==null?void 0:g.code)!=="PGRST116"?g:(w==null?void 0:w.code)!=="PGRST116"?w:null;if(p){console.error(" Error fetching referrer data:",p),a(!1);return}b?(r({username:String(b.username),front_page_photo:b.front_page_photo?String(b.front_page_photo):void 0}),console.log(" Successfully found referrer:",b.username)):console.log(" No referrer found for:",c)}catch(c){console.error(" Exception fetching referrer data:",c),o(`Exception: ${c}`)}finally{a(!1)}})()},[e]),n?s.jsxs("div",{className:"flex items-center justify-center gap-3 mt-4 p-3 bg-gradient-to-r from-purple-600/15 to-pink-600/15 backdrop-blur border border-purple-400/20 rounded-lg max-w-xs mx-auto shadow-md",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-700 animate-pulse ring-1 ring-purple-400/30"}),s.jsxs("div",{className:"text-left space-y-1",children:[s.jsx("div",{className:"h-4 w-24 bg-gray-700 animate-pulse rounded"}),s.jsx("div",{className:"text-xs text-gray-400",children:"Loading..."})]})]}):t?s.jsxs("div",{className:"flex items-center justify-center gap-3 mt-4 p-3 bg-gradient-to-r from-purple-600/15 to-pink-600/15 backdrop-blur border border-purple-400/20 rounded-lg max-w-xs mx-auto shadow-md",children:[s.jsx("img",{src:t.front_page_photo||"/placeholder.svg",alt:t.username,className:"w-10 h-10 rounded-full object-cover border-2 border-gradient-to-r from-yellow-400 to-pink-400 shadow-lg ring-1 ring-purple-400/30",onError:l=>{const c=l.target;c.src="/placeholder.svg"}}),s.jsxs("div",{className:"text-left",children:[s.jsxs("p",{className:"text-white font-semibold text-sm bg-gradient-to-r from-yellow-400 to-pink-400 bg-clip-text text-transparent",children:["@",t.username]}),s.jsx("div",{className:"text-xs text-gray-400 mt-0.5",children:"Referrer"})]})]}):s.jsx("div",{className:"flex items-center justify-center gap-3 mt-4 p-3 bg-red-600/15 backdrop-blur border border-red-400/20 rounded-lg max-w-xs mx-auto shadow-md",children:s.jsx("div",{className:"text-left",children:s.jsxs("p",{className:"text-white font-semibold text-xs",children:["Referrer not found: @",e]})})})},SW=()=>{const{user:e,loading:t}=Es(),r=pt(),{toast:n}=Pe(),[a]=gr(),[i,o]=f.useState([]),[l,c]=f.useState(!0),[d,u]=f.useState({username:"",city:"",state:""}),[h,m]=f.useState(1),x=30,g=_a(a.get("ref")),v=!t&&e&&(!e.userType||e.userType===""||e.userType==="normal");console.log("EventsDimes access control check:",{userLoading:t,user:e?{id:e.id,username:e.username,userType:e.userType,gender:e.gender}:null,canViewPage:v,refParam:g}),f.useEffect(()=>{v&&w()},[v]);const w=async()=>{try{const{data:N,error:k}=await I.from("users").select("id, username, profile_photo, city, state, user_type, created_at").in("user_type",["stripper","exotic"]).order("created_at",{ascending:!1});if(k)throw k;o(N||[])}catch{n({title:"Error",description:"Failed to fetch performers",variant:"destructive"})}finally{c(!1)}},b=i.filter(N=>{var k,_;return(d.username===""||N.username.toLowerCase().includes(d.username.toLowerCase()))&&(d.city===""||((k=N.city)==null?void 0:k.toLowerCase().includes(d.city.toLowerCase())))&&(d.state===""||((_=N.state)==null?void 0:_.toLowerCase().includes(d.state.toLowerCase())))}),p=b.slice((h-1)*x,h*x),y=N=>{r(`/events?events=${N}&ref=${g}`)},j=()=>{r(-1)};return t?s.jsx(Xt,{children:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center px-4",children:s.jsx(Q,{className:"bg-white/10 backdrop-blur border-white/20 w-full max-w-md",children:s.jsxs(X,{className:"p-8 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto mb-4"}),s.jsx("p",{className:"text-white",children:"Loading user data..."})]})})})}):v?s.jsx(Xt,{children:s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white",children:[s.jsxs("div",{className:"relative w-full h-64 md:h-80 lg:h-96 overflow-hidden",children:[s.jsxs("video",{className:"w-full h-full object-cover",autoPlay:!0,muted:!0,loop:!0,playsInline:!0,poster:"https://dimesonly.s3.us-east-2.amazonaws.com/HOUSING-ANGELS+(1).png",children:[s.jsx("source",{src:"https://dimesonlyworld.s3.us-east-2.amazonaws.com/HOME+PAGE+16-9+1080+final.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsxs("div",{className:"text-center px-4",children:[s.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-white mb-4 drop-shadow-lg",children:"Choose Your Event Partner"}),s.jsx("p",{className:"text-lg md:text-xl text-gray-200 drop-shadow-md",children:"Select a stripper or exotic dancer to attend events with"})]})})]}),s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[g&&g!==(e==null?void 0:e.username)&&s.jsx("div",{className:"mb-6 text-center",children:s.jsx(iT,{referrerUsername:g})}),s.jsx(Q,{className:"bg-white/10 backdrop-blur border-white/20 mb-8",children:s.jsxs(X,{className:"p-4 md:p-6",children:[s.jsxs("h2",{className:"text-lg md:text-xl font-bold text-yellow-400 mb-4 flex items-center gap-2",children:[s.jsx(bs,{className:"h-5 w-5"}),"Filter Performers"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 md:gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(At,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(ne,{placeholder:"Search by username",value:d.username,onChange:N=>u(k=>({...k,username:N.target.value})),className:"pl-10 bg-white/10 border-white/20 text-white placeholder-gray-400"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(it,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(ne,{placeholder:"Search by city",value:d.city,onChange:N=>u(k=>({...k,city:N.target.value})),className:"pl-10 bg-white/10 border-white/20 text-white placeholder-gray-400"})]}),s.jsx(ne,{placeholder:"Search by state",value:d.state,onChange:N=>u(k=>({...k,state:N.target.value})),className:"bg-white/10 border-white/20 text-white placeholder-gray-400"})]})]})}),l?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-400 text-lg",children:"Loading performers..."})]}):b.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx(Q,{className:"bg-white/10 backdrop-blur border-white/20 max-w-md mx-auto",children:s.jsxs(X,{className:"p-8",children:[s.jsx("h3",{className:"text-xl font-bold text-yellow-400 mb-4",children:"No Events Available"}),s.jsx("p",{className:"text-gray-300 mb-4",children:"Baddie hasn't selected any events yet."}),s.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"CHECK BACK TOMORROW"}),s.jsxs(V,{onClick:j,variant:"outline",className:"border-yellow-400/50 text-yellow-400 hover:bg-yellow-400/10 hover:text-yellow-400 bg-transparent",children:[s.jsx(Ni,{className:"h-4 w-4 mr-2"}),"Go Back"]})]})})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-6 mb-8",children:p.map(N=>s.jsx(Q,{className:"bg-white/10 backdrop-blur border-white/20 hover:bg-white/20 transition-all duration-300 group",children:s.jsx(X,{className:"p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"relative mb-4",children:[s.jsx("img",{src:N.profile_photo||"/placeholder.svg",alt:N.username,className:"w-24 h-24 rounded-full object-cover mx-auto border-3 border-yellow-400 group-hover:border-yellow-300 transition-colors",onError:k=>{const _=k.target;_.src="/placeholder.svg"}}),s.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2",children:s.jsx("span",{className:`px-2 py-1 text-xs rounded-full text-white ${N.user_type==="stripper"?"bg-pink-500":"bg-purple-500"}`,children:N.user_type})})]}),s.jsxs("h3",{className:"text-lg font-bold text-yellow-400 mb-2",children:["@",N.username]}),(N.city||N.state)&&s.jsxs("div",{className:"flex items-center justify-center gap-1 text-gray-300 mb-4 text-sm",children:[s.jsx(it,{className:"h-3 w-3"}),s.jsx("span",{children:N.city&&N.state?`${N.city}, ${N.state}`:N.city||N.state})]}),s.jsx(V,{onClick:()=>y(N.username),className:"w-full bg-gradient-to-r from-yellow-400 to-yellow-600 hover:from-yellow-500 hover:to-yellow-700 text-black font-bold py-2 px-4 rounded-lg transition-all duration-300 transform hover:scale-105",children:"LET'S GO!"})]})})},N.id))}),Math.ceil(b.length/x)>1&&s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 mt-8",children:[s.jsxs("p",{className:"text-gray-300 text-sm text-center",children:["Showing ",(h-1)*x+1," to"," ",Math.min(h*x,b.length)," ","of ",b.length," performers"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(V,{onClick:()=>m(Math.max(1,h-1)),disabled:h===1,variant:"outline",className:"border-white/20 text-white hover:bg-white/10",children:"Previous"}),s.jsx(V,{onClick:()=>m(Math.min(Math.ceil(b.length/x),h+1)),disabled:h===Math.ceil(b.length/x),variant:"outline",className:"border-white/20 text-white hover:bg-white/10",children:"Next"})]})]})]})]})]})}):s.jsx(Xt,{children:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center px-4",children:s.jsx(Q,{className:"bg-white/10 backdrop-blur border-white/20 w-full max-w-md",children:s.jsxs(X,{className:"p-8 text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-red-400 mb-4",children:"Access Restricted"}),s.jsx("p",{className:"text-white",children:"This page is only available to normal users (not strippers or exotic dancers)."}),!1]})})})})},kW=()=>{var le;const{user:e,setUser:t,loading:r}=Es();pt();const{toast:n}=Pe(),[a]=gr(),[i,o]=f.useState([]),[l,c]=f.useState([]),[d,u]=f.useState(""),[h,m]=f.useState(""),[x,g]=f.useState("all"),[v,w]=f.useState(1),[b,p]=f.useState(!0),[y,j]=f.useState(!1),[N,k]=f.useState(!1),[_,S]=f.useState(null),[P,C]=f.useState(""),[A,L]=f.useState(""),[F,E]=f.useState("all"),W=20,U=a.get("ref")||"",Y=a.get("payment"),M=a.get("token"),G=a.get("PayerID"),R=a.get("guestName")||"",D=!r&&e&&(e.userType==="stripper"||e.userType==="exotic");console.log("EventsDimesOnly access control check:",{userLoading:r,user:e?{id:e.id,username:e.username,userType:e.userType}:null,canViewPage:D,referrer:U}),f.useEffect(()=>{Y&&(async()=>{if(Y==="success"&&M&&G&&e){console.log("Processing PayPal return:",{paymentStatus:Y,paypalToken:M,payerId:G});try{const{data:he,error:xe}=await I.from("payments").select("*").eq("user_id",e.id).in("payment_status",["pending","completed"]).order("created_at",{ascending:!1}).limit(3);if(xe)throw xe;if(he&&he.length>0){const me=he[0];if(console.log("Found payment:",me.id,"Status:",me.payment_status),me.payment_status==="pending"){n({title:"Payment Processing",description:"Your payment is being processed by PayPal. Please wait..."});let Ae=0;const Re=15,Oe=async()=>{Ae++;const{data:_t}=await I.from("payments").select("payment_status, referrer_commission, event_host_commission").eq("id",me.id).single();if(console.log("Poll attempt",Ae,"Payment status:",_t==null?void 0:_t.payment_status),(_t==null?void 0:_t.payment_status)==="completed"){const{data:rr}=await I.from("user_events").select("id").eq("user_id",me.user_id).eq("event_id",me.event_id).single();if(rr){n({title:"Payment Successful!",description:"You have successfully joined the event."}),te(),window.history.replaceState({},document.title,window.location.pathname);return}}if(Ae<Re)setTimeout(Oe,2e3);else{console.log("Webhook timeout, processing payment manually");const rr=Number(me.amount)||0,sd=me.referred_by?rr*.2:0,pf=rr*.1;console.log("Calculated commissions:",{referrer:sd,host:pf,total:rr});const{error:nd}=await I.from("payments").update({payment_status:"completed",referrer_commission:sd,event_host_commission:pf,updated_at:new Date().toISOString()}).eq("id",me.id);if(!nd){const{data:xf}=await I.from("user_events").select("id").eq("user_id",me.user_id).eq("event_id",me.event_id).single();if(!xf){const{error:gf}=await I.from("user_events").insert({user_id:me.user_id,event_id:me.event_id,username:e.username,payment_status:"paid",payment_id:me.id,referred_by:me.referred_by,guest_name:R||P||null});gf||(n({title:"Payment Successful!",description:"You have successfully joined the event."}),te(),window.history.replaceState({},document.title,window.location.pathname))}}}};setTimeout(Oe,2e3);return}if(me.payment_status==="completed"){const{data:Ae}=await I.from("user_events").select("id").eq("user_id",me.user_id).eq("event_id",me.event_id).single();Ae?(n({title:"Payment Successful!",description:"You have successfully joined the event."}),te(),window.history.replaceState({},document.title,window.location.pathname)):(n({title:"Processing Complete",description:"Adding you to the event..."}),setTimeout(()=>{te(),window.location.reload()},2e3))}}}catch(he){console.error("Error processing payment return:",he),n({title:"Payment Processing Error",description:"There was an issue processing your payment. Please contact support.",variant:"destructive"})}}})()},[Y,M,G,e,P,R]),f.useEffect(()=>{D&&(console.log("referrer",U),console.log("user?.username",e==null?void 0:e.username),te())},[D]),f.useEffect(()=>{J()},[i,d,h,x]);const te=async()=>{try{const{data:q,error:he}=await I.from("events").select("*").gte("date",new Date().toISOString().split("T")[0]).order("date");if(he)throw he;const{data:xe,error:me}=await I.from("user_events").select("event_id").eq("user_id",e==null?void 0:e.id);if(me)throw me;const Ae=(xe==null?void 0:xe.map(Oe=>Oe.event_id))||[],Re=await Promise.all((q||[]).map(async Oe=>{const{count:_t}=await I.from("user_events").select("*",{count:"exact",head:!0}).eq("event_id",Oe.id);return{...Oe,current_attendees:_t||0,isUserAttending:Ae.includes(Oe.id),video_urls:Oe.video_urls||[],additional_photos:Oe.additional_photos||[]}}));o(Re)}catch(q){console.error("Error fetching events:",q),n({title:"Error",description:"Failed to fetch events",variant:"destructive"})}finally{p(!1)}},J=()=>{let q=i;d&&(q=q.filter(he=>he.city.toLowerCase().includes(d.toLowerCase()))),h&&(q=q.filter(he=>he.state.toLowerCase().includes(h.toLowerCase()))),x&&x!=="all"&&(q=q.filter(he=>(new Date(he.date).getMonth()+1).toString()===x)),c(q),w(1)},ae=async q=>{const he=await re(q.id);S({...q,attendees:he}),k(!0)},K=async q=>{if(q.isUserAttending){n({title:"Already Attending",description:"You are already registered for this event.",variant:"destructive"});return}if(S(q),Math.max(0,q.max_attendees-q.current_attendees)===0){n({title:"Event Full",description:"This event is sold out.",variant:"destructive"});return}j(!0)},O=async()=>{if(!(!_||!e))try{if((_.free_spots_strippers||0)+(_.free_spots_exotics||0)>0){const{error:he}=await I.from("user_events").insert({user_id:e.id,event_id:_.id,username:e.username,payment_status:"free",referred_by:U||null,guest_name:P||null});if(he)throw he;const me=e.userType==="stripper"?"free_spots_strippers":"free_spots_exotics",Ae=_[me]||0;if(Ae>0){const{error:Re}=await I.from("events").update({[me]:Math.max(0,Ae-1)}).eq("id",_.id);if(Re)throw Re}n({title:"Success!",description:"You have successfully joined the event for free!"}),j(!1),C(""),te()}else await H()}catch(q){console.error("Error joining event:",q),n({title:"Error",description:"Failed to join event. Please try again.",variant:"destructive"})}},H=async()=>{if(!(!_||!e))try{const{data:q,error:he}=await I.from("payments").insert({user_id:e.id,event_id:_.id,amount:_.price,payment_status:"pending",referred_by:U||null,payment_type:"event_ticket"}).select().single();if(he)throw he;const{data:xe,error:me}=await I.functions.invoke("create-paypal-order",{body:{eventId:_.id,userId:e.id,paymentId:q.id,amount:_.price,referrer:U||null,guestName:P||null,description:`Event Ticket: ${_.name}`,returnUrl:`${window.location.origin}/events-dimes-only?payment=success&guestName=${encodeURIComponent(P||"")}`,cancelUrl:`${window.location.origin}/events-dimes-only?payment=cancelled`}});if(me)throw console.error("PayPal API Error:",me),new Error(`Failed to create PayPal order: ${me.message}`);console.log("PayPal API Response:",xe);const{approval_url:Ae}=xe;if(Ae)j(!1),C(""),window.location.href=Ae;else throw new Error("No approval URL received from PayPal")}catch(q){console.error("Error creating PayPal payment:",q),n({title:"Payment Error",description:"Failed to create payment. Please try again.",variant:"destructive"})}},re=async q=>{try{const{data:he,error:xe}=await I.from("user_events").select(`
          user_id,
          users (
            username,
            profile_photo,
            user_type,
            city,
            state
          )
        `).eq("event_id",q);if(xe)throw xe;return he||[]}catch(he){return console.error("Error fetching attendees:",he),[]}},ee=q=>q.filter(he=>{var Ae,Re;const xe=!A||he.users.username.toLowerCase().includes(A.toLowerCase())||((Ae=he.users.city)==null?void 0:Ae.toLowerCase().includes(A.toLowerCase()))||((Re=he.users.state)==null?void 0:Re.toLowerCase().includes(A.toLowerCase())),me=F==="all"||F==="stripper"&&he.users.user_type==="stripper"||F==="exotic"&&he.users.user_type==="exotic"||F==="male"&&he.users.user_type==="male"||F==="female"&&["female","normal"].includes(he.users.user_type);return xe&&me}),se=(e==null?void 0:e.membershipType)==="diamond_plus"||!1,T=()=>{const q=((_==null?void 0:_.free_spots_strippers)||0)+((_==null?void 0:_.free_spots_exotics)||0);return se?"By confirming your participation to this event you agree to being deducted $500 from your guaranteed pay of $6,250 if you do not attend. If you agree, type in your 1 guest first and last name that will attend with you free or 'none' to receive your ticket(s).":q>0?"By confirming your participation to this event you agree to attend. Type the first and last name of your 1 guest that will attend with you free or 'none' to receive your ticket(s).":"Free positions are gone! Do you want to purchase this ticket? Click yes to proceed. Type the first and last name of your 1 guest that will attend with you or 'none' to receive your ticket(s)."},z=q=>q?Math.max(0,q.max_attendees-q.current_attendees):0,Z=q=>q?(q.free_spots_strippers||0)+(q.free_spots_exotics||0):0;return r?s.jsx(Xt,{children:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center px-4",children:s.jsx(Q,{className:"bg-white/10 backdrop-blur border-white/20 w-full max-w-md",children:s.jsxs(X,{className:"p-8 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto mb-4"}),s.jsx("p",{className:"text-white",children:"Loading user data..."})]})})})}):D?s.jsxs(Xt,{children:[s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 text-white",children:s.jsxs("div",{className:"w-full px-4 py-6 md:px-8",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-yellow-400 mb-4",children:"Events for Strippers & Exotics"}),s.jsx("p",{className:"text-gray-300 text-sm md:text-base",children:"Choose which events you want to attend"}),s.jsx(iT,{referrerUsername:U}),se&&s.jsx("div",{className:"mt-4 p-3 bg-gradient-to-r from-yellow-400/20 to-yellow-600/20 rounded-lg border border-yellow-400/30",children:s.jsx("p",{className:"text-yellow-300 font-semibold text-sm",children:" Diamond+ Member - Guaranteed $6,250 Quarterly Pay"})})]}),s.jsx(Q,{className:"bg-white/10 backdrop-blur border-white/20 mb-6",children:s.jsxs(X,{className:"p-4 md:p-6",children:[s.jsxs("h2",{className:"text-lg md:text-xl font-bold text-yellow-400 mb-4 flex items-center gap-2",children:[s.jsx(bs,{className:"h-5 w-5"}),"Filter Events"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 md:gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(it,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(ne,{placeholder:"Search by city",value:d,onChange:q=>u(q.target.value),className:"pl-10 bg-white/10 border-white/20 text-white placeholder-gray-400"})]}),s.jsx(ne,{placeholder:"Search by state",value:h,onChange:q=>m(q.target.value),className:"bg-white/10 border-white/20 text-white placeholder-gray-400"}),s.jsxs(Sr,{value:x,onValueChange:g,children:[s.jsx(dr,{className:"bg-white/10 border-white/20 text-white",children:s.jsx(kr,{placeholder:"Filter by month"})}),s.jsxs(ur,{className:"bg-gray-800 border-gray-700",children:[s.jsx(Se,{value:"all",children:"All Months"}),s.jsx(Se,{value:"1",children:"January"}),s.jsx(Se,{value:"2",children:"February"}),s.jsx(Se,{value:"3",children:"March"}),s.jsx(Se,{value:"4",children:"April"}),s.jsx(Se,{value:"5",children:"May"}),s.jsx(Se,{value:"6",children:"June"}),s.jsx(Se,{value:"7",children:"July"}),s.jsx(Se,{value:"8",children:"August"}),s.jsx(Se,{value:"9",children:"September"}),s.jsx(Se,{value:"10",children:"October"}),s.jsx(Se,{value:"11",children:"November"}),s.jsx(Se,{value:"12",children:"December"})]})]})]})]})}),b?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-400 text-lg",children:"Loading events..."})]}):l.length===0?s.jsx("div",{className:"text-center py-12",children:s.jsx(Q,{className:"bg-white/10 backdrop-blur border-white/20 max-w-md mx-auto",children:s.jsxs(X,{className:"p-8",children:[s.jsx("h3",{className:"text-xl font-bold text-yellow-400 mb-4",children:"No Events Available"}),s.jsx("p",{className:"text-gray-300",children:"No events match your search criteria or there are no upcoming events."})]})})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 mb-8",children:l.slice((v-1)*W,v*W).map(q=>s.jsxs(Q,{className:"bg-white/10 backdrop-blur border-white/20 hover:bg-white/20 transition-all duration-300 overflow-hidden",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:q.photo_url||"/placeholder.svg",alt:q.name,className:"w-full h-32 md:h-40 object-cover",onError:he=>{const xe=he.target;xe.src="/placeholder.svg"}}),s.jsx("div",{className:"absolute top-3 right-3",children:q.isUserAttending?s.jsx("div",{className:"bg-green-500 rounded-full p-2 shadow-lg",children:s.jsx(Fh,{className:"h-4 w-4 text-white"})}):s.jsx("div",{className:"bg-red-500 rounded-full p-2 shadow-lg",children:s.jsx(er,{className:"h-4 w-4 text-white"})})}),s.jsx("div",{className:"absolute top-3 left-3",children:z(q)===0?s.jsx("div",{className:"bg-red-600 text-white px-2 py-1 rounded-full text-xs font-bold",children:"SOLD OUT"}):Z(q)>0?s.jsxs("div",{className:"bg-green-600 text-white px-2 py-1 rounded-full text-xs font-bold",children:["FREE: ",Z(q)]}):s.jsxs("div",{className:"bg-yellow-600 text-white px-2 py-1 rounded-full text-xs font-bold",children:["$",q.price]})}),s.jsxs("div",{className:"absolute bottom-3 left-3 flex gap-2",children:[q.video_urls&&q.video_urls.length>0&&s.jsxs("div",{className:"bg-black/60 text-white px-2 py-1 rounded-full text-xs flex items-center gap-1",children:[s.jsx(ca,{className:"h-3 w-3"}),q.video_urls.length]}),q.additional_photos&&q.additional_photos.length>0&&s.jsxs("div",{className:"bg-black/60 text-white px-2 py-1 rounded-full text-xs flex items-center gap-1",children:[s.jsx($r,{className:"h-3 w-3"}),q.additional_photos.length]})]})]}),s.jsxs(X,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsx("h3",{className:"text-lg font-bold text-yellow-400 line-clamp-2 flex-1",children:q.name}),s.jsx("div",{className:"text-right text-sm text-gray-300 ml-2",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ut,{className:"h-3 w-3"}),s.jsxs("span",{children:[q.current_attendees,"/",q.max_attendees]})]})})]}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-300 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(fr,{className:"h-4 w-4 text-yellow-400"}),s.jsx("span",{children:new Date(q.date).toLocaleDateString()})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(bc,{className:"h-4 w-4 text-yellow-400"}),s.jsxs("span",{children:[q.start_time," - ",q.end_time]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(it,{className:"h-4 w-4 text-yellow-400 mt-0.5"}),s.jsxs("span",{className:"line-clamp-2",children:[q.city,", ",q.state]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(V,{variant:"outline",size:"sm",className:"flex-1 border-white/20 text-white hover:bg-white/10 bg-transparent",onClick:()=>ae(q),children:[s.jsx(Ba,{className:"h-4 w-4 mr-1"}),"Details"]}),s.jsx(V,{size:"sm",className:`flex-1 font-bold ${q.isUserAttending?"bg-green-600 hover:bg-green-700 text-white":"bg-gradient-to-r from-yellow-400 to-yellow-600 hover:from-yellow-500 hover:to-yellow-700 text-black"}`,onClick:()=>K(q),disabled:z(q)===0,children:q.isUserAttending?"Attending":z(q)===0?"Sold Out":Z(q)>0?"Attend":`Pay $${q.price}`})]})]})]},q.id))}),Math.ceil(l.length/W)>1&&s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[s.jsxs("p",{className:"text-gray-300 text-sm text-center",children:["Showing ",(v-1)*W+1," to"," ",Math.min(v*W,l.length)," ","of ",l.length," events"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(V,{onClick:()=>w(Math.max(1,v-1)),disabled:v===1,variant:"outline",className:"border-white/20 text-white hover:bg-white/10",children:"Previous"}),s.jsx(V,{onClick:()=>w(Math.min(Math.ceil(l.length/W),v+1)),disabled:v===Math.ceil(l.length/W),variant:"outline",className:"border-white/20 text-white hover:bg-white/10",children:"Next"})]})]})]})]})}),s.jsx(Xe,{open:y,onOpenChange:j,children:s.jsxs(Je,{className:"bg-gray-900 border-gray-700 text-white max-w-md",children:[s.jsx(Ze,{children:s.jsx(Qe,{className:"text-yellow-400",children:"Confirm Event Attendance"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:T()}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:'Guest Name (optional - type "none" if no guest)'}),s.jsx(ne,{value:P,onChange:q=>C(q.target.value),placeholder:"Enter guest first and last name or 'none'",className:"bg-white/10 border-white/20 text-white placeholder-gray-400"})]}),!se&&_&&Z(_)===0&&s.jsxs("div",{className:"text-xs text-gray-400 space-y-1",children:[s.jsxs("p",{children:[" Referred by (@",U||"none",") receives 20% of ticket sale"]}),s.jsx("p",{children:" Event performer receives 10% of ticket sale"})]})]}),s.jsxs(ha,{className:"flex gap-2",children:[s.jsx(V,{variant:"outline",onClick:()=>{j(!1),C("")},className:"border-white/20 text-white hover:bg-white/10 bg-transparent",children:"Cancel"}),s.jsx(V,{onClick:O,className:`${_&&Z(_)>0?"bg-green-600 hover:bg-green-700 text-white":"bg-yellow-600 hover:bg-yellow-700 text-black font-bold"}`,children:_&&Z(_)>0?se?"I Agree - Attend":"I Agree - Attend Free":s.jsxs(s.Fragment,{children:[s.jsx(Tt,{className:"h-4 w-4 mr-1"}),"Yes - Purchase Ticket $",_==null?void 0:_.price]})})]})]})}),s.jsx(Xe,{open:N,onOpenChange:k,children:s.jsxs(Je,{className:"bg-gray-900 border-gray-700 text-white max-w-4xl max-h-[90vh] overflow-hidden",children:[s.jsx(Ze,{children:s.jsx(Qe,{className:"text-yellow-400 text-xl",children:_==null?void 0:_.name})}),s.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-yellow-400 mb-3",children:"Event Information"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(fr,{className:"h-4 w-4 text-yellow-400"}),s.jsx("span",{children:_&&new Date(_.date).toLocaleDateString()})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(bc,{className:"h-4 w-4 text-yellow-400"}),s.jsxs("span",{children:[_==null?void 0:_.start_time," - ",_==null?void 0:_.end_time]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(it,{className:"h-4 w-4 text-yellow-400 mt-0.5"}),s.jsxs("span",{children:[_==null?void 0:_.address,", ",_==null?void 0:_.city,","," ",_==null?void 0:_.state]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Tt,{className:"h-4 w-4 text-yellow-400"}),s.jsxs("span",{children:["$",_==null?void 0:_.price]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ut,{className:"h-4 w-4 text-yellow-400"}),s.jsxs("span",{children:[_==null?void 0:_.current_attendees,"/",_==null?void 0:_.max_attendees," attending"]})]})]}),(_==null?void 0:_.description)&&s.jsxs("div",{className:"mt-4",children:[s.jsx("h4",{className:"font-semibold text-gray-300 mb-2",children:"Description"}),s.jsx("p",{className:"text-gray-300 text-sm",children:_.description})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-yellow-400 mb-3",children:"Media"}),s.jsx("img",{src:(_==null?void 0:_.photo_url)||"/placeholder.svg",alt:_==null?void 0:_.name,className:"w-full h-32 object-cover rounded-lg mb-3"}),(_==null?void 0:_.additional_photos)&&_.additional_photos.length>0&&s.jsxs("div",{className:"mb-3",children:[s.jsxs("h4",{className:"font-semibold text-gray-300 mb-2 text-sm",children:["Photos (",_.additional_photos.length,")"]}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:_.additional_photos.slice(0,6).map((q,he)=>s.jsx("img",{src:q,alt:`Event photo ${he+1}`,className:"w-full h-16 object-cover rounded"},he))})]}),(_==null?void 0:_.video_urls)&&_.video_urls.length>0&&s.jsxs("div",{className:"mb-3",children:[s.jsxs("h4",{className:"font-semibold text-gray-300 mb-2 text-sm",children:["Videos (",_.video_urls.length,")"]}),s.jsx("div",{className:"space-y-2",children:_.video_urls.slice(0,2).map((q,he)=>s.jsx("div",{className:"relative",children:s.jsx("video",{src:q,className:"w-full h-20 object-cover rounded",controls:!0})},he))}),s.jsxs(V,{variant:"outline",className:"w-full mt-3 border-red-400 text-red-400 hover:bg-red-400/10",disabled:!0,children:[s.jsx(ca,{className:"h-4 w-4 mr-1"}),"Watch Live (Coming Soon)"]})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-yellow-400 mb-3",children:["Attendees (",((le=_==null?void 0:_.attendees)==null?void 0:le.length)||0,")"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-4",children:[s.jsx(ne,{placeholder:"Search by username, city, or state",value:A,onChange:q=>L(q.target.value),className:"bg-white/10 border-white/20 text-white placeholder-gray-400"}),s.jsxs(Sr,{value:F,onValueChange:E,children:[s.jsx(dr,{className:"bg-white/10 border-white/20 text-white",children:s.jsx(kr,{placeholder:"Filter by type"})}),s.jsxs(ur,{className:"bg-gray-800 border-gray-700",children:[s.jsx(Se,{value:"all",className:"text-white",children:"All Types"}),s.jsx(Se,{value:"stripper",className:"text-white",children:"Strippers"}),s.jsx(Se,{value:"exotic",className:"text-white",children:"Exotics"}),s.jsx(Se,{value:"male",className:"text-white",children:"Males"}),s.jsx(Se,{value:"female",className:"text-white",children:"Females"})]})]})]}),_!=null&&_.attendees&&_.attendees.length>0?s.jsx("div",{className:"grid grid-cols-4 md:grid-cols-8 gap-3",children:ee(_.attendees).slice(0,16).map(q=>s.jsxs("div",{className:"text-center",children:[s.jsx("img",{src:q.users.profile_photo||"/placeholder.svg",alt:q.users.username,className:"w-16 h-16 rounded-full object-cover border border-yellow-400 mx-auto mb-1"}),s.jsxs("p",{className:"text-xs text-yellow-400 truncate",children:["@",q.users.username]}),s.jsx("p",{className:"text-xs text-gray-400",children:q.users.user_type})]},q.user_id))}):s.jsx("p",{className:"text-center text-gray-400 py-8",children:"No attendees yet. Be the first to join!"}),(_==null?void 0:_.attendees)&&ee(_.attendees).length>16&&s.jsxs("p",{className:"text-center text-gray-400 text-sm mt-3",children:["+",ee(_.attendees).length-16," ","more attendees"]})]})]})]})})]}):s.jsx(Xt,{children:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center px-4",children:s.jsx(Q,{className:"bg-white/10 backdrop-blur border-white/20 w-full max-w-md",children:s.jsxs(X,{className:"p-8 text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-red-400 mb-4",children:"Access Restricted"}),s.jsx("p",{className:"text-white mb-4",children:"This page is only available to Strippers and Exotic dancers."}),!1]})})})})},CW=()=>{const[e]=gr(),t=pt(),{toast:r}=Pe(),n=e.get("rate"),a=_a(e.get("ref")),[i,o]=f.useState(null),[l,c]=f.useState(null),[d,u]=f.useState(!0),[h,m]=f.useState([]),[x,g]=f.useState({}),[v,w]=f.useState(null),[b,p]=f.useState(!1),[y,j]=f.useState(!1),[N,k]=f.useState(""),[_,S]=f.useState(null),[P,C]=f.useState(!1),[A,L]=f.useState(null),[F,E]=f.useState(0),[W,U]=f.useState(!1),[Y,M]=f.useState(null);f.useEffect(()=>{n&&G()},[n]);const G=async()=>{try{u(!0),await Promise.all([R(),D()])}catch(T){console.error("Error initializing rating system:",T)}finally{u(!1)}},R=async()=>{try{const{data:{user:T}}=await I.auth.getUser();T&&(c(T),await ae(T.id))}catch(T){console.error("Error fetching current user:",T)}},D=async()=>{try{const T=String(n).trim().toLowerCase();let{data:z,error:Z}=await I.from("users").select("id, username, profile_photo, banner_photo, front_page_photo, city, state, bio, user_type, gender").eq("username",T).maybeSingle();if((!z||Z)&&!z){const le=await I.from("users").select("id, username, profile_photo, banner_photo, front_page_photo, city, state, bio, user_type, gender").ilike("username",T).maybeSingle();z=le.data,Z=le.error}if((!z||Z)&&!z){const le=await I.from("users").select("id, username, profile_photo, banner_photo, front_page_photo, city, state, bio, user_type, gender").ilike("username",`%${T}%`),q=le.data;if(q&&q.length>0){const he=Ae=>String(Ae||"").toLowerCase(),xe=q.find(Ae=>he(Ae.username)===T),me=q.find(Ae=>he(Ae.username).startsWith(T));z=xe||me||q[0],Z=le.error}}if(!z){console.warn("[Rate] Public fetch returned no data. Trying admin fallback for",T);let le=await Ve.from("users").select("id, username, profile_photo, banner_photo, front_page_photo, city, state, bio, user_type, gender").eq("username",T).maybeSingle(),q=le.data;if(q||(le=await Ve.from("users").select("id, username, profile_photo, banner_photo, front_page_photo, city, state, bio, user_type, gender").ilike("username",T).maybeSingle(),q=le.data),!q){const xe=(await Ve.from("users").select("id, username, profile_photo, banner_photo, front_page_photo, city, state, bio, user_type, gender").ilike("username",`%${T}%`)).data;if(xe&&xe.length>0){const me=Oe=>String(Oe||"").toLowerCase(),Ae=xe.find(Oe=>me(Oe.username)===T),Re=xe.find(Oe=>me(Oe.username).startsWith(T));q=Ae||Re||xe[0]}}q?(console.warn("[Rate] Admin fallback succeeded for",q.username),z=q):console.warn("[Rate] Admin fallback also failed for",T,"error:",Z)}if(Z){console.error("Error fetching user data:",Z);return}if(z){const le={id:String(z.id),username:String(z.username),profile_photo:String(z.profile_photo||""),banner_photo:String(z.banner_photo||""),front_page_photo:String(z.front_page_photo||""),city:String(z.city||""),state:String(z.state||""),bio:z.bio?String(z.bio):void 0,user_type:String(z.user_type),gender:z.gender?String(z.gender):void 0};o(le),await Promise.all([te(le.id),J(le.id)])}}catch(T){console.error("Error:",T)}},te=async T=>{try{const z=new Date().getFullYear(),{data:Z,error:le}=await I.from("ratings").select("rating").eq("user_id",T).eq("year",z);if(le){console.error("Error fetching user ratings:",le);return}const{data:q,error:he}=await I.from("ratings").select("user_id, rating").eq("year",z);if(he){console.error("Error fetching all ratings:",he);return}if(Z&&q){const xe=Z.reduce((_t,rr)=>_t+Number(rr.rating),0),me=Z.length,Ae={};q.forEach(_t=>{const rr=String(_t.user_id);Ae[rr]||(Ae[rr]=0),Ae[rr]+=Number(_t.rating)});const Oe=Object.entries(Ae).sort(([,_t],[,rr])=>rr-_t).findIndex(([_t])=>_t===T)+1;L({rank:Oe||0,totalScore:xe,totalRatings:me})}}catch(z){console.error("Error fetching current standing:",z)}},J=async T=>{try{const{data:z,error:Z}=await I.from("users").select("likes, liked_by").eq("id",T).single();if(!Z&&z&&(E(Number(z.likes)||0),l&&z.liked_by)){const le=Array.isArray(z.liked_by)?z.liked_by:[z.liked_by];U(le.includes(l.id))}}catch(z){console.error("Error fetching likes:",z)}},ae=async T=>{try{const z=new Date().getFullYear(),{data:Z,error:le}=await I.from("ratings").select("id, rater_id, user_id, rating, year, created_at").eq("rater_id",T).eq("year",z);if(le){console.error("Error fetching user ratings:",le);return}if(Z&&Array.isArray(Z)){const q=Z.map(me=>({id:String(me.id),rater_id:String(me.rater_id),user_id:String(me.user_id),rating:Number(me.rating),year:Number(me.year),created_at:String(me.created_at)}));m(q);const he={},xe=[...new Set(Z.map(me=>String(me.user_id)))];if(xe.length>0){const{data:me}=await I.from("users").select("id, username, profile_photo").in("id",xe);if(me){const Ae=me.reduce((Re,Oe)=>(Re[String(Oe.id)]=Oe,Re),{});Z.forEach(Re=>{const Oe=Ae[String(Re.user_id)];Oe&&(he[Number(Re.rating)]={number:Number(Re.rating),assigned_to_username:String(Oe.username),assigned_to_photo:String(Oe.profile_photo||""),is_current_page:String(Oe.username)===n})})}}g(he),C(Object.keys(he).length>=100)}}catch(z){console.error("Error fetching ratings:",z)}},K=async()=>{if(!(!l||!i))try{const{data:T,error:z}=await I.from("users").select("likes, liked_by").eq("id",i.id).single();if(z){console.error("Error fetching current user data:",z);return}const Z=Number(T.likes)||0,le=T.liked_by;let q=!1;if(le&&(q=(Array.isArray(le)?le:[le]).includes(l.id)),q){const{error:he}=await I.from("users").update({likes:Math.max(0,Z-1),liked_by:null}).eq("id",i.id);he||(U(!1),E(Math.max(0,Z-1)),r({title:"Unliked",description:`You unliked ${i.username}`}))}else{const{error:he}=await I.from("users").update({likes:Z+1,liked_by:l.id}).eq("id",i.id);he||(U(!0),E(Z+1),r({title:"Liked",description:`You liked ${i.username}!`}))}}catch(T){console.error("Error handling like:",T),r({title:"Error",description:"Failed to update like. Please try again.",variant:"destructive"})}},O=async T=>{if(!i||!l)return;if(P&&!x[T]){r({title:"All Numbers Used",description:"YOU HAVE USED ALL THE NUMBERS, CLICK HERE TO SEE THE RANKING OF ALL THE STRIPPERS AND EXOTICS",variant:"destructive"});return}const z=x[T];z?z.is_current_page?r({title:"Already Assigned",description:`You have already given number ${T} to ${i.username}.`}):(S({username:z.assigned_to_username,photo:z.assigned_to_photo}),w(T),j(!0)):(k(T===100?`Confirm you want to give ${i.username} number ${T}.`:`Confirm you want to give ${i.username} number ${T}.`),w(T),p(!0))},H=async()=>{if(!(!v||!i||!l))try{const T=new Date().getFullYear(),z=x[v];z&&!z.is_current_page&&await I.from("ratings").delete().eq("rater_id",l.id).eq("rating",v).eq("year",T),h.find(xe=>xe.user_id===i.id)&&await I.from("ratings").delete().eq("rater_id",l.id).eq("user_id",i.id).eq("year",T);const{error:le}=await I.from("ratings").insert({rater_id:l.id,user_id:i.id,rating:v,year:T});if(le){console.error("Error saving rating:",le),r({title:"Error",description:"Failed to save rating. Please try again.",variant:"destructive"});return}const q={...x};Object.keys(q).forEach(xe=>{const me=q[Number(xe)];me.assigned_to_username===i.username&&me.is_current_page&&delete q[Number(xe)]}),q[v]={number:v,assigned_to_username:i.username,assigned_to_photo:i.profile_photo||"",is_current_page:!0},g(q);const he={id:"",rater_id:l.id,user_id:i.id,rating:v,year:T,created_at:new Date().toISOString()};m(xe=>[...xe.filter(me=>me.user_id!==i.id),he]),r({title:"Rating Saved",description:`You have given ${i.username} number ${v}!`}),p(!1),w(null),z&&!z.is_current_page&&setTimeout(()=>{t(`/rate/?rate=${z.assigned_to_username}&ref=${a}`)},2e3)}catch(T){console.error("Error confirming rating:",T),r({title:"Error",description:"Failed to save rating. Please try again.",variant:"destructive"})}},re=async()=>{j(!1),p(!0),k(`This number is for ${_==null?void 0:_.username}! Do you want to give this number to ${i==null?void 0:i.username}?`)},ee=T=>{const z=x[T];return z?z.is_current_page?"bg-yellow-400 text-black":"bg-red-500 text-white":"bg-gray-700 text-white hover:bg-gray-600"};if(d)return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:s.jsx("div",{className:"text-white text-xl",children:"Loading..."})});if(!i)return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:s.jsx(Q,{className:"bg-red-900/20 border-red-500",children:s.jsxs(X,{className:"p-8 text-center",children:[s.jsx("h2",{className:"text-red-400 font-bold text-xl mb-2",children:"User Not Found"}),s.jsx("p",{className:"text-red-300",children:"The requested user could not be found."}),s.jsx(V,{onClick:()=>window.location.href="/rate-girls",className:"mt-4 bg-red-500 hover:bg-red-600",children:"Back to Rate Girls"})]})})});if(P&&Object.values(x).every(T=>!T.is_current_page))return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:s.jsx(Q,{className:"bg-yellow-900/20 border-yellow-500 max-w-md",children:s.jsxs(X,{className:"p-8 text-center",children:[s.jsx(na,{className:"w-16 h-16 text-yellow-400 mx-auto mb-4"}),s.jsx("h2",{className:"text-yellow-400 font-bold text-xl mb-4",children:"YOU HAVE USED ALL THE NUMBERS"}),s.jsx("p",{className:"text-yellow-300 mb-6",children:"CLICK HERE TO SEE THE RANKING OF ALL THE STRIPPERS AND EXOTICS"}),s.jsxs(V,{onClick:()=>t("/rankings"),className:"bg-yellow-500 hover:bg-yellow-600 text-black font-bold",children:[s.jsx(Bs,{className:"w-4 h-4 mr-2"}),"View Rankings"]})]})})});const se=Array.from({length:100},(T,z)=>z+1);return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white",children:[s.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[i.banner_photo&&s.jsx("div",{className:"mb-8",children:s.jsx("img",{src:i.banner_photo,alt:`${i.username} banner`,className:"w-full h-48 md:h-64 object-cover rounded-lg cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>M(i.banner_photo)})}),s.jsxs("div",{className:"text-center mb-8",children:[A&&A.rank>0&&s.jsx("div",{className:"mb-6",children:s.jsx(Q,{className:"bg-gradient-to-r from-yellow-900/30 to-orange-900/30 border-yellow-500/50 inline-block",children:s.jsx(X,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Bs,{className:"w-8 h-8 text-violet-600"}),s.jsxs("div",{className:"text-left",children:[s.jsxs("div",{className:"text-2xl font-bold text-violet-600",children:["Ranked #",A.rank]}),s.jsxs("div",{className:"text-sm text-gray-900",children:[A.totalScore," points "," ",A.totalRatings," ratings"]})]})]})})})}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6 max-w-2xl mx-auto",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-2 border-yellow-400 rounded-lg overflow-hidden mb-2",children:s.jsx("img",{src:i.profile_photo||"/placeholder.svg",alt:"Profile",className:"w-full h-32 object-cover cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>M(i.profile_photo)})}),s.jsx("p",{className:"text-sm text-gray-300",children:"Profile"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-2 border-blue-400 rounded-lg overflow-hidden mb-2",children:s.jsx("img",{src:i.banner_photo||"/placeholder.svg",alt:"Banner",className:"w-full h-32 object-cover cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>M(i.banner_photo)})}),s.jsx("p",{className:"text-sm text-gray-300",children:"Banner"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"border-2 border-green-400 rounded-lg overflow-hidden mb-2",children:s.jsx("img",{src:i.front_page_photo||"/placeholder.svg",alt:"Front Page",className:"w-full h-32 object-cover cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>M(i.front_page_photo)})}),s.jsx("p",{className:"text-sm text-gray-300",children:"Front Page"})]})]}),s.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-yellow-400 mb-2",children:["Rate @",i.username]}),s.jsxs("div",{className:"flex items-center justify-center gap-4 text-gray-300 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(At,{size:16}),s.jsx("span",{className:"capitalize",children:i.user_type})]}),i.city&&i.state&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(it,{size:16}),s.jsxs("span",{children:[i.city,", ",i.state]})]})]}),i.bio&&s.jsx("p",{className:"text-gray-300 mb-6 max-w-2xl mx-auto",children:i.bio}),s.jsx("div",{className:"flex justify-center mb-8",children:s.jsxs(V,{onClick:K,variant:W?"default":"outline",className:`flex items-center gap-2 ${W?"bg-red-600 hover:bg-red-700 text-white":"border-red-500 text-red-400 hover:bg-red-600 hover:text-white"}`,children:[s.jsx(pn,{className:`w-4 h-4 ${W?"fill-current":""}`}),W?"Liked":"Like"," (",F,")"]})}),s.jsx("div",{className:"flex justify-center mb-8",children:s.jsx(V,{onClick:()=>t(`/profile/${i.username}`),className:"bg-purple-600 hover:bg-purple-700",children:"View Profile"})})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-2xl font-bold text-yellow-400 mb-6 text-center",children:"Select a Number (1-100)"}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mb-6 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 bg-gray-700 rounded"}),s.jsx("span",{children:"Available"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 bg-yellow-400 rounded"}),s.jsxs("span",{children:["Selected for ",i.username]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 bg-red-500 rounded"}),s.jsx("span",{children:"Used for other performer"})]})]}),s.jsx("div",{className:"bg-white/10 backdrop-blur rounded-2xl p-4 sm:p-6 border border-white/20",children:s.jsx("div",{className:"grid grid-cols-10 gap-1 sm:gap-2 max-w-4xl mx-auto justify-items-center",children:se.map(T=>{const z=ee(T),Z=x[T];return s.jsx("button",{onClick:()=>O(T),className:`
                      w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 rounded-lg font-bold text-xs sm:text-sm transition-all duration-200 
                      ${z}
                      ${Z!=null&&Z.is_current_page?"scale-110 shadow-lg":""}
                      hover:scale-105
                    `,title:Z?`Assigned to ${Z.assigned_to_username}`:"Available",children:T},T)})})})]}),s.jsx("div",{className:"text-center mb-8",children:s.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-lg p-4 max-w-md mx-auto",children:[s.jsxs("p",{className:"text-gray-300 mb-2",children:["Numbers Used: ",Object.keys(x).length,"/100"]}),s.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:s.jsx("div",{className:"bg-yellow-400 h-2 rounded-full transition-all duration-300",style:{width:`${Object.keys(x).length/100*100}%`}})})]})}),s.jsx("div",{className:"text-center",children:s.jsx(V,{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 text-black hover:from-yellow-500 hover:to-yellow-600 px-8 py-4 text-lg font-semibold rounded-xl shadow-lg transform hover:scale-105 transition-all duration-200",onClick:()=>t(`/rate-girls/?ref=${a}`),children:"Rate Another Performer"})})]}),s.jsx(Xe,{open:b,onOpenChange:p,children:s.jsxs(Je,{className:"bg-gray-800 border-yellow-500",children:[s.jsxs(Ze,{children:[s.jsx(Qe,{className:"text-yellow-400",children:"Confirm Rating"}),s.jsx(fa,{className:"text-white",children:N})]}),s.jsxs(ha,{className:"gap-2",children:[s.jsx(V,{onClick:()=>p(!1),variant:"outline",className:"border-gray-500 text-gray-300 hover:bg-gray-700",children:"No"}),s.jsx(V,{onClick:H,className:"bg-yellow-500 text-black hover:bg-yellow-600",children:"Yes"})]})]})}),s.jsx(Xe,{open:y,onOpenChange:j,children:s.jsxs(Je,{className:"bg-gray-800 border-red-500",children:[s.jsxs(Ze,{children:[s.jsx(Qe,{className:"text-red-400",children:"Number Already Used"}),s.jsx(fa,{className:"text-white",children:s.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[(_==null?void 0:_.photo)&&s.jsx("img",{src:_.photo,alt:_.username,className:"w-16 h-16 rounded-full object-cover border-2 border-red-400"}),s.jsxs("div",{children:[s.jsxs("p",{children:["This number is for"," ",s.jsx("strong",{children:_==null?void 0:_.username}),"!"]}),s.jsxs("p",{children:["Do you want to give this number to"," ",s.jsx("strong",{children:i==null?void 0:i.username}),"?"]})]})]})})]}),s.jsxs(ha,{className:"gap-2",children:[s.jsx(V,{onClick:()=>j(!1),variant:"outline",className:"border-gray-500 text-gray-300 hover:bg-gray-700",children:"No"}),s.jsx(V,{onClick:re,className:"bg-red-500 text-white hover:bg-red-600",children:"Yes"})]})]})}),Y&&s.jsx(Xe,{open:!!Y,onOpenChange:()=>M(null),children:s.jsxs(Je,{className:"max-w-4xl bg-gray-900 border-gray-700",children:[s.jsx(Ze,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Qe,{className:"text-white",children:"Image Preview"}),s.jsx(V,{variant:"ghost",size:"sm",onClick:()=>M(null),className:"text-gray-400 hover:text-white",children:s.jsx(er,{className:"w-4 h-4"})})]})}),s.jsx("div",{className:"flex justify-center",children:s.jsx("img",{src:Y,alt:"Expanded view",className:"max-w-full max-h-[70vh] object-contain rounded-lg"})})]})})]})},oT=({searchName:e,searchCity:t,searchState:r,onUserSelect:n,actionType:a,noDataMessage:i,orderBy:o="username",orderDirection:l="asc",onImageClick:c,rateFilter:d="all",currentUserId:u=null,usePersonalRatings:h=!1})=>{const[m,x]=f.useState([]),[g,v]=f.useState(!0);f.useEffect(()=>{w()},[o,l,u,h]);const w=async()=>{try{v(!0);const{data:p,error:y}=await I.from("users").select("id, username, profile_photo, city, state, user_type").in("user_type",["stripper","exotic"]).order(o,{ascending:l==="asc"});if(y)throw y;const j=(p||[]).map(A=>({id:String(A.id),username:String(A.username),profile_photo:String(A.profile_photo||""),city:String(A.city||""),state:String(A.state||""),user_type:String(A.user_type),ratingCount:0,myRating:null}))??[];if(j.length===0){x(j);return}const N=j.map(A=>A.id),{data:k,error:_}=await I.from("ratings").select("user_id").in("user_id",N);if(_)throw _;const S=(k||[]).reduce((A,L)=>{const F=String(L.user_id);return A[F]=(A[F]||0)+1,A},{});let P={};if(h&&u){const{data:A,error:L}=await I.from("ratings").select("user_id, rating").eq("rater_id",u).in("user_id",N);if(L)throw L;P=(A||[]).reduce((F,E)=>{const W=String(E.user_id);return F[W]=Number(E.rating),F},{})}const C=j.map(A=>({...A,ratingCount:S[A.id]||0,myRating:P[A.id]??null}));x(C)}catch(p){console.error("Error fetching users:",p),x([])}finally{v(!1)}},b=f.useMemo(()=>m.filter(p=>{const y=!e||p.username.toLowerCase().includes(e.toLowerCase()),j=!t||p.city&&p.city.toLowerCase().includes(t.toLowerCase()),N=!r||p.state&&p.state.toLowerCase().includes(r.toLowerCase());if(!y||!j||!N)return!1;const k=p.myRating!==null,_=p.ratingCount>0;return d==="rated"?h?k:_:d==="not-rated"?h?!k:!_:!0}),[m,e,t,r,d,h]);return g?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:[...Array(8)].map((p,y)=>s.jsx(Q,{className:"bg-white/10 backdrop-blur border-white/20 animate-pulse",children:s.jsxs(X,{className:"p-4",children:[s.jsx("div",{className:"w-full h-48 bg-gray-700 rounded-lg mb-4"}),s.jsx("div",{className:"h-4 bg-gray-700 rounded mb-2"}),s.jsx("div",{className:"h-3 bg-gray-700 rounded mb-4"}),s.jsx("div",{className:"h-8 bg-gray-700 rounded"})]})},y))}):b.length===0?s.jsx(Q,{className:"bg-white/10 backdrop-blur border-white/20",children:s.jsxs(X,{className:"p-8 text-center",children:[s.jsx("h3",{className:"text-white font-bold text-xl mb-2",children:i||"No users found"}),s.jsx("p",{className:"text-gray-300",children:e||t||r?"Try adjusting your search criteria.":"Check back later for updates."})]})}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:b.map(p=>s.jsx(Q,{className:"bg-white/10 backdrop-blur border-white/20 hover:bg-white/20 transition-all duration-300 group",children:s.jsxs(X,{className:"p-4",children:[s.jsxs("div",{className:"relative mb-4",children:[s.jsx("img",{src:p.profile_photo||"/placeholder.svg",alt:p.username,className:"w-full h-48 object-cover rounded-lg group-hover:scale-105 transition-transform duration-300 cursor-pointer",onClick:c?y=>c(p.profile_photo||"/placeholder.svg",p.username,y):void 0}),a!=="tip"&&s.jsx("div",{className:"absolute top-2 left-2",children:s.jsx("span",{className:"bg-black/70 text-white text-xs font-semibold px-2 py-1 rounded-full",children:h?p.myRating!==null?`Your Rating ${p.myRating}`:"Not Rated":`Rated ${p.ratingCount}`})}),s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx("span",{className:"bg-purple-600 text-white text-xs px-2 py-1 rounded-full capitalize",children:p.user_type})})]}),s.jsxs("h3",{className:"text-white font-bold text-lg mb-2 truncate",children:["@",p.username]}),(p.city||p.state)&&s.jsxs("div",{className:"flex items-center text-gray-300 text-sm mb-4",children:[s.jsx(it,{size:14,className:"mr-1"}),s.jsxs("span",{className:"truncate",children:[p.city,p.city&&p.state?", ":"",p.state]})]}),s.jsx(V,{onClick:()=>n(p),className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-semibold",children:a==="tip"?" Tip Now":" Rate Now"})]})},p.id))})},EW=()=>{const[e]=gr();e.get("rate");const t=e.get("ref")||"",[r,n]=f.useState(""),[a,i]=f.useState(""),[o,l]=f.useState(""),[c,d]=f.useState(null),[u,h]=f.useState([]),[m,x]=f.useState(!1),[g,v]=f.useState(null),[w,b]=f.useState("all");f.useEffect(()=>{p(),y()},[]);const p=async()=>{try{const{data:{user:S}}=await I.auth.getUser();d(S)}catch(S){console.error("Error getting current user:",S)}},y=async()=>{try{const S=new Date().getFullYear(),{data:P,error:C}=await I.from("ratings").select("user_id, rating").eq("year",S);if(C){console.error("Error fetching ratings:",C);return}const{data:A,error:L}=await I.from("users").select("id, username, profile_photo, city, state, user_type").in("user_type",["stripper","exotic"]);if(L){console.error("Error fetching users:",L);return}if(P&&A){const F={};A.forEach(W=>{F[String(W.id)]={id:String(W.id),username:String(W.username),profile_photo:String(W.profile_photo||""),city:String(W.city||""),state:String(W.state||""),user_type:String(W.user_type),total_score:0,rank:0}}),P.forEach(W=>{F[String(W.user_id)]&&(F[String(W.user_id)].total_score+=Number(W.rating))});const E=Object.values(F).filter(W=>W.total_score>0).sort((W,U)=>U.total_score-W.total_score);E.forEach((W,U)=>{W.rank=U+1}),h(E.slice(0,20))}}catch(S){console.error("Error fetching top ranked:",S)}},j=S=>{const C=`/rate/?rate=${S.username.trim()}${t?`&ref=${t}`:""}`;window.location.href=C},N=(S,P,C)=>{C.stopPropagation(),v({url:S,username:P}),x(!0)},k=()=>{n(""),i(""),l("")},_=(S,P)=>{const C=w===S;return s.jsx(V,{type:"button",onClick:()=>b(S),className:`flex-1 sm:flex-none rounded-full px-6 py-2 text-sm font-semibold transition-all duration-200 ${C?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg border-transparent":"bg-white/10 text-gray-100 border border-white/20 hover:bg-white/20"}`,children:P})};return s.jsx(Xt,{children:s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white",children:[s.jsx("div",{className:"relative w-full bg-black",children:s.jsxs("div",{className:"relative w-full h-0",style:{paddingBottom:"56.25%"},children:[s.jsx("video",{className:"absolute inset-0 w-full h-full object-cover",autoPlay:!0,muted:!0,loop:!0,playsInline:!0,poster:"https://dimesonly.s3.us-east-2.amazonaws.com/HOUSING-ANGELS+(1).png",children:s.jsx("source",{src:"https://dimesonlyworld.s3.us-east-2.amazonaws.com/HOME+PAGE+16-9+1080+final.mp4",type:"video/mp4"})}),s.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-yellow-400 mb-4",children:" Rate 100 Ladies' Profiles "}),s.jsx("p",{className:"text-xl text-gray-300",children:"Search by name, city, or state to find a specific lady you want to rate!"})]})})]})}),s.jsxs("div",{className:"max-w-7xl mx-auto p-4",children:[u.length>0&&s.jsxs("div",{className:"mb-12",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs("h2",{className:"text-3xl font-bold text-yellow-400 mb-2 flex items-center justify-center gap-2",children:[s.jsx(at,{className:"w-8 h-8"}),"Top 20 Ranked Ladies",s.jsx(at,{className:"w-8 h-8"})]}),s.jsx("p",{className:"text-gray-300",children:"Leading performers in the 2025 rankings"})]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3 sm:gap-4 lg:gap-6 mb-8",children:u.map(S=>s.jsx(Q,{className:"bg-gradient-to-br from-yellow-900/30 to-orange-900/30 backdrop-blur border-yellow-500/50 hover:border-yellow-400 transition-all duration-300 group cursor-pointer overflow-hidden",onClick:()=>j(S),children:s.jsxs(X,{className:"p-3 sm:p-4",children:[s.jsxs("div",{className:"relative mb-3 sm:mb-4",children:[s.jsx("img",{src:S.profile_photo||"/placeholder.svg",alt:S.username,className:"w-full h-32 sm:h-40 md:h-48 object-cover rounded-lg group-hover:scale-105 transition-transform duration-300 cursor-pointer",onClick:P=>N(S.profile_photo||"/placeholder.svg",S.username,P)}),s.jsx("div",{className:"absolute top-2 left-2",children:s.jsxs("div",{className:"bg-yellow-500 text-black text-xs px-2 py-1 rounded-full font-bold flex items-center gap-1",children:[s.jsx(Bs,{className:"w-3 h-3"}),"#",S.rank]})}),s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx("span",{className:"bg-purple-600 text-white text-xs px-2 py-1 rounded-full capitalize",children:S.user_type})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h3",{className:"text-violet-600 font-bold text-sm sm:text-base md:text-lg truncate",children:["@",S.username]}),S.city&&S.state&&s.jsxs("div",{className:"flex items-center text-gray-900 text-xs sm:text-sm",children:[s.jsx(it,{size:12,className:"mr-1 flex-shrink-0"}),s.jsxs("span",{className:"truncate",children:[S.city,", ",S.state]})]}),s.jsxs("div",{className:"text-center pt-2 border-t border-white/10",children:[s.jsx("div",{className:"text-violet-600 font-bold text-sm sm:text-base md:text-lg",children:S.total_score.toLocaleString()}),s.jsx("div",{className:"text-gray-900 text-xs",children:"Total Score"})]})]})]})},S.id))})]}),s.jsxs("div",{className:"text-center mb-12",children:[s.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-6",children:[s.jsx("span",{className:"text-red-500",children:"RATE GIRLS PAGE"}),s.jsx("br",{}),"How it works:"]}),s.jsx("p",{className:"text-white text-lg leading-relaxed max-w-4xl mx-auto",children:"Begin by rating the ladies. For every 100 new females who join, you will receive a text notification to rate the next group of 100 images during your available time. The top-rated females will be featured at the top of each subsequent group of 100."})]}),s.jsx("div",{className:"max-w-6xl mx-auto mb-8",children:s.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-2xl p-8 shadow-lg border border-white/20",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"relative group",children:[s.jsxs("label",{className:"block text-sm font-semibold text-white mb-2 items-center gap-2",children:[s.jsx(At,{size:16,className:"text-blue-400"}),"Search by Name"]}),s.jsxs("div",{className:"relative",children:[s.jsx(bs,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),s.jsx(ne,{type:"text",placeholder:"e.g., Miami, Sky, Mercedes...",value:r,onChange:S=>n(S.target.value),className:"w-full pl-12 pr-4 py-4 bg-white/20 border-2 border-white/30 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300 text-white placeholder-gray-300"})]})]}),s.jsxs("div",{className:"relative group",children:[s.jsxs("label",{className:"block text-sm font-semibold text-white mb-2 items-center gap-2",children:[s.jsx(it,{size:16,className:"text-green-400"}),"Search by City"]}),s.jsxs("div",{className:"relative",children:[s.jsx(bs,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),s.jsx(ne,{type:"text",placeholder:"e.g., Phoenix, Las Vegas, Dallas...",value:a,onChange:S=>i(S.target.value),className:"w-full pl-12 pr-4 py-4 bg-white/20 border-2 border-white/30 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-300 text-white placeholder-gray-300"})]})]}),s.jsxs("div",{className:"relative group",children:[s.jsxs("label",{className:"block text-sm font-semibold text-white mb-2 items-center gap-2",children:[s.jsx(w0,{size:16,className:"text-purple-400"}),"Search by State"]}),s.jsxs("div",{className:"relative",children:[s.jsx(bs,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),s.jsx(ne,{type:"text",placeholder:"e.g., AZ, CA, TX, NV...",value:o,onChange:S=>l(S.target.value),className:"w-full pl-12 pr-4 py-4 bg-white/20 border-2 border-white/30 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-300 text-white placeholder-gray-300"})]})]})]}),s.jsx("div",{className:"mt-6",children:s.jsx("div",{className:"max-w-md mx-auto sm:max-w-none",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 bg-white/5 border border-white/10 rounded-2xl p-3 sm:p-2 shadow-inner",children:[_("all","All"),_("rated","Rated"),_("not-rated","Not Rated")]})})}),(r||a||o)&&s.jsx("div",{className:"mt-6 text-center",children:s.jsxs(V,{onClick:k,variant:"outline",className:"inline-flex items-center gap-2 px-6 py-3 border-white/30 text-white hover:bg-white/20",children:[s.jsx(bs,{size:16}),"Clear All Filters"]})})]})}),s.jsx(oT,{searchName:r,searchCity:a,searchState:o,rateFilter:w,onUserSelect:j,actionType:"rate",orderBy:"created_at",orderDirection:"desc",onImageClick:N,currentUserId:(c==null?void 0:c.id)??null,usePersonalRatings:!!(c!=null&&c.id)})]}),s.jsx(Xe,{open:m,onOpenChange:x,children:s.jsxs(Je,{className:"bg-gray-800 border-yellow-500 max-w-4xl max-h-[90vh] overflow-hidden",children:[s.jsxs(Ze,{children:[s.jsxs(Qe,{className:"text-yellow-400 flex items-center gap-2",children:["Photo - @",g==null?void 0:g.username]}),s.jsx("button",{onClick:()=>x(!1),className:"absolute right-4 top-4 text-gray-400 hover:text-white",children:s.jsx(er,{className:"w-6 h-6"})})]}),s.jsx("div",{className:"flex items-center justify-center max-h-[70vh]",children:g&&s.jsx("img",{src:g.url,alt:`${g.username} photo`,className:"max-w-full max-h-full object-contain rounded-lg"})})]})})]})})},PW=()=>{const[e,t]=f.useState([]),[r,n]=f.useState(!0),[a,i]=f.useState("all"),o=pt(),{isMobile:l,getContainerClasses:c,getPaddingClasses:d}=ki();f.useEffect(()=>{u()},[a]);const u=async()=>{try{n(!0);const x=new Date().getFullYear(),{data:g,error:v}=await I.from("ratings").select("user_id, rating").eq("year",x);if(v){console.error("Error fetching ratings:",v);return}const{data:w,error:b}=await I.from("users").select("id, username, profile_photo, city, state, user_type").in("user_type",["stripper","exotic"]);if(b){console.error("Error fetching users:",b);return}if(g&&w){const p={};w.forEach(j=>{p[j.id]={id:j.id,username:j.username,profile_photo:j.profile_photo,city:j.city,state:j.state,user_type:j.user_type,total_score:0,rating_count:0,rank:0}}),g.forEach(j=>{p[j.user_id]&&(p[j.user_id].total_score+=j.rating,p[j.user_id].rating_count+=1)});let y=Object.values(p).filter(j=>j.rating_count>0).sort((j,N)=>N.total_score-j.total_score);a!=="all"&&(y=y.filter(j=>j.user_type===a)),y.forEach((j,N)=>{j.rank=N+1}),t(y)}}catch(x){console.error("Error fetching rankings:",x)}finally{n(!1)}},h=x=>{switch(x){case 1:return s.jsx(Bs,{className:"w-8 h-8 text-yellow-400"});case 2:return s.jsx(KL,{className:"w-8 h-8 text-gray-300"});case 3:return s.jsx(gs,{className:"w-8 h-8 text-amber-600"});default:return s.jsx(lr,{className:"w-6 h-6 text-gray-400"})}},m=x=>{switch(x){case 1:return"bg-gradient-to-r from-yellow-400 to-yellow-600";case 2:return"bg-gradient-to-r from-gray-300 to-gray-500";case 3:return"bg-gradient-to-r from-amber-500 to-amber-700";default:return"bg-gradient-to-r from-purple-500 to-pink-600"}};return r?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:s.jsx("div",{className:"text-white text-xl",children:"Loading rankings..."})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white",children:s.jsxs("div",{className:c("max-w-6xl mx-auto px-4 py-8"),children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-yellow-400 mb-4",children:" 2025 RANKINGS "}),s.jsx("p",{className:"text-gray-300 text-lg",children:"Top performers ranked by total rating scores"})]}),s.jsxs("div",{className:"flex justify-center gap-4 mb-8",children:[s.jsx(V,{onClick:()=>i("all"),className:`px-6 py-3 font-semibold ${a==="all"?"bg-yellow-500 text-black hover:bg-yellow-600":"bg-white/10 text-white hover:bg-white/20"}`,children:"All Performers"}),s.jsx(V,{onClick:()=>i("stripper"),className:`px-6 py-3 font-semibold ${a==="stripper"?"bg-pink-500 text-white hover:bg-pink-600":"bg-white/10 text-white hover:bg-white/20"}`,children:"Strippers"}),s.jsx(V,{onClick:()=>i("exotic"),className:`px-6 py-3 font-semibold ${a==="exotic"?"bg-purple-500 text-white hover:bg-purple-600":"bg-white/10 text-white hover:bg-white/20"}`,children:"Exotics"})]}),e.length===0?s.jsx(Q,{className:`bg-white/10 backdrop-blur border-white/20 ${l?"mx-4":"max-w-md mx-auto"}`,children:s.jsxs(X,{className:`${d("p-8")} text-center`,children:[s.jsx("h3",{className:"text-xl font-bold text-yellow-400 mb-4",children:"No Rankings Yet"}),s.jsx("p",{className:"text-gray-300 mb-4",children:"No ratings have been submitted for 2025 yet."}),s.jsx(V,{onClick:()=>o("/rate-girls"),className:"bg-yellow-500 hover:bg-yellow-600 text-black font-bold",children:"Start Rating"})]})}):s.jsx("div",{className:`space-y-4 ${l?"px-4":""}`,children:e.map((x,g)=>s.jsx(Q,{className:`
                  bg-white/10 backdrop-blur border-white/20 hover:bg-white/20 
                  transition-all duration-300 overflow-hidden
                  ${x.rank<=3?"border-2 border-yellow-400/50 shadow-lg":""}
                  ${l?"rounded-none mx-0":""}
                `,children:s.jsx(X,{className:d(),children:s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"flex-shrink-0 text-center",children:[s.jsx("div",{className:`
                        w-16 h-16 rounded-full flex items-center justify-center
                        ${m(x.rank)}
                      `,children:h(x.rank)}),s.jsxs("div",{className:"mt-2 font-bold text-lg text-yellow-400",children:["#",x.rank]})]}),s.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[s.jsx("img",{src:x.profile_photo||"/placeholder.svg",alt:x.username,className:"w-20 h-20 rounded-full object-cover border-2 border-yellow-400"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h3",{className:"text-2xl font-bold text-yellow-400 mb-2",children:["@",x.username]}),s.jsxs("div",{className:"flex items-center gap-4 text-gray-300 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(At,{size:14}),s.jsx("span",{className:"capitalize",children:x.user_type})]}),x.city&&x.state&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(it,{size:14}),s.jsxs("span",{children:[x.city,", ",x.state]})]})]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-3xl font-bold text-yellow-400 mb-1",children:x.total_score.toLocaleString()}),s.jsx("div",{className:"text-gray-300 text-sm",children:"Total Score"}),s.jsxs("div",{className:"text-gray-400 text-xs mt-1",children:[x.rating_count," ratings"]})]})]})})},x.id))}),s.jsx("div",{className:`text-center mt-12 ${l?"px-4":""}`,children:s.jsx(V,{onClick:()=>o("/rate-girls"),className:"bg-gradient-to-r from-yellow-400 to-yellow-500 text-black hover:from-yellow-500 hover:to-yellow-600 px-8 py-4 text-lg font-semibold rounded-xl shadow-lg transform hover:scale-105 transition-all duration-200",children:"Rate More Performers"})})]})})},lT=({selectedAmount:e,onAmountChange:t,customAmount:r,onCustomAmountChange:n})=>{const i=[5,10,20,50,100,200],o=l=>{const c=l.replace(/[^0-9.]/g,"");n(c);const d=parseFloat(c);!isNaN(d)&&d>=5?t(d):t(0)};return s.jsx(Q,{className:"bg-gray-900 border-gray-700",children:s.jsxs(X,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Tt,{className:"w-5 h-5 text-green-400"}),s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Select Tip Amount"})]}),s.jsx("div",{className:"grid grid-cols-3 gap-3 mb-4",children:i.map(l=>s.jsxs(V,{variant:e===l?"default":"outline",onClick:()=>{t(l),n("")},className:`h-12 text-lg font-semibold ${e===l?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-800 border-gray-600 text-gray-300 hover:bg-gray-700"}`,children:["$",l]},l))}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-gray-300",children:"Or enter custom amount:"}),s.jsxs("div",{className:"relative",children:[s.jsx(Tt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx(ne,{type:"text",placeholder:"0.00",value:r,onChange:l=>o(l.target.value),className:"pl-10 bg-gray-800 border-gray-600 text-white placeholder-gray-400 focus:border-green-500"})]})]}),e>=5&&s.jsxs("div",{className:"mt-4 p-3 bg-green-900/20 border border-green-700 rounded-lg",children:[s.jsxs("p",{className:"text-green-400 text-sm",children:["You're about to tip"," ",s.jsxs("span",{className:"font-bold",children:["$",e.toFixed(2)]})]}),s.jsxs("p",{className:"text-green-300 text-xs mt-1",children:["This will generate ",e," lottery tickets"]})]})]})})},TW="Jackpot is maxed out for the upcoming drawing. Tipping will resume at Saturday 12:00 am PST.",Hm="JACKPOT_UNAVAILABLE",AW=()=>{const{toast:e}=Pe(),t=pt(),[r]=gr(),n=r.get("tip"),a=r.get("ref")||"",[i,o]=f.useState(0),[l,c]=f.useState(""),[d,u]=f.useState(null),[h,m]=f.useState([]),[x,g]=f.useState([]),[v,w]=f.useState(!1),[b,p]=f.useState(""),[y,j]=f.useState(null),[N,k]=f.useState(!0),[_,S]=f.useState(""),[P,C]=f.useState(0),[A,L]=f.useState(!1),[F,E]=f.useState(!1),[W,U]=f.useState(null);f.useEffect(()=>{n&&(D(),te()),Y(),M()},[n]),f.useEffect(()=>{d&&y&&J()},[d,y]);const Y=async()=>{try{const{data:{user:O}}=await I.auth.getUser();if(O){const{data:H,error:re}=await I.from("users").select("username").eq("id",O.id).single();j(!re&&H?{id:O.id,email:O.email,username:String(H.username)}:O)}}catch(O){console.error("Error getting current user:",O)}},M=()=>{if(window.paypal){E(!0);return}const H="https://www.paypal.com/sdk/js?client-id=sb&currency=USD",re=document.createElement("script");re.src=H,re.async=!0,re.onload=()=>{E(!0)},re.onerror=()=>{U("Failed to load PayPal SDK")},document.querySelector('script[src*="paypal.com/sdk"]')||document.body.appendChild(re)},G=async()=>{try{const{data:O,error:H}=await I.from("v_jackpot_active_pool").select("pool_id,status").single();if(H){if("code"in H&&H.code==="PGRST116")return{canTip:!1,message:"Jackpot ticket sales are unavailable right now. Please try again later."};throw H}return O?O.status==="sold_out"?{canTip:!1,message:TW}:{canTip:!0}:{canTip:!1,message:"Jackpot ticket sales are unavailable right now. Please try again later."}}catch(O){return console.error("Jackpot availability check failed:",O),{canTip:!1,message:"Jackpot ticket sales are unavailable right now. Please try again later."}}},R=(O,H)=>{if(!window.paypal||H<=0)return;const re=document.getElementById(O);re&&(re.innerHTML="",window.paypal.Buttons({createOrder:async(ee,se)=>{const T=se,z=await G();if(!z.canTip){const Z=z.message||"Jackpot ticket sales are unavailable right now. Please try again later.";return e({title:Z.toLowerCase().includes("maxed")?"Jackpot Sold Out":"Tip Unavailable",description:Z,variant:"destructive"}),Promise.reject(new Error(Hm))}return T.order.create({purchase_units:[{amount:{value:H.toFixed(2)},custom_id:JSON.stringify({tipped_username:d==null?void 0:d.username,referrer_username:a,tipper_username:(y==null?void 0:y.username)||(y==null?void 0:y.email)||"anonymous",tip_amount:H,tip_message:(_||"").slice(0,60)})}]})},onApprove:(ee,se)=>se.order.capture().then(z=>{K(z)}),onError:ee=>{ee===Hm||ee instanceof Error&&ee.message===Hm||(console.error("PayPal error:",ee),U("Payment failed. Please try again."))}}).render(re))};f.useEffect(()=>{if(F&&i>=5&&y&&d){const O=`paypal-button-container-${i}`;setTimeout(()=>R(O,i),100)}},[F,i,y,d]);const D=async()=>{try{k(!0);const{data:O,error:H}=await I.from("users").select("*").eq("username",n).in("user_type",["stripper","exotic"]).single();if(H){console.error("Error fetching user data:",H);return}O&&u({id:String(O.id),username:String(O.username),profile_photo:String(O.profile_photo||""),banner_photo:O.banner_photo?String(O.banner_photo):void 0,city:String(O.city||""),state:String(O.state||""),bio:O.bio?String(O.bio):void 0,user_type:String(O.user_type),created_at:String(O.created_at)})}catch(O){console.error("Error:",O)}finally{k(!1)}},te=async()=>{if(n)try{const{data:O,error:H}=await I.from("users").select("id").eq("username",n).single();if(H||!O)return;const{data:re,error:ee}=await I.from("user_media").select("id, media_url, media_type, created_at").eq("user_id",O.id).eq("media_type","photo").order("created_at",{ascending:!1}).limit(3);!ee&&re&&m(re.map(z=>({id:String(z.id),media_url:String(z.media_url),media_type:z.media_type,created_at:String(z.created_at)})));const{data:se,error:T}=await I.from("user_media").select("id, media_url, media_type, created_at").eq("user_id",O.id).eq("media_type","video").order("created_at",{ascending:!1}).limit(2);!T&&se&&g(se.map(z=>({id:String(z.id),media_url:String(z.media_url),media_type:z.media_type,created_at:String(z.created_at)})))}catch(O){console.error("Error fetching user media:",O)}},J=async()=>{if(!(!d||!y))try{const{data:O,error:H}=await I.from("users").select("likes, liked_by").eq("id",d.id).single();if(!H&&O&&(C(Number(O.likes)||0),y&&O.liked_by)){const re=Array.isArray(O.liked_by)?O.liked_by:[O.liked_by];L(re.includes(y.id))}}catch(O){console.error("Error fetching likes:",O)}},ae=async()=>{if(!(!y||!d))try{const{data:O,error:H}=await I.from("users").select("likes, liked_by").eq("id",d.id).single();if(H){console.error("Error fetching current user data:",H);return}const re=Number(O.likes)||0,ee=O.liked_by;let se=!1;if(ee&&(se=(Array.isArray(ee)?ee:[ee]).includes(y.id)),se){const{error:T}=await I.from("users").update({likes:Math.max(0,re-1),liked_by:null}).eq("id",d.id);T||(L(!1),C(Math.max(0,re-1)),e({title:"Unliked",description:`You unliked ${d.username}`}))}else{const{error:T}=await I.from("users").update({likes:re+1,liked_by:y.id}).eq("id",d.id);T||(L(!0),C(re+1),e({title:"Liked",description:`You liked ${d.username}!`}))}}catch(O){console.error("Error handling like:",O),e({title:"Error",description:"Failed to update like. Please try again.",variant:"destructive"})}},K=async O=>{var H;try{const{data:re,error:ee}=await I.functions.invoke("process-tip",{body:{tipper_id:y==null?void 0:y.id,tipper_username:(y==null?void 0:y.username)||(y==null?void 0:y.email),tipped_username:d==null?void 0:d.username,amount:i,message:_||null,referrer_username:a||null,paypal_capture_id:O.id}});if(ee){console.error("process-tip error",ee);const z=typeof ee.message=="string"&&ee.message.length?ee.message:"Jackpot ticket sales are unavailable right now. Please try again later.",Z=z.toLowerCase();e({title:Z.includes("maxed")?"Jackpot Sold Out":"Tip Failed",description:z,variant:"destructive"});return}const T=(typeof re=="string"&&re.trim().length?JSON.parse(re):re??{})||{success:!1,ticket_codes:[]};if(console.log("process-tip response",re),!T.success){e({title:"Tip Processed",description:"Your payment completed, but no jackpot tickets were issued. Please contact support.",variant:"destructive"});return}(H=T.ticket_codes)!=null&&H.length?p(T.ticket_codes[0]||""):console.warn("process-tip returned success without ticket codes",re),w(!0)}catch(re){console.error("Error processing tip:",re),e({title:"Tip Failed",description:"We couldn't process your tip. Please try again.",variant:"destructive"})}};return N?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:s.jsx("div",{className:"text-white text-xl",children:"Loading..."})}):d?s.jsx(Xt,{children:s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:[d.banner_photo&&s.jsxs("div",{className:"w-full h-64 relative overflow-hidden",children:[s.jsx("img",{src:d.banner_photo,alt:"Banner",className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-black/30"})]}),s.jsx("div",{className:"max-w-6xl mx-auto p-4 -mt-16 relative z-10",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsx(Q,{className:"bg-white/10 backdrop-blur border-white/20 shadow-2xl",children:s.jsxs(X,{className:"p-6",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("img",{src:d.profile_photo||"/placeholder.svg",alt:d.username,className:"w-32 h-32 rounded-full mx-auto mb-4 border-4 border-yellow-400 shadow-lg object-cover"}),s.jsxs("h2",{className:"text-2xl font-bold text-white mb-2",children:["@",d.username]}),s.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-300 mb-2",children:[s.jsx(At,{size:16}),s.jsx("span",{className:"capitalize",children:d.user_type})]}),d.city&&d.state&&s.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-300 mb-2",children:[s.jsx(it,{size:16}),s.jsxs("span",{children:[d.city,", ",d.state]})]}),s.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-400 text-sm mb-4",children:[s.jsx(fr,{size:14}),s.jsxs("span",{children:["Joined"," ",new Date(d.created_at).toLocaleDateString()]})]}),s.jsxs(V,{onClick:ae,variant:A?"default":"outline",className:`w-full mb-4 ${A?"bg-red-600 hover:bg-red-700 text-white":"border-red-500 text-red-400 hover:bg-red-600 hover:text-white"}`,children:[s.jsx(pn,{className:`w-4 h-4 mr-2 ${A?"fill-current":""}`}),A?"Liked":"Like"," (",P,")"]})]}),d.bio&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"About"}),s.jsx("p",{className:"text-gray-300 text-sm",children:d.bio})]}),h.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-white font-semibold mb-3",children:"Recent Photos"}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:h.map(O=>s.jsx("div",{className:"aspect-square overflow-hidden rounded-lg",children:s.jsx("img",{src:O.media_url,alt:"Recent photo",className:"w-full h-full object-cover hover:scale-105 transition-transform cursor-pointer"})},O.id))})]}),x.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-white font-semibold mb-3",children:"Recent Videos"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:x.map(O=>s.jsxs("div",{className:"aspect-video overflow-hidden rounded-lg relative",children:[s.jsx("video",{src:O.media_url,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-black/20 flex items-center justify-center",children:s.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center",children:s.jsx(ca,{className:"w-6 h-6 text-white ml-1"})})})]},O.id))})]})]})})}),s.jsx("div",{className:"lg:col-span-2",children:s.jsxs(Q,{className:"bg-white/10 backdrop-blur border-white/20 shadow-2xl",children:[s.jsxs(de,{children:[s.jsxs(ue,{className:"text-3xl font-bold text-center text-white",children:[" Tip @",d.username," "]}),s.jsx("p",{className:"text-center text-gray-300",children:"Support your favorite performer and enter the jackpot!"})]}),s.jsxs(X,{className:"space-y-6",children:[s.jsx(lT,{selectedAmount:i,onAmountChange:o,customAmount:l,onCustomAmountChange:c}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2 font-semibold",children:"Message (Optional)"}),s.jsx("textarea",{placeholder:"Leave a nice message...",value:_,onChange:O=>S(O.target.value),className:"w-full p-4 bg-white/10 border border-white/20 rounded-xl text-white placeholder-gray-400 resize-none focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500",rows:3,maxLength:200})]}),i>=5&&y&&s.jsxs("div",{className:"bg-gradient-to-r from-yellow-500/20 to-yellow-600/20 rounded-xl p-6 border border-yellow-500/30",children:[s.jsx("h3",{className:"text-white font-bold mb-4 text-center",children:"Complete Your Tip"}),W?s.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg border border-red-200 mb-4",children:[s.jsx("p",{className:"text-red-600",children:W}),s.jsx(V,{onClick:()=>{U(null),M()},variant:"outline",className:"mt-2",children:"Retry"})]}):F?s.jsx("div",{className:"w-full",children:s.jsx("div",{id:`paypal-button-container-${i}`})}):s.jsxs("div",{className:"flex items-center justify-center p-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-yellow-500"}),s.jsx("span",{className:"ml-2 text-white",children:"Loading PayPal..."})]}),s.jsxs("p",{className:"text-yellow-200 text-sm text-center mt-3",children:[" You'll receive ",i," lottery tickets!"]})]})]})]})})]})}),s.jsx(Xe,{open:v,onOpenChange:w,children:s.jsxs(Je,{className:"bg-gray-900 border-yellow-500",children:[s.jsxs(Ze,{children:[s.jsx(Qe,{className:"text-yellow-500 text-center",children:" Tip Successful!"}),s.jsxs(fa,{className:"text-white text-center",children:["Thank you for your tip of $",i," to @",d.username,"!"]})]}),s.jsxs("div",{className:"text-center py-4",children:[s.jsx(V,{onClick:()=>{w(!1),t("/dashboard?tab=jackpot")},className:"bg-gradient-to-r from-yellow-400 to-yellow-500 text-black hover:from-yellow-500 hover:to-yellow-600 w-full text-2xl font-bold py-4 mb-4 shadow-lg",children:" View Tickets"}),s.jsxs("p",{className:"text-white font-semibold mb-2",children:["You received ",i," lottery tickets!"]}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Check your dashboard for all tickets"})]}),s.jsx(ha,{children:s.jsx(V,{onClick:()=>w(!1),className:"bg-gradient-to-r from-yellow-400 to-yellow-500 text-black hover:from-yellow-500 hover:to-yellow-600 w-full",children:"Awesome!"})})]})})]})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:s.jsx(Q,{className:"bg-red-900/20 border-red-500",children:s.jsxs(X,{className:"p-8 text-center",children:[s.jsx("h2",{className:"text-red-400 font-bold text-xl mb-2",children:"User Not Found"}),s.jsx("p",{className:"text-red-300",children:"The requested user could not be found."}),s.jsx(V,{onClick:()=>window.location.href="/tip-girls",className:"mt-4 bg-red-500 hover:bg-red-600",children:"Back to Tip Girls"})]})})})},lN=()=>{const[e,t]=f.useState(0);f.useEffect(()=>{const n=async()=>{try{const{data:i,error:o}=await I.from("v_jackpot_active_pool").select("total").single();if(!o&&i&&i.total!==null&&i.total!==void 0){t(Number(i.total)||0);return}const{data:l,error:c}=await I.from("jackpot").select("amount").single();!c&&l&&l.amount!==null&&l.amount!==void 0&&t(Number(l.amount)||0)}catch(i){console.error("Error fetching jackpot:",i)}};n();const a=I.channel("jackpot_pool_updates").on("postgres_changes",{event:"*",schema:"public",table:"jackpot_pools"},()=>{n()}).subscribe();return()=>{a.unsubscribe()}},[]);const r=n=>{const a=Number(n)||0;return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(a)};return s.jsx(Q,{className:"bg-gradient-to-br from-yellow-900 to-orange-900 border-yellow-600",children:s.jsxs(de,{className:"text-center pb-2",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx(Bs,{className:"w-8 h-8 text-yellow-400"}),s.jsx(ue,{className:"text-2xl font-bold text-yellow-100",children:"JACKPOT"})]}),s.jsx("div",{className:"text-5xl font-bold text-yellow-300 mb-2",children:r(e)})]})})},RW=({tipAmount:e,tippedUsername:t,referrerUsername:r,tipperUsername:n,onSuccess:a})=>{const[i,o]=f.useState(!0),[l,c]=f.useState(null),d=f.useRef(!1),u=f.useRef(null);return f.useEffect(()=>{if(d.current&&u.current&&(u.current.innerHTML="",d.current=!1),e<=0){o(!1);return}const h="sb",m=`https://www.paypal.com/sdk/js?client-id=${h}&currency=USD`;if(document.querySelector(`script[src*="${h}"]`))window.paypal&&g();else{const v=document.createElement("script");v.src=m,v.async=!0,v.onload=g,v.onerror=()=>c("Failed to load PayPal SDK"),document.body.appendChild(v)}function g(){if(!(d.current||!u.current||e<=0))try{o(!0),d.current=!0,window.paypal.Buttons({createOrder:function(v,w){return w.order.create({purchase_units:[{amount:{value:e.toFixed(2)},custom_id:JSON.stringify({tipped_username:t,referrer_username:r,tipper_username:n,tip_amount:e})}]})},onApprove:function(v,w){return w.order.capture().then(function(b){a?a(b):alert(`Thank you for tipping ${t}!`)})},onError:function(v){console.error("PayPal error:",v),c("Payment failed. Please try again."),d.current=!1}}).render(u.current).then(()=>{o(!1)}).catch(v=>{console.error("PayPal render error:",v),c("Failed to initialize PayPal button"),o(!1),d.current=!1})}catch(v){console.error("PayPal button error:",v),c("Failed to initialize PayPal button"),o(!1),d.current=!1}}},[e,t,r,n,a]),e<=0?s.jsx("div",{className:"text-center p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:s.jsx("p",{className:"text-yellow-600",children:"Please select a tip amount above $0"})}):l?s.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg border border-red-200",children:[s.jsx("p",{className:"text-red-600",children:l}),s.jsx(V,{onClick:()=>{c(null),d.current=!1,u.current&&(u.current.innerHTML="")},variant:"outline",className:"mt-2",children:"Retry"})]}):s.jsxs("div",{className:"w-full",children:[i&&s.jsxs("div",{className:"flex items-center justify-center p-4",children:[s.jsx(ot,{className:"w-6 h-6 animate-spin text-yellow-500"}),s.jsx("span",{className:"ml-2 text-white",children:"Loading PayPal..."})]}),s.jsx("div",{ref:u,className:i?"hidden":""})]})},IW=({username:e,displayName:t,profileImage:r,coverImage:n,bio:a,location:i,joinDate:o,stats:l={followers:0,tips:0,rating:0},isOnline:c=!1,recentPhotos:d=[],recentVideos:u=[]})=>s.jsxs(Q,{className:"bg-gray-900 border-gray-700 overflow-hidden",children:[s.jsxs("div",{className:"relative h-32 bg-gradient-to-r from-purple-600 to-pink-600",children:[n&&s.jsx("img",{src:n,alt:"Cover",className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-black/20"})]}),s.jsxs(de,{className:"relative pb-4",children:[s.jsx("div",{className:"absolute -top-16 left-6",children:s.jsxs("div",{className:"relative",children:[s.jsxs(Tr,{className:"w-20 h-20 border-4 border-gray-900",children:[s.jsx(Ar,{src:r,alt:e}),s.jsx(Rr,{className:"bg-purple-600 text-white text-xl",children:e.charAt(0).toUpperCase()})]}),c&&s.jsx("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 bg-green-500 border-2 border-gray-900 rounded-full"})]})}),s.jsxs("div",{className:"mt-6 space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:t||e}),s.jsxs("p",{className:"text-gray-400",children:["@",e]})]}),c&&s.jsx(ce,{className:"bg-green-600 text-white",children:"Online"})]}),s.jsxs("div",{className:"flex gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-1 text-gray-300",children:[s.jsx(pn,{className:"w-4 h-4 text-red-400"}),s.jsx("span",{children:l.followers})]}),s.jsxs("div",{className:"flex items-center gap-1 text-gray-300",children:[s.jsx(Ba,{className:"w-4 h-4 text-blue-400"}),s.jsxs("span",{children:["$",l.tips]})]}),s.jsxs("div",{className:"flex items-center gap-1 text-gray-300",children:[s.jsx(lr,{className:"w-4 h-4 text-yellow-400"}),s.jsx("span",{children:l.rating.toFixed(1)})]})]}),s.jsxs("div",{className:"space-y-1 text-sm text-gray-400",children:[i&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(it,{className:"w-4 h-4"}),s.jsx("span",{children:i})]}),o&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(fr,{className:"w-4 h-4"}),s.jsxs("span",{children:["Joined ",new Date(o).toLocaleDateString()]})]})]}),a&&s.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:a})]})]}),s.jsxs(X,{className:"space-y-4",children:[d.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-white font-semibold mb-2 flex items-center gap-2",children:[s.jsx(Ba,{className:"w-4 h-4"}),"Recent Photos"]}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:d.slice(0,3).map((h,m)=>s.jsx("div",{className:"aspect-square overflow-hidden rounded-lg",children:s.jsx("img",{src:h,alt:`Recent photo ${m+1}`,className:"w-full h-full object-cover hover:scale-105 transition-transform cursor-pointer"})},m))})]}),u.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-white font-semibold mb-2 flex items-center gap-2",children:[s.jsx(Ba,{className:"w-4 h-4"}),"Recent Videos"]}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:u.slice(0,2).map((h,m)=>s.jsxs("div",{className:"aspect-video overflow-hidden rounded-lg relative",children:[s.jsx("video",{src:h,className:"w-full h-full object-cover",poster:h.replace(".mp4","_thumb.jpg")}),s.jsx("div",{className:"absolute inset-0 bg-black/20 flex items-center justify-center",children:s.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center",children:s.jsx("div",{className:"w-0 h-0 border-l-[8px] border-l-white border-y-[6px] border-y-transparent ml-1"})})})]},m))})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(V,{className:"flex-1 bg-purple-600 hover:bg-purple-700",children:[s.jsx(pn,{className:"w-4 h-4 mr-2"}),"Follow"]}),s.jsxs(V,{variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-800",children:[s.jsx(Ba,{className:"w-4 h-4 mr-2"}),"View Profile"]})]})]})]}),OW=()=>{const[e]=gr(),t=e.get("tip"),r=_a(e.get("ref")),[n,a]=f.useState(""),[i,o]=f.useState(""),[l,c]=f.useState(""),[d,u]=f.useState(null),[h,m]=f.useState(0),[x,g]=f.useState(""),[v,w]=f.useState(""),[b,p]=f.useState(null),[y,j]=f.useState("all");f.useEffect(()=>{N()},[]),f.useEffect(()=>{t&&k(t)},[t]);const N=async()=>{try{const{data:{user:S}}=await I.auth.getUser();if(S){const{data:P,error:C}=await I.from("users").select("username").eq("id",S.id).single();p(!C&&P?{id:S.id,email:S.email,username:String(P.username)}:S)}}catch(S){console.error("Error getting current user:",S)}},k=async S=>{try{const{data:P,error:C}=await I.from("users").select("id, username, profile_photo, city, state, user_type").eq("username",S).in("user_type",["stripper","exotic"]).single();if(C)throw C;P&&u({id:String(P.id),username:String(P.username),profile_photo:String(P.profile_photo||""),city:String(P.city||""),state:String(P.state||""),user_type:String(P.user_type)})}catch(P){console.error("Error fetching user:",P)}},_=S=>{const P=(b==null?void 0:b.username)||"guest",C=`/tip/?tip=${S.username}&ref=${P}`;window.location.href=C};return d?s.jsx(Xt,{children:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 py-16",children:s.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[s.jsxs(Q,{className:"bg-white/10 backdrop-blur border-white/20",children:[s.jsx(de,{className:"text-center",children:s.jsxs(ue,{className:"text-white text-3xl mb-4",children:[s.jsx(pn,{className:"w-8 h-8 inline-block mr-2 text-red-500"}),"Tip @",d.username]})}),s.jsxs(X,{className:"space-y-6",children:[s.jsx(IW,{username:d.username,profileImage:d.profile_photo,location:`${d.city}, ${d.state}`}),s.jsx(lT,{selectedAmount:h,onAmountChange:m,customAmount:v,onCustomAmountChange:w}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Message (Optional)"}),s.jsx("textarea",{placeholder:"Leave a nice message...",value:x,onChange:S=>g(S.target.value),className:"w-full p-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 resize-none",rows:3,maxLength:200})]}),h>0&&s.jsx(RW,{tipAmount:h,tippedUsername:d.username,referrerUsername:r,tipperUsername:"current_user"}),s.jsx(V,{onClick:()=>u(null),variant:"outline",className:"w-full border-white/30 text-white hover:bg-white/20",children:"Back to Directory"})]})]}),s.jsx("div",{className:"mt-6",children:s.jsx(lN,{})})]})})}):s.jsx(Xt,{children:s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white",children:[s.jsx("div",{className:"relative w-full bg-black",children:s.jsxs("div",{className:"relative w-full h-0",style:{paddingBottom:"56.25%"},children:[s.jsx("video",{className:"absolute inset-0 w-full h-full object-contain",autoPlay:!0,muted:!0,loop:!0,playsInline:!0,poster:"https://dimesonly.s3.us-east-2.amazonaws.com/HOUSING-ANGELS+(1).png",children:s.jsx("source",{src:"https://dimesonlyworld.s3.us-east-2.amazonaws.com/HOME+PAGE+16-9+1080+final.mp4",type:"video/mp4"})}),s.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-yellow-400 mb-4",children:" Tip & Win "}),s.jsx("p",{className:"text-xl text-gray-300",children:"Tip your favorite Dimes and enter the jackpot!"})]})})]})}),s.jsxs("div",{className:"max-w-7xl mx-auto p-4",children:[s.jsx("div",{className:"mb-8",children:s.jsx(lN,{})}),s.jsx(Q,{className:"bg-white/10 backdrop-blur border-white/20 mb-6",children:s.jsx(X,{className:"p-6",children:s.jsxs("div",{className:"space-y-4 md:space-y-0 md:flex md:space-x-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(At,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),s.jsx(ne,{type:"text",placeholder:"Search by name...",value:n,onChange:S=>a(S.target.value),className:"pl-10 bg-white/20 border-white/30 text-white placeholder-gray-300 w-full"})]}),s.jsxs("div",{className:"relative flex-1",children:[s.jsx(it,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),s.jsx(ne,{type:"text",placeholder:"Search by city...",value:i,onChange:S=>o(S.target.value),className:"pl-10 bg-white/20 border-white/30 text-white placeholder-gray-300 w-full"})]}),s.jsxs("div",{className:"relative flex-1",children:[s.jsx(w0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),s.jsx(ne,{type:"text",placeholder:"Search by state...",value:l,onChange:S=>c(S.target.value),className:"pl-10 bg-white/20 border-white/30 text-white placeholder-gray-300 w-full"})]})]})})}),s.jsx(oT,{searchName:n,searchCity:i,searchState:l,rateFilter:y,onUserSelect:_,actionType:"tip",noDataMessage:"NO TIPS YET IN 2025. BE THE 1ST!",orderBy:"created_at",orderDirection:"desc"})]})]})})},Ci=({children:e})=>{const{sidebarOpen:t,toggleSidebar:r}=Es();return $P(),s.jsx("div",{className:"min-h-screen bg-gray-50",children:e})};var rd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},LW={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Dn,lg,wN,MW=(wN=class{constructor(){Ce(this,Dn,LW);Ce(this,lg,!1)}setTimeoutProvider(e){ve(this,Dn,e)}setTimeout(e,t){return B(this,Dn).setTimeout(e,t)}clearTimeout(e){B(this,Dn).clearTimeout(e)}setInterval(e,t){return B(this,Dn).setInterval(e,t)}clearInterval(e){B(this,Dn).clearInterval(e)}},Dn=new WeakMap,lg=new WeakMap,wN),qa=new MW;function DW(e){setTimeout(e,0)}var xi=typeof window>"u"||"Deno"in globalThis;function vr(){}function FW(e,t){return typeof e=="function"?e(t):e}function Kx(e){return typeof e=="number"&&e>=0&&e!==1/0}function cT(e,t){return Math.max(e+(t||0)-Date.now(),0)}function aa(e,t){return typeof e=="function"?e(t):e}function Yr(e,t){return typeof e=="function"?e(t):e}function cN(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==Oy(o,t.options))return!1}else if(!Ic(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function dN(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Rc(t.options.mutationKey)!==Rc(i))return!1}else if(!Ic(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function Oy(e,t){return((t==null?void 0:t.queryKeyHashFn)||Rc)(e)}function Rc(e){return JSON.stringify(e,(t,r)=>Jx(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Ic(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Ic(e[r],t[r])):!1}var $W=Object.prototype.hasOwnProperty;function dT(e,t){if(e===t)return e;const r=uN(e)&&uN(t);if(!r&&!(Jx(e)&&Jx(t)))return t;const a=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),o=i.length,l=r?new Array(o):{};let c=0;for(let d=0;d<o;d++){const u=r?d:i[d],h=e[u],m=t[u];if(h===m){l[u]=h,(r?d<a:$W.call(e,u))&&c++;continue}if(h===null||m===null||typeof h!="object"||typeof m!="object"){l[u]=m;continue}const x=dT(h,m);l[u]=x,x===h&&c++}return a===o&&c===a?e:l}function Yx(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function uN(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Jx(e){if(!hN(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!hN(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function hN(e){return Object.prototype.toString.call(e)==="[object Object]"}function UW(e){return new Promise(t=>{qa.setTimeout(t,e)})}function Qx(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?dT(e,t):t}function VW(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function BW(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Ly=Symbol();function uT(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Ly?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function zW(e,t){return typeof e=="function"?e(...t):!!e}var Ha,Fn,_o,jN,WW=(jN=class extends rd{constructor(){super();Ce(this,Ha);Ce(this,Fn);Ce(this,_o);ve(this,_o,t=>{if(!xi&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){B(this,Fn)||this.setEventListener(B(this,_o))}onUnsubscribe(){var t;this.hasListeners()||((t=B(this,Fn))==null||t.call(this),ve(this,Fn,void 0))}setEventListener(t){var r;ve(this,_o,t),(r=B(this,Fn))==null||r.call(this),ve(this,Fn,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){B(this,Ha)!==t&&(ve(this,Ha,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof B(this,Ha)=="boolean"?B(this,Ha):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ha=new WeakMap,Fn=new WeakMap,_o=new WeakMap,jN),My=new WW;function Xx(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var qW=DW;function HW(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=qW;const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var zt=HW(),So,$n,ko,NN,GW=(NN=class extends rd{constructor(){super();Ce(this,So,!0);Ce(this,$n);Ce(this,ko);ve(this,ko,t=>{if(!xi&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){B(this,$n)||this.setEventListener(B(this,ko))}onUnsubscribe(){var t;this.hasListeners()||((t=B(this,$n))==null||t.call(this),ve(this,$n,void 0))}setEventListener(t){var r;ve(this,ko,t),(r=B(this,$n))==null||r.call(this),ve(this,$n,t(this.setOnline.bind(this)))}setOnline(t){B(this,So)!==t&&(ve(this,So,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return B(this,So)}},So=new WeakMap,$n=new WeakMap,ko=new WeakMap,NN),hh=new GW;function KW(e){return Math.min(1e3*2**e,3e4)}function hT(e){return(e??"online")==="online"?hh.isOnline():!0}var Zx=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function fT(e){let t=!1,r=0,n;const a=Xx(),i=()=>a.status!=="pending",o=v=>{var w;if(!i()){const b=new Zx(v);m(b),(w=e.onCancel)==null||w.call(e,b)}},l=()=>{t=!0},c=()=>{t=!1},d=()=>My.isFocused()&&(e.networkMode==="always"||hh.isOnline())&&e.canRun(),u=()=>hT(e.networkMode)&&e.canRun(),h=v=>{i()||(n==null||n(),a.resolve(v))},m=v=>{i()||(n==null||n(),a.reject(v))},x=()=>new Promise(v=>{var w;n=b=>{(i()||d())&&v(b)},(w=e.onPause)==null||w.call(e)}).then(()=>{var v;n=void 0,i()||(v=e.onContinue)==null||v.call(e)}),g=()=>{if(i())return;let v;const w=r===0?e.initialPromise:void 0;try{v=w??e.fn()}catch(b){v=Promise.reject(b)}Promise.resolve(v).then(h).catch(b=>{var k;if(i())return;const p=e.retry??(xi?0:3),y=e.retryDelay??KW,j=typeof y=="function"?y(r,b):y,N=p===!0||typeof p=="number"&&r<p||typeof p=="function"&&p(r,b);if(t||!N){m(b);return}r++,(k=e.onFail)==null||k.call(e,r,b),UW(j).then(()=>d()?void 0:x()).then(()=>{t?m(b):g()})})};return{promise:a,status:()=>a.status,cancel:o,continue:()=>(n==null||n(),a),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?g():x().then(g),a)}}var Ga,_N,mT=(_N=class{constructor(){Ce(this,Ga)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Kx(this.gcTime)&&ve(this,Ga,qa.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(xi?1/0:5*60*1e3))}clearGcTimeout(){B(this,Ga)&&(qa.clearTimeout(B(this,Ga)),ve(this,Ga,void 0))}},Ga=new WeakMap,_N),Ka,Co,Kr,Ya,Dt,Oc,Ja,fs,Xs,SN,YW=(SN=class extends mT{constructor(t){super();Ce(this,fs);Ce(this,Ka);Ce(this,Co);Ce(this,Kr);Ce(this,Ya);Ce(this,Dt);Ce(this,Oc);Ce(this,Ja);ve(this,Ja,!1),ve(this,Oc,t.defaultOptions),this.setOptions(t.options),this.observers=[],ve(this,Ya,t.client),ve(this,Kr,B(this,Ya).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ve(this,Ka,fN(this.options)),this.state=t.state??B(this,Ka),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=B(this,Dt))==null?void 0:t.promise}setOptions(t){if(this.options={...B(this,Oc),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=fN(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),ve(this,Ka,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&B(this,Kr).remove(this)}setData(t,r){const n=Qx(this.state.data,t,this.options);return $e(this,fs,Xs).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){$e(this,fs,Xs).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=B(this,Dt))==null?void 0:n.promise;return(a=B(this,Dt))==null||a.cancel(t),r?r.then(vr).catch(vr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(B(this,Ka))}isActive(){return this.observers.some(t=>Yr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ly||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>aa(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!cT(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=B(this,Dt))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=B(this,Dt))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),B(this,Kr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(B(this,Dt)&&(B(this,Ja)?B(this,Dt).cancel({revert:!0}):B(this,Dt).cancelRetry()),this.scheduleGc()),B(this,Kr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||$e(this,fs,Xs).call(this,{type:"invalidate"})}async fetch(t,r){var c,d,u,h,m,x,g,v,w,b,p,y;if(this.state.fetchStatus!=="idle"&&((c=B(this,Dt))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(B(this,Dt))return B(this,Dt).continueRetry(),B(this,Dt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const j=this.observers.find(N=>N.options.queryFn);j&&this.setOptions(j.options)}const n=new AbortController,a=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(ve(this,Ja,!0),n.signal)})},i=()=>{const j=uT(this.options,r),k=(()=>{const _={client:B(this,Ya),queryKey:this.queryKey,meta:this.meta};return a(_),_})();return ve(this,Ja,!1),this.options.persister?this.options.persister(j,k,this):j(k)},l=(()=>{const j={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:B(this,Ya),state:this.state,fetchFn:i};return a(j),j})();(d=this.options.behavior)==null||d.onFetch(l,this),ve(this,Co,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=l.fetchOptions)==null?void 0:u.meta))&&$e(this,fs,Xs).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta}),ve(this,Dt,fT({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:j=>{j instanceof Zx&&j.revert&&this.setState({...B(this,Co),fetchStatus:"idle"}),n.abort()},onFail:(j,N)=>{$e(this,fs,Xs).call(this,{type:"failed",failureCount:j,error:N})},onPause:()=>{$e(this,fs,Xs).call(this,{type:"pause"})},onContinue:()=>{$e(this,fs,Xs).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const j=await B(this,Dt).start();if(j===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(j),(x=(m=B(this,Kr).config).onSuccess)==null||x.call(m,j,this),(v=(g=B(this,Kr).config).onSettled)==null||v.call(g,j,this.state.error,this),j}catch(j){if(j instanceof Zx){if(j.silent)return B(this,Dt).promise;if(j.revert){if(this.state.data===void 0)throw j;return this.state.data}}throw $e(this,fs,Xs).call(this,{type:"error",error:j}),(b=(w=B(this,Kr).config).onError)==null||b.call(w,j,this),(y=(p=B(this,Kr).config).onSettled)==null||y.call(p,this.state.data,j,this),j}finally{this.scheduleGc()}}},Ka=new WeakMap,Co=new WeakMap,Kr=new WeakMap,Ya=new WeakMap,Dt=new WeakMap,Oc=new WeakMap,Ja=new WeakMap,fs=new WeakSet,Xs=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...pT(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ve(this,Co,t.manual?a:void 0),a;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),zt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),B(this,Kr).notify({query:this,type:"updated",action:t})})},SN);function pT(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:hT(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function fN(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var yr,Ue,Lc,nr,Qa,Eo,rn,Un,Mc,Po,To,Xa,Za,Vn,Ao,Ge,Rl,eg,tg,rg,sg,ng,ag,ig,xT,kN,JW=(kN=class extends rd{constructor(t,r){super();Ce(this,Ge);Ce(this,yr);Ce(this,Ue);Ce(this,Lc);Ce(this,nr);Ce(this,Qa);Ce(this,Eo);Ce(this,rn);Ce(this,Un);Ce(this,Mc);Ce(this,Po);Ce(this,To);Ce(this,Xa);Ce(this,Za);Ce(this,Vn);Ce(this,Ao,new Set);this.options=r,ve(this,yr,t),ve(this,Un,null),ve(this,rn,Xx()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(B(this,Ue).addObserver(this),mN(B(this,Ue),this.options)?$e(this,Ge,Rl).call(this):this.updateResult(),$e(this,Ge,sg).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return og(B(this,Ue),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return og(B(this,Ue),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,$e(this,Ge,ng).call(this),$e(this,Ge,ag).call(this),B(this,Ue).removeObserver(this)}setOptions(t){const r=this.options,n=B(this,Ue);if(this.options=B(this,yr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Yr(this.options.enabled,B(this,Ue))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");$e(this,Ge,ig).call(this),B(this,Ue).setOptions(this.options),r._defaulted&&!Yx(this.options,r)&&B(this,yr).getQueryCache().notify({type:"observerOptionsUpdated",query:B(this,Ue),observer:this});const a=this.hasListeners();a&&pN(B(this,Ue),n,this.options,r)&&$e(this,Ge,Rl).call(this),this.updateResult(),a&&(B(this,Ue)!==n||Yr(this.options.enabled,B(this,Ue))!==Yr(r.enabled,B(this,Ue))||aa(this.options.staleTime,B(this,Ue))!==aa(r.staleTime,B(this,Ue)))&&$e(this,Ge,eg).call(this);const i=$e(this,Ge,tg).call(this);a&&(B(this,Ue)!==n||Yr(this.options.enabled,B(this,Ue))!==Yr(r.enabled,B(this,Ue))||i!==B(this,Vn))&&$e(this,Ge,rg).call(this,i)}getOptimisticResult(t){const r=B(this,yr).getQueryCache().build(B(this,yr),t),n=this.createResult(r,t);return XW(this,n)&&(ve(this,nr,n),ve(this,Eo,this.options),ve(this,Qa,B(this,Ue).state)),n}getCurrentResult(){return B(this,nr)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&B(this,rn).status==="pending"&&B(this,rn).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,a))})}trackProp(t){B(this,Ao).add(t)}getCurrentQuery(){return B(this,Ue)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=B(this,yr).defaultQueryOptions(t),n=B(this,yr).getQueryCache().build(B(this,yr),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return $e(this,Ge,Rl).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),B(this,nr)))}createResult(t,r){var P;const n=B(this,Ue),a=this.options,i=B(this,nr),o=B(this,Qa),l=B(this,Eo),d=t!==n?t.state:B(this,Lc),{state:u}=t;let h={...u},m=!1,x;if(r._optimisticResults){const C=this.hasListeners(),A=!C&&mN(t,r),L=C&&pN(t,n,r,a);(A||L)&&(h={...h,...pT(u.data,t.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:g,errorUpdatedAt:v,status:w}=h;x=h.data;let b=!1;if(r.placeholderData!==void 0&&x===void 0&&w==="pending"){let C;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(C=i.data,b=!0):C=typeof r.placeholderData=="function"?r.placeholderData((P=B(this,To))==null?void 0:P.state.data,B(this,To)):r.placeholderData,C!==void 0&&(w="success",x=Qx(i==null?void 0:i.data,C,r),m=!0)}if(r.select&&x!==void 0&&!b)if(i&&x===(o==null?void 0:o.data)&&r.select===B(this,Mc))x=B(this,Po);else try{ve(this,Mc,r.select),x=r.select(x),x=Qx(i==null?void 0:i.data,x,r),ve(this,Po,x),ve(this,Un,null)}catch(C){ve(this,Un,C)}B(this,Un)&&(g=B(this,Un),x=B(this,Po),v=Date.now(),w="error");const p=h.fetchStatus==="fetching",y=w==="pending",j=w==="error",N=y&&p,k=x!==void 0,S={status:w,fetchStatus:h.fetchStatus,isPending:y,isSuccess:w==="success",isError:j,isInitialLoading:N,isLoading:N,data:x,dataUpdatedAt:h.dataUpdatedAt,error:g,errorUpdatedAt:v,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:p,isRefetching:p&&!y,isLoadingError:j&&!k,isPaused:h.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:j&&k,isStale:Dy(t,r),refetch:this.refetch,promise:B(this,rn),isEnabled:Yr(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const C=F=>{S.status==="error"?F.reject(S.error):S.data!==void 0&&F.resolve(S.data)},A=()=>{const F=ve(this,rn,S.promise=Xx());C(F)},L=B(this,rn);switch(L.status){case"pending":t.queryHash===n.queryHash&&C(L);break;case"fulfilled":(S.status==="error"||S.data!==L.value)&&A();break;case"rejected":(S.status!=="error"||S.error!==L.reason)&&A();break}}return S}updateResult(){const t=B(this,nr),r=this.createResult(B(this,Ue),this.options);if(ve(this,Qa,B(this,Ue).state),ve(this,Eo,this.options),B(this,Qa).data!==void 0&&ve(this,To,B(this,Ue)),Yx(r,t))return;ve(this,nr,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!B(this,Ao).size)return!0;const o=new Set(i??B(this,Ao));return this.options.throwOnError&&o.add("error"),Object.keys(B(this,nr)).some(l=>{const c=l;return B(this,nr)[c]!==t[c]&&o.has(c)})};$e(this,Ge,xT).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&$e(this,Ge,sg).call(this)}},yr=new WeakMap,Ue=new WeakMap,Lc=new WeakMap,nr=new WeakMap,Qa=new WeakMap,Eo=new WeakMap,rn=new WeakMap,Un=new WeakMap,Mc=new WeakMap,Po=new WeakMap,To=new WeakMap,Xa=new WeakMap,Za=new WeakMap,Vn=new WeakMap,Ao=new WeakMap,Ge=new WeakSet,Rl=function(t){$e(this,Ge,ig).call(this);let r=B(this,Ue).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(vr)),r},eg=function(){$e(this,Ge,ng).call(this);const t=aa(this.options.staleTime,B(this,Ue));if(xi||B(this,nr).isStale||!Kx(t))return;const n=cT(B(this,nr).dataUpdatedAt,t)+1;ve(this,Xa,qa.setTimeout(()=>{B(this,nr).isStale||this.updateResult()},n))},tg=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(B(this,Ue)):this.options.refetchInterval)??!1},rg=function(t){$e(this,Ge,ag).call(this),ve(this,Vn,t),!(xi||Yr(this.options.enabled,B(this,Ue))===!1||!Kx(B(this,Vn))||B(this,Vn)===0)&&ve(this,Za,qa.setInterval(()=>{(this.options.refetchIntervalInBackground||My.isFocused())&&$e(this,Ge,Rl).call(this)},B(this,Vn)))},sg=function(){$e(this,Ge,eg).call(this),$e(this,Ge,rg).call(this,$e(this,Ge,tg).call(this))},ng=function(){B(this,Xa)&&(qa.clearTimeout(B(this,Xa)),ve(this,Xa,void 0))},ag=function(){B(this,Za)&&(qa.clearInterval(B(this,Za)),ve(this,Za,void 0))},ig=function(){const t=B(this,yr).getQueryCache().build(B(this,yr),this.options);if(t===B(this,Ue))return;const r=B(this,Ue);ve(this,Ue,t),ve(this,Lc,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},xT=function(t){zt.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(B(this,nr))}),B(this,yr).getQueryCache().notify({query:B(this,Ue),type:"observerResultsUpdated"})})},kN);function QW(e,t){return Yr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function mN(e,t){return QW(e,t)||e.state.data!==void 0&&og(e,t,t.refetchOnMount)}function og(e,t,r){if(Yr(t.enabled,e)!==!1&&aa(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Dy(e,t)}return!1}function pN(e,t,r,n){return(e!==t||Yr(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Dy(e,r)}function Dy(e,t){return Yr(t.enabled,e)!==!1&&e.isStaleByTime(aa(t.staleTime,e))}function XW(e,t){return!Yx(e.getCurrentResult(),t)}function xN(e){return{onFetch:(t,r)=>{var u,h,m,x,g;const n=t.options,a=(m=(h=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:m.direction,i=((x=t.state.data)==null?void 0:x.pages)||[],o=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let v=!1;const w=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},b=uT(t.options,t.fetchOptions),p=async(y,j,N)=>{if(v)return Promise.reject();if(j==null&&y.pages.length)return Promise.resolve(y);const _=(()=>{const A={client:t.client,queryKey:t.queryKey,pageParam:j,direction:N?"backward":"forward",meta:t.options.meta};return w(A),A})(),S=await b(_),{maxPages:P}=t.options,C=N?BW:VW;return{pages:C(y.pages,S,P),pageParams:C(y.pageParams,j,P)}};if(a&&i.length){const y=a==="backward",j=y?ZW:gN,N={pages:i,pageParams:o},k=j(n,N);l=await p(N,k,y)}else{const y=e??i.length;do{const j=c===0?o[0]??n.initialPageParam:gN(n,l);if(c>0&&j==null)break;l=await p(l,j),c++}while(c<y)}return l};t.options.persister?t.fetchFn=()=>{var v,w;return(w=(v=t.options).persister)==null?void 0:w.call(v,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function gN(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function ZW(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Dc,Os,ar,ei,Ls,Tn,CN,eq=(CN=class extends mT{constructor(t){super();Ce(this,Ls);Ce(this,Dc);Ce(this,Os);Ce(this,ar);Ce(this,ei);ve(this,Dc,t.client),this.mutationId=t.mutationId,ve(this,ar,t.mutationCache),ve(this,Os,[]),this.state=t.state||tq(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){B(this,Os).includes(t)||(B(this,Os).push(t),this.clearGcTimeout(),B(this,ar).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ve(this,Os,B(this,Os).filter(r=>r!==t)),this.scheduleGc(),B(this,ar).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){B(this,Os).length||(this.state.status==="pending"?this.scheduleGc():B(this,ar).remove(this))}continue(){var t;return((t=B(this,ei))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,d,u,h,m,x,g,v,w,b,p,y,j,N,k,_,S,P;const r=()=>{$e(this,Ls,Tn).call(this,{type:"continue"})},n={client:B(this,Dc),meta:this.options.meta,mutationKey:this.options.mutationKey};ve(this,ei,fT({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(C,A)=>{$e(this,Ls,Tn).call(this,{type:"failed",failureCount:C,error:A})},onPause:()=>{$e(this,Ls,Tn).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>B(this,ar).canRun(this)}));const a=this.state.status==="pending",i=!B(this,ei).canStart();try{if(a)r();else{$e(this,Ls,Tn).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(o=B(this,ar).config).onMutate)==null?void 0:l.call(o,t,this,n));const A=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,t,n));A!==this.state.context&&$e(this,Ls,Tn).call(this,{type:"pending",context:A,variables:t,isPaused:i})}const C=await B(this,ei).start();return await((h=(u=B(this,ar).config).onSuccess)==null?void 0:h.call(u,C,t,this.state.context,this,n)),await((x=(m=this.options).onSuccess)==null?void 0:x.call(m,C,t,this.state.context,n)),await((v=(g=B(this,ar).config).onSettled)==null?void 0:v.call(g,C,null,this.state.variables,this.state.context,this,n)),await((b=(w=this.options).onSettled)==null?void 0:b.call(w,C,null,t,this.state.context,n)),$e(this,Ls,Tn).call(this,{type:"success",data:C}),C}catch(C){try{throw await((y=(p=B(this,ar).config).onError)==null?void 0:y.call(p,C,t,this.state.context,this,n)),await((N=(j=this.options).onError)==null?void 0:N.call(j,C,t,this.state.context,n)),await((_=(k=B(this,ar).config).onSettled)==null?void 0:_.call(k,void 0,C,this.state.variables,this.state.context,this,n)),await((P=(S=this.options).onSettled)==null?void 0:P.call(S,void 0,C,t,this.state.context,n)),C}finally{$e(this,Ls,Tn).call(this,{type:"error",error:C})}}finally{B(this,ar).runNext(this)}}},Dc=new WeakMap,Os=new WeakMap,ar=new WeakMap,ei=new WeakMap,Ls=new WeakSet,Tn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),zt.batch(()=>{B(this,Os).forEach(n=>{n.onMutationUpdate(t)}),B(this,ar).notify({mutation:this,type:"updated",action:t})})},CN);function tq(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var sn,ms,Fc,EN,rq=(EN=class extends rd{constructor(t={}){super();Ce(this,sn);Ce(this,ms);Ce(this,Fc);this.config=t,ve(this,sn,new Set),ve(this,ms,new Map),ve(this,Fc,0)}build(t,r,n){const a=new eq({client:t,mutationCache:this,mutationId:++ld(this,Fc)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){B(this,sn).add(t);const r=Kd(t);if(typeof r=="string"){const n=B(this,ms).get(r);n?n.push(t):B(this,ms).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(B(this,sn).delete(t)){const r=Kd(t);if(typeof r=="string"){const n=B(this,ms).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&B(this,ms).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Kd(t);if(typeof r=="string"){const n=B(this,ms).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=Kd(t);if(typeof r=="string"){const a=(n=B(this,ms).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){zt.batch(()=>{B(this,sn).forEach(t=>{this.notify({type:"removed",mutation:t})}),B(this,sn).clear(),B(this,ms).clear()})}getAll(){return Array.from(B(this,sn))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>dN(r,n))}findAll(t={}){return this.getAll().filter(r=>dN(t,r))}notify(t){zt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return zt.batch(()=>Promise.all(t.map(r=>r.continue().catch(vr))))}},sn=new WeakMap,ms=new WeakMap,Fc=new WeakMap,EN);function Kd(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Ms,PN,sq=(PN=class extends rd{constructor(t={}){super();Ce(this,Ms);this.config=t,ve(this,Ms,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??Oy(a,r);let o=this.get(i);return o||(o=new YW({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){B(this,Ms).has(t.queryHash)||(B(this,Ms).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=B(this,Ms).get(t.queryHash);r&&(t.destroy(),r===t&&B(this,Ms).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){zt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return B(this,Ms).get(t)}getAll(){return[...B(this,Ms).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>cN(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>cN(t,n)):r}notify(t){zt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){zt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){zt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ms=new WeakMap,PN),xt,Bn,zn,Ro,Io,Wn,Oo,Lo,TN,gT=(TN=class{constructor(e={}){Ce(this,xt);Ce(this,Bn);Ce(this,zn);Ce(this,Ro);Ce(this,Io);Ce(this,Wn);Ce(this,Oo);Ce(this,Lo);ve(this,xt,e.queryCache||new sq),ve(this,Bn,e.mutationCache||new rq),ve(this,zn,e.defaultOptions||{}),ve(this,Ro,new Map),ve(this,Io,new Map),ve(this,Wn,0)}mount(){ld(this,Wn)._++,B(this,Wn)===1&&(ve(this,Oo,My.subscribe(async e=>{e&&(await this.resumePausedMutations(),B(this,xt).onFocus())})),ve(this,Lo,hh.subscribe(async e=>{e&&(await this.resumePausedMutations(),B(this,xt).onOnline())})))}unmount(){var e,t;ld(this,Wn)._--,B(this,Wn)===0&&((e=B(this,Oo))==null||e.call(this),ve(this,Oo,void 0),(t=B(this,Lo))==null||t.call(this),ve(this,Lo,void 0))}isFetching(e){return B(this,xt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return B(this,Bn).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=B(this,xt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=B(this,xt).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(aa(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return B(this,xt).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=B(this,xt).get(n.queryHash),i=a==null?void 0:a.state.data,o=FW(t,i);if(o!==void 0)return B(this,xt).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return zt.batch(()=>B(this,xt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=B(this,xt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=B(this,xt);zt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=B(this,xt);return zt.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=zt.batch(()=>B(this,xt).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(vr).catch(vr)}invalidateQueries(e,t={}){return zt.batch(()=>(B(this,xt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=zt.batch(()=>B(this,xt).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(vr)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(vr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=B(this,xt).build(this,t);return r.isStaleByTime(aa(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(vr).catch(vr)}fetchInfiniteQuery(e){return e.behavior=xN(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(vr).catch(vr)}ensureInfiniteQueryData(e){return e.behavior=xN(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return hh.isOnline()?B(this,Bn).resumePausedMutations():Promise.resolve()}getQueryCache(){return B(this,xt)}getMutationCache(){return B(this,Bn)}getDefaultOptions(){return B(this,zn)}setDefaultOptions(e){ve(this,zn,e)}setQueryDefaults(e,t){B(this,Ro).set(Rc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...B(this,Ro).values()],r={};return t.forEach(n=>{Ic(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){B(this,Io).set(Rc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...B(this,Io).values()],r={};return t.forEach(n=>{Ic(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...B(this,zn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Oy(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Ly&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...B(this,zn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){B(this,xt).clear(),B(this,Bn).clear()}},xt=new WeakMap,Bn=new WeakMap,zn=new WeakMap,Ro=new WeakMap,Io=new WeakMap,Wn=new WeakMap,Oo=new WeakMap,Lo=new WeakMap,TN),yT=f.createContext(void 0),nq=e=>{const t=f.useContext(yT);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},vT=({client:e,children:t})=>(f.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(yT.Provider,{value:e,children:t})),bT=f.createContext(!1),aq=()=>f.useContext(bT);bT.Provider;function iq(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var oq=f.createContext(iq()),lq=()=>f.useContext(oq),cq=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},dq=e=>{f.useEffect(()=>{e.clearReset()},[e])},uq=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||zW(r,[e.error,n])),hq=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},fq=(e,t)=>e.isLoading&&e.isFetching&&!t,mq=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,yN=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function pq(e,t,r){var h,m,x,g,v;const n=aq(),a=lq(),i=nq(),o=i.defaultQueryOptions(e);(m=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||m.call(h,o),o._optimisticResults=n?"isRestoring":"optimistic",hq(o),cq(o,a),dq(a);const l=!i.getQueryCache().get(o.queryHash),[c]=f.useState(()=>new t(i,o)),d=c.getOptimisticResult(o),u=!n&&e.subscribed!==!1;if(f.useSyncExternalStore(f.useCallback(w=>{const b=u?c.subscribe(zt.batchCalls(w)):vr;return c.updateResult(),b},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),f.useEffect(()=>{c.setOptions(o)},[o,c]),mq(o,d))throw yN(o,c,a);if(uq({result:d,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;if((g=(x=i.getDefaultOptions().queries)==null?void 0:x._experimental_afterQuery)==null||g.call(x,o,d),o.experimental_prefetchInRender&&!xi&&fq(d,n)){const w=l?yN(o,c,a):(v=i.getQueryCache().get(o.queryHash))==null?void 0:v.promise;w==null||w.catch(vr).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function wT(e,t){return pq(e,JW)}const xq=[{id:"silver",name:"SILVER PACKAGE",price:49.99,badge:"POSITIONS LIMITED",savings:"SAVE 72%",warning:"PRICE GOING UP SOON!",benefits:["20% override on all the free people that join under your link in phase 2.","30% of all subscriptions/memberships sold through your link now.","40% of tips designated to you through your link.","20% of tips if designated to you through someone else's link.","20% of tips if they choose you to tip.","View nudes from strippers and exotics.","Do not wait to get sponsored and pay for a profit-sharing position."]},{id:"gold",name:"GOLD PACKAGE",price:99.99,benefits:["All the benefits of the Silver Package.","Lifetime FREE admission to all events surrounding the show and cast members forever.","Lifetime subscription to the upcoming FLAME FLIX Social media webpage on ALL affiliated platform apps.","Be 1 of 10 out of 300 chosen to be in the semi-finals every year, instead of competing against millions of dancers that join FREE.","This increases your chances of going to the semi-finals every year in Los Angeles, CA.","Get featured on our Instagram page along with cast members."]},{id:"diamond",name:"DIAMOND PACKAGE",price:150,subtitle:"SPLIT PAYMENT IN 3",monthly:"$53.25 a month includes transaction fees",installmentCount:3,installmentAmount:53.25,benefits:["GET ALL THE BENEFITS OF FREE, SILVER AND GOLD","VIP Access & VIP Section 4 times a year + 1 person you can bring FREE.","Profit share 10% of companies gross sales FOREVER split among the first 300 dancers.","Get featured on our Instagram page along with cast members.","Get featured on the opening page of the App every day for 3 years."]},{id:"elite",name:"ELITE PACKAGE",price:1e4,benefits:["GET ALL THE BENEFITS OF FREE, SILVER AND GOLD","VIP Access & VIP Section 4 times a year + 3 people you can bring FREE.","Get 10% profit shared equally in the elite club","Get exclusive VIP access to all Yacht and Mansion Parties globally.","Come to season reunions free for updates and meet and greets to new celebrity host and cast members"]}],gq=async()=>{const{data:{user:e}}=await I.auth.getUser();if(!e)return null;const{data:t,error:r}=await I.from("users").select("id, username, user_type, membership_tier, diamond_plus_active, phone_number, email").eq("id",e.id).single();if(r)throw r;return t},yq=()=>{var y;Pe();const e=pt(),{data:t,isLoading:r}=wT({queryKey:["user"],queryFn:gq}),[n,a]=f.useState(null),[i,o]=f.useState("monthly"),[l,c]=f.useState(""),[d,u]=f.useState("full"),[h,m]=f.useState(!1),[x,g]=f.useState(!1),v=f.useMemo(()=>j=>j==="silver"?i==="yearly"?49.99:4.99:j==="gold"?i==="yearly"?99.99:11.99:j==="diamond"?i==="yearly"?150:14.99:j==="elite"?i==="yearly"?1e4:846.33:0,[i]),w=()=>s.jsx(Xe,{open:x,onOpenChange:g,children:s.jsxs(Je,{className:"max-h-[80vh] overflow-y-auto bg-gray-900 text-white border-pink-500",children:[s.jsxs(Ze,{children:[s.jsx(Qe,{className:"text-pink-400 text-xl",children:"HOUSING ANGELS, LLC"}),s.jsx(fa,{className:"text-white",children:"STRIPPER & EXOTIC FEMALE PARTICIPATION AGREEMENT"})]}),s.jsxs("div",{className:"space-y-4 text-sm",children:[s.jsx("p",{className:"font-semibold",children:"Annual Compensation Guarantee Program  Diamond Plus Membership"}),s.jsxs("p",{children:["Housing Angels, LLC offers a guaranteed ",s.jsx("strong",{children:"$25,000 annual compensation"})," to the first 300 approved Strippers and Exotic Females who meet all program requirements. Payments are issued quarterly in the amount of ",s.jsx("strong",{children:"$6,250.00"}),"."]}),s.jsxs("p",{children:["The guarantee begins once the platform DimesOnly.World has reached a verified user base of ",s.jsx("strong",{children:"1,000 Female Stripper/Exotic"})," profiles, and ",s.jsx("strong",{children:'3,000 Male or Female "Normal"'})," profiles."]}),s.jsx("h3",{className:"font-bold text-pink-400",children:"1. Program Overview"}),s.jsx("p",{className:"ml-4",children:"See above description of the annual compensation guarantee."}),s.jsx("h3",{className:"font-bold text-pink-400",children:"2. Membership Fee"}),s.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[s.jsxs("li",{children:["Participant must enroll in ",s.jsx("strong",{children:"Diamond Plus Membership"}),"."]}),s.jsxs("li",{children:["Diamond Plus Membership Fee: ",s.jsx("strong",{children:"$349.00"})," (includes online notary fee)  one-time, non-refundable."]}),s.jsx("li",{children:"Payment confirms commitment and eligibility for quarterly payments upon meeting all requirements."})]}),s.jsx("h3",{className:"font-bold text-pink-400",children:"3. Participant Requirements (Per Quarter)"}),s.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Weekly Referrals:"})," 7 new verified referrals per week (84 per quarter)  Deduction: ",s.jsx("strong",{children:"$28.27"})," per missing referral per week."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Weekly Content Uploads:"})," 7 new photos/videos per week (168 total)  Deduction: ",s.jsx("strong",{children:"$14.14"})," per missing upload."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Event Participation:"})," 1 event per month (3 per quarter)  Deduction: ",s.jsx("strong",{children:"$500"})," per missed event."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"New User Engagement:"})," Send 7 weekly messages to new users not referred by you (84 per quarter)  Deduction: ",s.jsx("strong",{children:"$28.27"})," per missing message per week."]})]}),s.jsx("h3",{className:"font-bold text-pink-400",children:"4. Compensation Terms"}),s.jsxs("p",{children:["If all quarterly requirements are met, Participant will receive ",s.jsx("strong",{children:"$6,250"})," every 3 months (",s.jsx("strong",{children:"$25,000"})," annually). Proportional deductions apply for missed items."]}),s.jsx("h3",{className:"font-bold text-pink-400",children:"5. Diamond Membership Plus Clause"}),s.jsxs("p",{children:["If Participant earns ",s.jsx("strong",{children:"$12,000"})," or more in platform income during any quarter, the $6,250 guarantee becomes void permanently and future income will be based solely on earned revenue."]}),s.jsx("h3",{className:"font-bold text-pink-400",children:"6. Terms & Termination"}),s.jsx("p",{children:"Agreement remains in effect as long as the Participant is one of the first 300 approved Stripper/Exotic members, complies with all requirements, and remains in good standing. Failure to meet obligations or community standards may result in termination."}),s.jsx("h3",{className:"font-bold text-pink-400",children:"7. Notarization & Activation"}),s.jsxs("p",{children:["This agreement must be digitally signed and notarized. Once notarized and the ",s.jsx("strong",{children:"$349"})," payment is received, Diamond Plus Membership will be activated."]}),s.jsx("h3",{className:"font-bold text-pink-400",children:"8. Signature & Acknowledgment"}),s.jsx("p",{children:"By signing, Participant acknowledges and agrees to all terms and confirms enrollment in the Diamond Plus Membership tier."})]})]})});if(r)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-900 via-pink-900 to-red-900",children:s.jsx("span",{className:"text-white text-xl",children:"Loading..."})});if(!t)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-900 via-pink-900 to-red-900",children:s.jsx(Q,{className:"bg-red-900/20 border-red-500",children:s.jsxs(X,{className:"p-8 text-center",children:[s.jsx("h2",{className:"text-red-400 font-bold text-xl mb-2",children:"Access Denied"}),s.jsx("p",{className:"text-red-300",children:"Please log in to access the upgrade page."})]})})});if(!n)return s.jsx(Ci,{children:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-pink-900 to-red-900 p-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"UPGRADE YOUR MEMBERSHIP"}),s.jsxs("div",{className:"inline-flex bg-black/50 border border-pink-500 rounded-full overflow-hidden",children:[s.jsx("button",{className:`px-4 py-2 text-sm font-semibold transition ${i==="monthly"?"bg-pink-500 text-white":"text-pink-300 hover:text-white"}`,onClick:()=>o("monthly"),children:"Monthly"}),s.jsx("button",{className:`px-4 py-2 text-sm font-semibold transition ${i==="yearly"?"bg-pink-500 text-white":"text-pink-300 hover:text-white"}`,onClick:()=>o("yearly"),children:"Yearly"})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:xq.map(j=>{var C;const N=((C=t==null?void 0:t.membership_tier)==null?void 0:C.toLowerCase())||"",k=N===j.id,_=N==="silver_plus"&&j.id==="silver",S=N==="diamond_plus"&&j.id==="diamond",P=k||_||S;return s.jsxs(Q,{className:`bg-black/80 border-2 border-pink-500 text-white transition-transform ${P?"opacity-70 cursor-not-allowed":"cursor-pointer hover:scale-105"}`,onClick:()=>{if(!P){if(j.id==="silver")return e(`/upgrade-silver-subscribe?cadence=${i}`);if(j.id==="diamond")return e(`/upgrade-diamond-monthly?cadence=${i}`);if(j.id==="gold")return e(`/upgrade-gold?cadence=${i}`);if(j.id==="elite")return e(`/elite?cadence=${i}`);a(j),u("full"),t&&c(t.phone_number??"")}},children:[s.jsxs(de,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ue,{className:"text-pink-400 text-xl",children:j.name}),k&&s.jsx(ce,{variant:"secondary",className:"bg-gray-700 text-white",children:"Current plan"}),(_||S)&&s.jsx(ce,{variant:"secondary",className:"bg-gray-700 text-white",children:"Lifetime Plus"})]}),s.jsxs(qs,{className:"text-3xl font-bold text-white",children:["$",v(j.id).toFixed(2),s.jsx("span",{className:"block text-xs text-gray-300 mt-1",children:i==="yearly"?"per year":"per month"})]}),j.badge&&s.jsx(ce,{className:"bg-red-600 text-white",children:j.badge}),j.savings&&s.jsx(ce,{className:"bg-green-600 text-white",children:j.savings}),j.warning&&s.jsx("p",{className:"text-red-400 font-bold",children:j.warning}),j.id==="diamond"&&i==="yearly"&&s.jsx("p",{className:"text-yellow-300 text-sm font-semibold",children:"Billed as $53.25 every 4 months (3x per year)"})]}),s.jsxs(X,{children:[s.jsx("ul",{className:"space-y-2 mb-6",children:j.benefits.map((A,L)=>s.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[s.jsx(Yt,{className:"w-4 h-4 text-green-400 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:A})]},L))}),s.jsx(V,{className:"w-full bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 disabled:bg-gray-700 disabled:text-gray-300",disabled:P,children:k?"Current plan":_?"You are Silver Plus member (lifetime)":S?"You are Diamond Plus member (lifetime)":"UPGRADE NOW"})]})]},j.id)})}),t&&["stripper","exotic"].includes(t.user_type)&&s.jsx("div",{className:"text-center mt-12",children:s.jsx(V,{variant:"outline",className:"border-pink-500 text-pink-400 hover:bg-pink-500/20",onClick:()=>g(!0),children:"View Agreement"})}),s.jsx(w,{})]})})});const b=!!n.installmentCount,p=()=>{a(null),u("full")};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[s.jsxs("button",{className:"flex items-center gap-2 text-sm mb-6 text-gray-400 hover:text-white",onClick:p,children:[s.jsx(Ni,{className:"w-4 h-4"})," Back to packages"]}),s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-pink-400 to-purple-400 bg-clip-text text-transparent mb-2",children:n.name}),s.jsxs("p",{className:"text-3xl font-bold text-yellow-400 mb-1",children:["$",n.price.toFixed(2)]}),n.subtitle&&s.jsx("p",{className:"text-yellow-300 font-semibold mb-1",children:n.subtitle}),n.monthly&&s.jsx("p",{className:"text-sm text-gray-400",children:n.monthly})]}),b&&s.jsxs(Q,{className:"bg-white/10 backdrop-blur border-white/20 mb-8",children:[s.jsx(de,{children:s.jsx(ue,{className:"text-2xl text-center text-white",children:"Choose Your Payment Option"})}),s.jsx(X,{children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsx("div",{className:`p-6 rounded-xl border-2 cursor-pointer transition-all ${d==="full"?"border-pink-400 bg-pink-400/10":"border-gray-600 hover:border-gray-500"}`,onClick:()=>u("full"),children:s.jsxs("div",{className:"text-center",children:[s.jsx(Na,{className:"w-8 h-8 text-pink-400 mx-auto mb-3"}),s.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Full Payment"}),s.jsxs("div",{className:"text-3xl font-bold text-pink-400 mb-2",children:["$",n.price.toFixed(2)]}),s.jsx("p",{className:"text-gray-300 text-sm",children:"One-time payment, immediate activation"})]})}),s.jsx("div",{className:`p-6 rounded-xl border-2 cursor-pointer transition-all ${d==="installment"?"border-pink-400 bg-pink-400/10":"border-gray-600 hover:border-gray-500"}`,onClick:()=>u("installment"),children:s.jsxs("div",{className:"text-center",children:[s.jsx(fr,{className:"w-8 h-8 text-pink-400 mx-auto mb-3"}),s.jsxs("h3",{className:"text-xl font-bold text-white mb-2",children:[n.installmentCount," Installments"]}),s.jsxs("div",{className:"text-lg font-bold text-pink-400 mb-1",children:["$",(y=n.installmentAmount)==null?void 0:y.toFixed(2)," each"]}),s.jsxs("div",{className:"text-sm text-gray-400 mb-2",children:[" ",n.installmentCount," payments"]})]})})]})})]}),s.jsxs(Q,{className:"bg-white/10 backdrop-blur border-white/20 mb-8",children:[s.jsx(de,{children:s.jsxs(ue,{className:"flex items-center gap-2 text-white",children:[s.jsx($h,{className:"w-5 h-5"})," Contact Information"]})}),s.jsx(X,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"phone",className:"text-gray-300",children:"Phone Number (Required for PayPal)"}),s.jsx(ne,{id:"phone",type:"tel",value:l,onChange:j=>c(j.target.value),placeholder:"(555) 123-4567",className:"bg-white/20 border-white/30 text-white"})]}),s.jsxs("div",{children:[s.jsx(pe,{className:"text-gray-300",children:"Email"}),s.jsx(ne,{type:"email",value:t.email,disabled:!0,className:"bg-gray-800 border-gray-600 text-gray-400"})]})]})})]}),s.jsx("div",{className:"text-center text-gray-400",children:"Select a package above."})]})})},vq=new gT,bq=()=>s.jsx(vT,{client:vq,children:s.jsx(Xt,{children:s.jsx(yq,{})})});function wq(e,t){return f.useReducer((r,n)=>t[r][n]??r,e)}var Fy="ScrollArea",[jT]=tr(Fy),[jq,is]=jT(Fy),NT=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=f.useState(null),[d,u]=f.useState(null),[h,m]=f.useState(null),[x,g]=f.useState(null),[v,w]=f.useState(null),[b,p]=f.useState(0),[y,j]=f.useState(0),[N,k]=f.useState(!1),[_,S]=f.useState(!1),P=Le(t,A=>c(A)),C=ll(a);return s.jsx(jq,{scope:r,type:n,dir:C,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:u,content:h,onContentChange:m,scrollbarX:x,onScrollbarXChange:g,scrollbarXEnabled:N,onScrollbarXEnabledChange:k,scrollbarY:v,onScrollbarYChange:w,scrollbarYEnabled:_,onScrollbarYEnabledChange:S,onCornerWidthChange:p,onCornerHeightChange:j,children:s.jsx(je.div,{dir:C,...o,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":y+"px",...e.style}})})});NT.displayName=Fy;var _T="ScrollAreaViewport",ST=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,o=is(_T,r),l=f.useRef(null),c=Le(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(je.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});ST.displayName=_T;var Ys="ScrollAreaScrollbar",$y=f.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=is(Ys,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return f.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx(Nq,{...n,ref:t,forceMount:r}):a.type==="scroll"?s.jsx(_q,{...n,ref:t,forceMount:r}):a.type==="auto"?s.jsx(kT,{...n,ref:t,forceMount:r}):a.type==="always"?s.jsx(Uy,{...n,ref:t}):null});$y.displayName=Ys;var Nq=f.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=is(Ys,e.__scopeScrollArea),[i,o]=f.useState(!1);return f.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(Ir,{present:r||i,children:s.jsx(kT,{"data-state":i?"visible":"hidden",...n,ref:t})})}),_q=f.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=is(Ys,e.__scopeScrollArea),i=e.orientation==="horizontal",o=hf(()=>c("SCROLL_END"),100),[l,c]=wq("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return f.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,a.scrollHideDelay,c]),f.useEffect(()=>{const d=a.viewport,u=i?"scrollLeft":"scrollTop";if(d){let h=d[u];const m=()=>{const x=d[u];h!==x&&(c("SCROLL"),o()),h=x};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[a.viewport,i,c,o]),s.jsx(Ir,{present:r||l!=="hidden",children:s.jsx(Uy,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:we(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:we(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),kT=f.forwardRef((e,t)=>{const r=is(Ys,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,o]=f.useState(!1),l=e.orientation==="horizontal",c=hf(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?d:u)}},10);return Qo(r.viewport,c),Qo(r.content,c),s.jsx(Ir,{present:n||i,children:s.jsx(Uy,{"data-state":i?"visible":"hidden",...a,ref:t})})}),Uy=f.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=is(Ys,e.__scopeScrollArea),i=f.useRef(null),o=f.useRef(0),[l,c]=f.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=AT(l.viewport,l.content),u={...n,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:m=>i.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function h(m,x){return Tq(m,o.current,l,x)}return r==="horizontal"?s.jsx(Sq,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollLeft,x=vN(m,l,a.dir);i.current.style.transform=`translate3d(${x}px, 0, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollLeft=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollLeft=h(m,a.dir))}}):r==="vertical"?s.jsx(kq,{...u,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollTop,x=vN(m,l);i.current.style.transform=`translate3d(0, ${x}px, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollTop=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollTop=h(m))}}):null}),Sq=f.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=is(Ys,e.__scopeScrollArea),[o,l]=f.useState(),c=f.useRef(null),d=Le(t,c,i.onScrollbarXChange);return f.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(ET,{"data-orientation":"horizontal",...a,ref:d,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":uf(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(i.viewport){const m=i.viewport.scrollLeft+u.deltaX;e.onWheelScroll(m),IT(m,h)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:mh(o.paddingLeft),paddingEnd:mh(o.paddingRight)}})}})}),kq=f.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=is(Ys,e.__scopeScrollArea),[o,l]=f.useState(),c=f.useRef(null),d=Le(t,c,i.onScrollbarYChange);return f.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(ET,{"data-orientation":"vertical",...a,ref:d,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":uf(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(i.viewport){const m=i.viewport.scrollTop+u.deltaY;e.onWheelScroll(m),IT(m,h)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:mh(o.paddingTop),paddingEnd:mh(o.paddingBottom)}})}})}),[Cq,CT]=jT(Ys),ET=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:h,...m}=e,x=is(Ys,r),[g,v]=f.useState(null),w=Le(t,P=>v(P)),b=f.useRef(null),p=f.useRef(""),y=x.viewport,j=n.content-n.viewport,N=Pt(u),k=Pt(c),_=hf(h,10);function S(P){if(b.current){const C=P.clientX-b.current.left,A=P.clientY-b.current.top;d({x:C,y:A})}}return f.useEffect(()=>{const P=C=>{const A=C.target;(g==null?void 0:g.contains(A))&&N(C,j)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[y,g,j,N]),f.useEffect(k,[n,k]),Qo(g,_),Qo(x.content,_),s.jsx(Cq,{scope:r,scrollbar:g,hasThumb:a,onThumbChange:Pt(i),onThumbPointerUp:Pt(o),onThumbPositionChange:k,onThumbPointerDown:Pt(l),children:s.jsx(je.div,{...m,ref:w,style:{position:"absolute",...m.style},onPointerDown:we(e.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),b.current=g.getBoundingClientRect(),p.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),S(P))}),onPointerMove:we(e.onPointerMove,S),onPointerUp:we(e.onPointerUp,P=>{const C=P.target;C.hasPointerCapture(P.pointerId)&&C.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=p.current,x.viewport&&(x.viewport.style.scrollBehavior=""),b.current=null})})})}),fh="ScrollAreaThumb",PT=f.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=CT(fh,e.__scopeScrollArea);return s.jsx(Ir,{present:r||a.hasThumb,children:s.jsx(Eq,{ref:t,...n})})}),Eq=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=is(fh,r),o=CT(fh,r),{onThumbPositionChange:l}=o,c=Le(t,h=>o.onThumbChange(h)),d=f.useRef(void 0),u=hf(()=>{d.current&&(d.current(),d.current=void 0)},100);return f.useEffect(()=>{const h=i.viewport;if(h){const m=()=>{if(u(),!d.current){const x=Aq(h,l);d.current=x,l()}};return l(),h.addEventListener("scroll",m),()=>h.removeEventListener("scroll",m)}},[i.viewport,u,l]),s.jsx(je.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:we(e.onPointerDownCapture,h=>{const x=h.target.getBoundingClientRect(),g=h.clientX-x.left,v=h.clientY-x.top;o.onThumbPointerDown({x:g,y:v})}),onPointerUp:we(e.onPointerUp,o.onThumbPointerUp)})});PT.displayName=fh;var Vy="ScrollAreaCorner",TT=f.forwardRef((e,t)=>{const r=is(Vy,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(Pq,{...e,ref:t}):null});TT.displayName=Vy;var Pq=f.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=is(Vy,r),[i,o]=f.useState(0),[l,c]=f.useState(0),d=!!(i&&l);return Qo(a.scrollbarX,()=>{var h;const u=((h=a.scrollbarX)==null?void 0:h.offsetHeight)||0;a.onCornerHeightChange(u),c(u)}),Qo(a.scrollbarY,()=>{var h;const u=((h=a.scrollbarY)==null?void 0:h.offsetWidth)||0;a.onCornerWidthChange(u),o(u)}),d?s.jsx(je.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function mh(e){return e?parseInt(e,10):0}function AT(e,t){const r=e/t;return isNaN(r)?0:r}function uf(e){const t=AT(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function Tq(e,t,r,n="ltr"){const a=uf(r),i=a/2,o=t||i,l=a-o,c=r.scrollbar.paddingStart+o,d=r.scrollbar.size-r.scrollbar.paddingEnd-l,u=r.content-r.viewport,h=n==="ltr"?[0,u]:[u*-1,0];return RT([c,d],h)(e)}function vN(e,t,r="ltr"){const n=uf(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],d=Rx(e,c);return RT([0,o],[0,l])(d)}function RT(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function IT(e,t){return e>0&&e<t}var Aq=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function hf(e,t){const r=Pt(e),n=f.useRef(0);return f.useEffect(()=>()=>window.clearTimeout(n.current),[]),f.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Qo(e,t){const r=Pt(t);wt(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var OT=NT,Rq=ST,Iq=TT;const ff=f.forwardRef(({className:e,children:t,hideScrollbar:r=!1,...n},a)=>s.jsxs(OT,{ref:a,className:_e("relative overflow-hidden",e),...n,children:[s.jsx(Rq,{className:"h-full w-full rounded-[inherit]",children:t}),!r&&s.jsx(LT,{}),s.jsx(Iq,{})]}));ff.displayName=OT.displayName;const LT=f.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx($y,{ref:n,orientation:t,className:_e("flex touch-none select-none transition-colors duration-300",t==="vertical"&&"h-full w-2 border-l border-l-transparent p-[1px] hover:w-2.5",t==="horizontal"&&"h-2 flex-col border-t border-t-transparent p-[1px] hover:h-2.5",e),...r,children:s.jsx(PT,{className:"relative flex-1 rounded-full bg-border/50 hover:bg-border/80 transition-colors"})}));LT.displayName=$y.displayName;const Oq=()=>{const[e,t]=f.useState("blackjackonelife@gmail.com"),[r,n]=f.useState(!1),{toast:a}=Pe(),i=async o=>{o.preventDefault(),n(!0);try{await new Promise(l=>setTimeout(l,1e3)),localStorage.setItem("adminEmail",e),a({title:"Success",description:"Admin email updated successfully"})}catch{a({title:"Error",description:"Failed to update email",variant:"destructive"})}finally{n(!1)}};return s.jsxs(Q,{children:[s.jsx(de,{children:s.jsx(ue,{children:"Admin Email Settings"})}),s.jsx(X,{children:s.jsxs("form",{onSubmit:i,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(pe,{htmlFor:"adminEmail",children:"Admin Email Address"}),s.jsx(ne,{id:"adminEmail",type:"email",value:e,onChange:o=>t(o.target.value),required:!0,placeholder:"Enter admin email"})]}),s.jsx(V,{type:"submit",disabled:r,children:r?"Updating...":"Update Email"})]})})]})},Lq=({userTypeFilter:e,setUserTypeFilter:t,usernameFilter:r,setUsernameFilter:n,cityFilter:a,setCityFilter:i,stateFilter:o,setStateFilter:l,genderFilter:c,setGenderFilter:d,referredByFilter:u,setReferredByFilter:h})=>s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"userType",children:"User Type"}),s.jsxs(Sr,{value:e,onValueChange:t,children:[s.jsx(dr,{children:s.jsx(kr,{placeholder:"All Types"})}),s.jsxs(ur,{children:[s.jsx(Se,{value:"all",children:"All Types"}),s.jsx(Se,{value:"stripper",children:"Stripper"}),s.jsx(Se,{value:"exotic",children:"Exotic"}),s.jsx(Se,{value:"male",children:"Normal Male"}),s.jsx(Se,{value:"female",children:"Normal Female"})]})]})]}),s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"gender",children:"Gender"}),s.jsxs(Sr,{value:c,onValueChange:d,children:[s.jsx(dr,{children:s.jsx(kr,{placeholder:"All Genders"})}),s.jsxs(ur,{children:[s.jsx(Se,{value:"all",children:"All Genders"}),s.jsx(Se,{value:"male",children:"Male"}),s.jsx(Se,{value:"female",children:"Female"})]})]})]}),s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"username",children:"Username"}),s.jsx(ne,{id:"username",placeholder:"Filter by username",value:r,onChange:m=>n(m.target.value)})]}),s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"city",children:"City"}),s.jsx(ne,{id:"city",placeholder:"Filter by city",value:a,onChange:m=>i(m.target.value)})]}),s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"state",children:"State"}),s.jsx(ne,{id:"state",placeholder:"Filter by state",value:o,onChange:m=>l(m.target.value)})]}),s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"referredBy",children:"Referred By"}),s.jsx(ne,{id:"referredBy",placeholder:"Filter by referrer",value:u,onChange:m=>h(m.target.value)})]})]}),Mq=({user:e,isOpen:t,onClose:r,onUserUpdated:n})=>{const[a,i]=f.useState([]),[o,l]=f.useState(""),[c,d]=f.useState(null),[u,h]=f.useState(null),[m,x]=f.useState(null),[g,v]=f.useState(!1),{toast:w}=Pe();f.useEffect(()=>{e&&t&&b()},[e,t]);const b=async()=>{if(e)try{const{data:N,error:k}=await Ve.from("user_media").select("id, media_url, media_type, content_tier, flagged, warning_message, created_at").eq("user_id",e.id).order("created_at",{ascending:!1});if(k)throw k;const _=(N||[]).map(S=>({id:S.id,url:S.media_url,type:S.media_type,flagged:S.flagged,warning_message:S.warning_message,content_tier:S.content_tier,created_at:S.created_at}));i(_)}catch(N){console.error("Error fetching media:",N)}},p=async N=>{if(!o.trim()){w({title:"Error",description:"Please enter a warning message",variant:"destructive"});return}try{const{error:k}=await Ve.from("user_media").update({flagged:!0,warning_message:o}).eq("id",N);if(k)throw k;w({title:"Success",description:"Media flagged successfully"}),l(""),d(null),b()}catch{w({title:"Error",description:"Failed to flag media",variant:"destructive"})}},y=async()=>{if(!(!e||!confirm("Are you sure you want to deactivate this user?"))){v(!0);try{const{error:N}=await Ve.from("users").update({status:"deactivated"}).eq("id",e.id);if(N)throw N;w({title:"Success",description:"User deactivated successfully"}),n&&n(),r()}catch{w({title:"Error",description:"Failed to deactivate user",variant:"destructive"})}finally{v(!1)}}},j=N=>{switch(N.toLowerCase()){case"stripper":return"Stripper";case"exotic":return"Exotic";case"male":return"Male";case"female":case"normal":return"Female";default:return N}};return e?s.jsxs(s.Fragment,{children:[s.jsx(Xe,{open:t,onOpenChange:r,children:s.jsxs(Je,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Ze,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Qe,{children:["User Details - ",e.username]}),s.jsxs(V,{variant:"destructive",size:"sm",onClick:y,disabled:g||e.status==="deactivated",className:"flex items-center gap-2",children:[s.jsx(U2,{className:"w-4 h-4"}),g?"Deactivating...":e.status==="deactivated"?"Deactivated":"Deactivate User"]})]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Profile Photo"}),e.profile_photo?s.jsx("img",{src:e.profile_photo,alt:"Profile",className:"w-full h-32 object-cover rounded-lg cursor-pointer hover:opacity-80",onClick:()=>h(e.profile_photo)}):s.jsx("div",{className:"w-full h-32 bg-gray-200 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-gray-500",children:"No photo"})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Banner Photo"}),e.banner_photo?s.jsx("img",{src:e.banner_photo,alt:"Banner",className:"w-full h-32 object-cover rounded-lg cursor-pointer hover:opacity-80",onClick:()=>h(e.banner_photo)}):s.jsx("div",{className:"w-full h-32 bg-gray-200 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-gray-500",children:"No banner"})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Front Page Photo"}),e.front_page_photo?s.jsx("img",{src:e.front_page_photo,alt:"Front Page",className:"w-full h-32 object-cover rounded-lg cursor-pointer hover:opacity-80",onClick:()=>h(e.front_page_photo)}):s.jsx("div",{className:"w-full h-32 bg-gray-200 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-gray-500",children:"No photo"})})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-3",children:"Profile Information"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Username:"})," ",e.username]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Email:"})," ",e.email]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Name:"})," ",e.first_name," ",e.last_name]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Phone:"})," ",e.mobile_number||"N/A"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Location:"})," ",e.city,", ",e.state]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Type:"})," ",s.jsx(ce,{children:j(e.user_type)})]}),e.referred_by&&s.jsxs("p",{children:[s.jsx("strong",{children:"Referred by:"}),s.jsxs("span",{className:"ml-2 font-medium text-blue-600",children:["@",e.referred_by]})]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Status:"}),s.jsx(ce,{variant:e.status==="deactivated"?"destructive":"default",className:"ml-2",children:e.status||"Active"})]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Joined:"})," ",new Date(e.created_at).toLocaleDateString()]})]})]})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold mb-3",children:["Uploaded Media (",a.length,")"]}),a.length===0?s.jsx("p",{className:"text-gray-500 text-center py-8",children:"No media uploaded"}):s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:a.map(N=>s.jsxs("div",{className:"relative border rounded-lg overflow-hidden",children:[N.type==="photo"?s.jsx("img",{src:N.url,alt:"User media",className:"w-full h-40 md:h-48 object-cover cursor-pointer hover:opacity-80",onClick:()=>h(N.url)}):s.jsxs("div",{className:"relative",children:[s.jsx("video",{src:N.url,className:"w-full h-40 md:h-48 object-cover",preload:"metadata",muted:!0,onLoadedMetadata:k=>{const _=k.target;_.currentTime=1}}),s.jsx(V,{size:"sm",className:"absolute inset-0 bg-black bg-opacity-50 hover:bg-opacity-70",onClick:()=>x(N.url),children:s.jsx(ca,{className:"w-6 h-6 text-white"})})]}),N.flagged&&s.jsx(ce,{variant:"destructive",className:"absolute top-1 right-1 text-xs",children:"Flagged"}),s.jsxs("div",{className:"p-2",children:[s.jsxs(V,{size:"sm",variant:c===N.id?"secondary":"outline",onClick:()=>d(c===N.id?null:N.id),className:"w-full mb-2",children:[s.jsx(w0,{className:"w-3 h-3 mr-1"}),N.flagged?"Flagged":"Flag"]}),c===N.id&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(mr,{placeholder:"Warning message...",value:o,onChange:k=>l(k.target.value),rows:2,className:"text-xs"}),s.jsx(V,{size:"sm",onClick:()=>p(N.id),className:"w-full",children:"Submit Flag"})]}),N.flagged&&N.warning_message&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:N.warning_message})]})]},N.id))})]})]})]})}),u&&s.jsx(Xe,{open:!!u,onOpenChange:()=>h(null),children:s.jsxs(Je,{className:"max-w-4xl",children:[s.jsx(Ze,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Qe,{children:"Image Preview"}),s.jsx(V,{variant:"ghost",size:"sm",onClick:()=>h(null),children:s.jsx(er,{className:"w-4 h-4"})})]})}),s.jsx("div",{className:"flex justify-center",children:s.jsx("img",{src:u,alt:"Expanded view",className:"max-w-full max-h-[70vh] object-contain"})})]})}),m&&s.jsx(Xe,{open:!!m,onOpenChange:()=>x(null),children:s.jsxs(Je,{className:"max-w-4xl",children:[s.jsx(Ze,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Qe,{children:"Video Player"}),s.jsx(V,{variant:"ghost",size:"sm",onClick:()=>x(null),children:s.jsx(er,{className:"w-4 h-4"})})]})}),s.jsx("div",{className:"flex justify-center",children:s.jsx("video",{src:m,controls:!0,autoPlay:!0,className:"max-w-full max-h-[70vh]"})})]})})]}):null},Dq=()=>{const[e,t]=f.useState([]),[r,n]=f.useState([]),[a,i]=f.useState(!0),[o,l]=f.useState(null),[c,d]=f.useState(!1),[u,h]=f.useState("all"),[m,x]=f.useState("all"),[g,v]=f.useState(""),[w,b]=f.useState(""),[p,y]=f.useState(""),[j,N]=f.useState(""),{toast:k}=Pe();f.useEffect(()=>{_()},[]),f.useEffect(()=>{S()},[e,u,m,g,w,p,j]);const _=async()=>{try{const{data:E,error:W}=await Ve.from("users").select("*").order("created_at",{ascending:!1});if(W)throw W;t(E||[])}catch(E){console.error("Error fetching users:",E),k({title:"Error",description:"Failed to load users",variant:"destructive"})}finally{i(!1)}},S=()=>{let E=[...e];u!=="all"&&(E=E.filter(W=>{var Y;const U=((Y=W.user_type)==null?void 0:Y.toLowerCase())||"";return u==="female"?U==="female"||U==="normal"||U==="":U===u})),m!=="all"&&(E=E.filter(W=>{var M,G;const U=((M=W.gender)==null?void 0:M.toLowerCase())||"",Y=((G=W.user_type)==null?void 0:G.toLowerCase())||"";return m==="male"?U==="male"||Y==="male":m==="female"?U==="female"||Y==="female"||Y==="normal"||Y==="stripper"||Y==="exotic"||!U&&!Y:!0})),g&&(E=E.filter(W=>{var U;return(U=W.username)==null?void 0:U.toLowerCase().includes(g.toLowerCase())})),w&&(E=E.filter(W=>{var U;return(U=W.city)==null?void 0:U.toLowerCase().includes(w.toLowerCase())})),p&&(E=E.filter(W=>{var U;return(U=W.state)==null?void 0:U.toLowerCase().includes(p.toLowerCase())})),j&&(E=E.filter(W=>{var U;return(U=W.referred_by)==null?void 0:U.toLowerCase().includes(j.toLowerCase())})),n(E)},P=E=>{var Y,M;const W=((Y=E.gender)==null?void 0:Y.toLowerCase())||"",U=((M=E.user_type)==null?void 0:M.toLowerCase())||"";return W==="male"?"Male":W==="female"?"Female":U==="male"?"Male":U==="female"||U==="stripper"||U==="exotic"?"Female":"Unknown"},C=E=>{switch(E==null?void 0:E.toLowerCase()){case"stripper":return"Stripper";case"exotic":return"Exotic";case"normal":return"Normal";case"male":return"Male";case"female":return"Female";case"":return"Unknown";default:return E||"Unknown"}},A=E=>{switch(E==null?void 0:E.toLowerCase()){case"stripper":return"destructive";case"exotic":return"secondary";case"male":return"outline";default:return"default"}},L=async E=>{try{const{error:W}=await Ve.from("users").update({is_active:!1}).eq("id",E);if(W)throw W;k({title:"Success",description:"User deactivated successfully"}),_()}catch(W){console.error("Error deactivating user:",W),k({title:"Error",description:"Failed to deactivate user",variant:"destructive"})}},F=E=>{l(E),d(!0)};return a?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Q,{children:[s.jsx(de,{children:s.jsx(ue,{children:"User Management"})}),s.jsxs(X,{children:[s.jsx(Lq,{userTypeFilter:u,setUserTypeFilter:h,genderFilter:m,setGenderFilter:x,usernameFilter:g,setUsernameFilter:v,cityFilter:w,setCityFilter:b,stateFilter:p,setStateFilter:y,referredByFilter:j,setReferredByFilter:N}),s.jsxs("div",{className:"text-sm text-gray-600 mb-4",children:["Showing ",r.length," of ",e.length," users"]}),s.jsx("div",{className:"grid gap-4",children:r.map(E=>{var W;return s.jsx(Q,{className:"hover:shadow-md transition-shadow",children:s.jsx(X,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(Tr,{className:"h-12 w-12",children:[s.jsx(Ar,{src:E.profile_photo}),s.jsx(Rr,{children:(W=E.username)==null?void 0:W.charAt(0).toUpperCase()})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h3",{className:"font-semibold",children:E.username}),s.jsx(ce,{variant:A(E.user_type),children:C(E.user_type)}),s.jsx(ce,{variant:"outline",children:P(E)})]}),s.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Name:"})," ",E.first_name," ",E.last_name]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Email:"})," ",E.email]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Phone:"})," ",E.mobile_number||"N/A"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Location:"})," ",E.city,", ",E.state]}),E.referred_by&&s.jsxs("p",{children:[s.jsx("strong",{children:"Referred by:"})," ",E.referred_by]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Joined:"})," ",new Date(E.created_at).toLocaleDateString()]})]})]})]}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs(V,{variant:"outline",size:"sm",onClick:()=>F(E),children:[s.jsx(Ba,{className:"w-4 h-4 mr-1"}),"Details"]}),E.is_active&&s.jsxs(V,{variant:"destructive",size:"sm",onClick:()=>L(E.id),children:[s.jsx(U2,{className:"w-4 h-4 mr-1"}),"Deactivate"]})]})]})})},E.id)})}),r.length===0&&s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500",children:"No users found matching the current filters"})})]})]}),s.jsx(Mq,{user:o,isOpen:c,onClose:()=>{d(!1),l(null)}})]})},By=f.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:_e("w-full caption-bottom text-sm",e),...t})}));By.displayName="Table";const zy=f.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:_e("[&_tr]:border-b",e),...t}));zy.displayName="TableHeader";const Wy=f.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:_e("[&_tr:last-child]:border-0",e),...t}));Wy.displayName="TableBody";const Fq=f.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:_e("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Fq.displayName="TableFooter";const No=f.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:_e("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));No.displayName="TableRow";const br=f.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:_e("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));br.displayName="TableHead";const or=f.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:_e("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));or.displayName="TableCell";const $q=f.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:_e("mt-4 text-sm text-muted-foreground",e),...t}));$q.displayName="TableCaption";const Yd=e=>{const t=new Date(e);return t.setHours(0,0,0,0),t},Jd=e=>{const t=new Date(e);return t.setHours(23,59,59,999),t},Uq=()=>{const[e,t]=f.useState([]),[r,n]=f.useState(""),[a,i]=f.useState(null),[o,l]=f.useState(!1),[c,d]=f.useState(""),[u,h]=f.useState("earnings"),[m,x]=f.useState("desc"),{toast:g}=Pe();f.useEffect(()=>{v()},[]),f.useEffect(()=>{r&&w(r)},[r]);const v=()=>{const k=new Date().getFullYear(),_=[];for(let S=0;S<12;S++){const P=new Date(k,S,1),C=new Date(k,S,15),A=new Date(k,S+1,1);_.push({id:`first_${S+1}`,startDate:P,endDate:C,payDate:A,label:`${P.toLocaleDateString("en-US",{month:"short",day:"numeric"})} - ${C.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}  Pays ${A.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`});const L=new Date(k,S,16),F=new Date(k,S+1,0),E=new Date(k,S+1,15);_.push({id:`second_${S+1}`,startDate:L,endDate:F,payDate:E,label:`${L.toLocaleDateString("en-US",{month:"short",day:"numeric"})} - ${F.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}  Pays ${E.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`})}_.sort((S,P)=>P.startDate.getTime()-S.startDate.getTime()),t(_),_.length>0&&n(_[0].id)},w=async k=>{l(!0);try{const _=e.find(se=>se.id===k);if(!_)return;const{data:S,error:P}=await Ve.from("users").select("id, username, user_type").order("username");if(P)throw P;const C=["subscription_referral_commission","subscription_upline_referral_commission","referral_commission","upline_referral_commission","diamond_plus_referral_commission","diamond_plus_upline_referral_commission"],{data:A,error:L}=await Ve.from("payments").select("referred_by, referrer_commission, created_at, payment_type").not("referrer_commission","is",null).in("payment_type",C).gte("created_at",Yd(_.startDate).toISOString()).lte("created_at",Jd(_.endDate).toISOString()).eq("payment_status","completed");if(L)throw L;const{data:F,error:E}=await Ve.from("tips").select("tipped_username, tip_amount, created_at, status").eq("status","completed").gte("created_at",Yd(_.startDate).toISOString()).lte("created_at",Jd(_.endDate).toISOString());if(E)throw E;const{data:W,error:U}=await Ve.from("tips_transactions").select("referrer_username, referrer_commission, completed_at").not("referrer_commission","is",null).eq("payment_status","completed").gte("completed_at",Yd(_.startDate).toISOString()).lte("completed_at",Jd(_.endDate).toISOString());if(U)throw U;const{data:Y,error:M}=await Ve.from("payments").select("user_id, event_host_commission, created_at").not("event_host_commission","is",null).eq("payment_status","completed").gte("created_at",Yd(_.startDate).toISOString()).lte("created_at",Jd(_.endDate).toISOString());if(M)throw M;const G=S||[],R=A||[],D=F||[],te=W||[],J=Y||[],ae=[...G];R.forEach(se=>{const T=(se.referred_by||"").trim();if(!T)return;const z=T.toLowerCase();ae.some(le=>(le.username||"").toLowerCase()===z)||ae.push({id:`referrer:${z}`,username:T,user_type:"referrer"})}),te.forEach(se=>{const T=(se.referrer_username||"").trim();if(!T)return;const z=T.toLowerCase();ae.some(le=>(le.username||"").toLowerCase()===z)||ae.push({id:`tip_referrer:${z}`,username:T,user_type:"referrer"})});const K=ae.map(se=>{const T=se.username||"",z=T.toLowerCase(),Z=R.filter(Re=>(Re.referred_by||"").toLowerCase()===z).reduce((Re,Oe)=>Re+Number(Oe.referrer_commission||0),0),le=D.filter(Re=>(Re.tipped_username||"").toLowerCase()===z).reduce((Re,Oe)=>Re+Number(Oe.tip_amount||0),0),q=te.filter(Re=>(Re.referrer_username||"").toLowerCase()===z).reduce((Re,Oe)=>Re+Number(Oe.referrer_commission||0),0),he=Math.max(0,Z-q),xe=le+q,me=J.filter(Re=>Re.user_id===se.id).reduce((Re,Oe)=>Re+Number(Oe.event_host_commission||0),0),Ae=he+xe+me;return{id:se.id,username:T,user_type:se.user_type,referralEarnings:he,tipsReceived:xe,performerTips:le,referralTips:q,eventCommissions:me,totalEarnings:Ae,rank:0}});K.sort((se,T)=>T.totalEarnings-se.totalEarnings),K.forEach((se,T)=>{se.rank=T+1});const O=K.filter(se=>se.totalEarnings>0),H=K.filter(se=>se.totalEarnings>0||se.referralEarnings>0||se.tipsReceived>0||se.eventCommissions>0),re=O.reduce((se,T)=>se+T.totalEarnings,0),ee={payPeriod:_,users:H,totalPayout:re,userCount:O.length};i(ee),console.log("=== PAY PERIOD EARNINGS CALCULATED ==="),console.log("Total Users with Earnings:",O.length),console.log("Total Payout:",re),O.length>0&&console.log("Top Earner:",O[0].username,"- $",O[0].totalEarnings)}catch(_){console.error("Error fetching pay period earnings:",_),g({title:"Error",description:"Failed to fetch pay period earnings",variant:"destructive"})}finally{l(!1)}},b=()=>{if(!a)return;const{payPeriod:k,users:_}=a,S=["Rank","Username","User Type","Referral Earnings (20%/10%)","Tips Received","Event Commissions","Total Earnings","Pay Period","Pay Date"],P=_.map(E=>[E.rank,E.username,E.user_type,E.referralEarnings.toFixed(2),E.tipsReceived.toFixed(2),E.eventCommissions.toFixed(2),E.totalEarnings.toFixed(2),`${k.startDate.toLocaleDateString()} - ${k.endDate.toLocaleDateString()}`,k.payDate.toLocaleDateString()]),C=[S,...P].map(E=>E.map(W=>`"${W}"`).join(",")).join(`
`),A=new Blob([C],{type:"text/csv;charset=utf-8;"}),L=document.createElement("a"),F=URL.createObjectURL(A);L.href=F,L.download=`payroll_${k.startDate.toISOString().split("T")[0]}_to_${k.endDate.toISOString().split("T")[0]}.csv`,L.style.visibility="hidden",document.body.appendChild(L),L.click(),document.body.removeChild(L),g({title:"CSV Exported",description:`Payroll data exported for ${k.startDate.toLocaleDateString()} - ${k.endDate.toLocaleDateString()}`})},p=k=>`$${k.toFixed(2)}`,y=k=>u===k?m==="desc"?"":"":"",j=k=>{u===k?x(m==="asc"?"desc":"asc"):(h(k),x("desc"))},N=f.useMemo(()=>{if(!a)return[];const k=[...a.users];return(()=>{switch(u){case"earnings":return k.sort((S,P)=>m==="desc"?P.totalEarnings-S.totalEarnings:S.totalEarnings-P.totalEarnings);case"username":return k.sort((S,P)=>m==="desc"?P.username.localeCompare(S.username):S.username.localeCompare(P.username));case"rank":return k.sort((S,P)=>m==="desc"?P.rank-S.rank:S.rank-P.rank);default:return k}})().filter(S=>S.username.toLowerCase().includes(c.toLowerCase()))},[a,u,m,c]);return s.jsx("div",{className:"space-y-6",children:s.jsxs(Q,{children:[s.jsx(de,{children:s.jsxs(ue,{className:"flex items-center gap-2",children:[s.jsx(Tt,{className:"w-5 h-5"}),"Payroll Dashboard - Master Earnings List"]})}),s.jsxs(X,{children:[s.jsxs("div",{className:"mb-6 space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Select Pay Period"}),s.jsxs(Sr,{value:r,onValueChange:n,children:[s.jsx(dr,{className:"w-full max-w-md",children:s.jsx(kr,{placeholder:"Select a pay period"})}),s.jsx(ur,{children:e.map(k=>s.jsx(Se,{value:k.id,children:k.label},k.id))})]})]}),s.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(bs,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(ne,{placeholder:"Search users by username...",value:c,onChange:k=>d(k.target.value),className:"pl-10"})]}),s.jsxs(V,{onClick:b,disabled:!a||a.users.length===0,className:"bg-green-600 hover:bg-green-700",children:[s.jsx(hu,{className:"mr-2 h-4 w-4"}),"Export to CSV"]})]})]}),o&&s.jsxs("div",{className:"py-12 text-center",children:[s.jsx("div",{className:"mx-auto mb-4 h-8 w-8 animate-spin rounded-full border-b-2 border-blue-600"}),s.jsx("p",{className:"text-gray-500",children:"Loading pay period earnings data..."})]}),a&&!o&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[s.jsxs(Q,{className:"border-green-200 bg-green-50",children:[s.jsx(de,{className:"pb-2",children:s.jsx(ue,{className:"text-sm text-green-700",children:"Total Payout for Period"})}),s.jsxs(X,{children:[s.jsx("div",{className:"text-2xl font-bold text-green-800",children:p(a.totalPayout)}),s.jsxs("p",{className:"mt-1 text-xs text-green-600",children:[a.payPeriod.startDate.toLocaleDateString()," ","-"," ",a.payPeriod.endDate.toLocaleDateString()]})]})]}),s.jsxs(Q,{className:"border-blue-200 bg-blue-50",children:[s.jsx(de,{className:"pb-2",children:s.jsx(ue,{className:"text-sm text-blue-700",children:"Users with Earnings"})}),s.jsxs(X,{children:[s.jsx("div",{className:"text-2xl font-bold text-blue-800",children:a.userCount}),s.jsx("p",{className:"mt-1 text-xs text-blue-600",children:"Active earners this period"})]})]}),s.jsxs(Q,{className:"border-purple-200 bg-purple-50",children:[s.jsx(de,{className:"pb-2",children:s.jsx(ue,{className:"text-sm text-purple-700",children:"Pay Date"})}),s.jsxs(X,{children:[s.jsx("div",{className:"text-2xl font-bold text-purple-800",children:a.payPeriod.payDate.toLocaleDateString()}),s.jsx("p",{className:"mt-1 text-xs text-purple-600",children:"14-day refund buffer"})]})]})]}),s.jsxs(Q,{children:[s.jsx(de,{children:s.jsxs(ue,{className:"flex items-center justify-between",children:[s.jsxs("span",{children:["Earnings Ranking - ",a.payPeriod.label]}),s.jsxs("div",{className:"text-sm text-gray-500",children:[N.length," users "," ",p(a.totalPayout)," total"]})]})}),s.jsx(X,{children:s.jsxs(By,{children:[s.jsx(zy,{children:s.jsxs(No,{children:[s.jsx(br,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>j("rank"),children:s.jsxs("div",{className:"flex items-center gap-2",children:["Rank ",y("rank")]})}),s.jsx(br,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>j("username"),children:s.jsxs("div",{className:"flex items-center gap-2",children:["Username ",y("username")]})}),s.jsx(br,{children:"User Type"}),s.jsx(br,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>j("earnings"),children:s.jsxs("div",{className:"flex items-center gap-2",children:["Total Earnings ",y("earnings")]})}),s.jsx(br,{children:"Referral (20%/10%)"}),s.jsx(br,{children:"Tips"}),s.jsx(br,{children:"Event Commissions"})]})}),s.jsx(Wy,{children:N.length===0?s.jsx(No,{children:s.jsx(or,{colSpan:7,className:"py-8 text-center text-gray-500",children:c?"No users found matching your search":"No earnings data for this pay period"})}):N.map(k=>s.jsxs(No,{children:[s.jsx(or,{children:s.jsxs(ce,{variant:k.rank<=3?"default":"secondary",children:["#",k.rank]})}),s.jsx(or,{className:"font-medium",children:k.username}),s.jsx(or,{children:s.jsx(ce,{variant:"outline",children:k.user_type})}),s.jsx(or,{className:"font-bold text-green-600",children:p(k.totalEarnings)}),s.jsx(or,{className:"text-blue-600",children:p(k.referralEarnings)}),s.jsx(or,{className:k.performerTips>0?"text-purple-600":k.referralTips>0?"text-rose-600":"text-purple-600",children:p(k.tipsReceived)}),s.jsx(or,{className:"text-orange-600",children:p(k.eventCommissions)})]},`${k.id}:${k.username}`))})]})})]})]}),!a&&!o&&s.jsxs("div",{className:"py-12 text-center",children:[s.jsx(fr,{className:"mx-auto mb-4 h-12 w-12 text-gray-400"}),s.jsx("p",{className:"text-gray-500",children:"Select a pay period to view earnings data"})]})]})]})})},Vq=()=>{const[e,t]=f.useState([]),[r,n]=f.useState(!0),[a,i]=f.useState(!1),{toast:o}=Pe();f.useEffect(()=>{l()},[]);const l=async()=>{try{const d=new Date().getFullYear(),{data:u,error:h}=await I.from("users").select(`
          id,
          username,
          profile_photo,
          user_type
        `).in("user_type",["stripper","exotic"]);if(h)throw h;const m=(u==null?void 0:u.map(b=>b.id))||[],{data:x,error:g}=await I.from("ratings").select("user_id, rating, year").in("user_id",m).eq("year",d);if(g)throw g;const v={};x==null||x.forEach(b=>{const p=String(b.user_id);v[p]||(v[p]={total_score:0,rating_count:0}),v[p].total_score+=Number(b.rating),v[p].rating_count+=1});const w=(u||[]).map(b=>{const p=v[b.id]||{total_score:0,rating_count:0};return{id:b.id,username:b.username,profile_photo:b.profile_photo,user_type:b.user_type,total_score:p.total_score,rating_count:p.rating_count,rank:0}}).filter(b=>b.rating_count>0);w.sort((b,p)=>p.total_score-b.total_score),w.forEach((b,p)=>{b.rank=p+1}),t(w.slice(0,50))}catch{o({title:"Error",description:"Failed to fetch rankings",variant:"destructive"})}finally{n(!1)}},c=async()=>{if(!(a||!window.confirm("Reset all ranking points for the current year? This cannot be undone.")))try{i(!0);const u=new Date().getFullYear(),{error:h}=await I.from("ratings").delete().eq("year",u);if(h)throw h;o({title:"Rankings reset",description:`All ranking points for ${u} have been cleared.`}),n(!0),await l()}catch(u){console.error("[AdminRankingTab] reset error:",u),o({title:"Reset failed",description:"Could not reset rankings. Please try again.",variant:"destructive"})}finally{i(!1)}};return r?s.jsx(Q,{children:s.jsx(X,{className:"p-6",children:s.jsx("div",{className:"text-center",children:"Loading rankings..."})})}):s.jsxs(Q,{children:[s.jsxs(de,{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"User Rankings - Top 50 Strippers & Exotic Dancers"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Ranked by total score (current year)"})]}),s.jsx(V,{variant:"destructive",onClick:c,disabled:a||r,children:a?"Resetting...":"Reset Rankings"})]}),s.jsx(X,{children:s.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[e.map(d=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"flex items-center justify-center w-8 h-8 bg-primary text-primary-foreground rounded-full text-sm font-bold",children:["#",d.rank]}),s.jsxs(Tr,{className:"w-10 h-10",children:[s.jsx(Ar,{src:d.profile_photo,alt:d.username}),s.jsx(Rr,{children:d.username.charAt(0).toUpperCase()})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:d.username}),s.jsx(ce,{variant:"outline",className:"text-xs",children:d.user_type})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-lg font-bold",children:[d.total_score.toLocaleString()," Total Score"]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[d.rating_count," rating",d.rating_count!==1?"s":""]})]})]},d.id)),e.length===0&&s.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No ranked users found"})]})})]})},Bq=()=>{const[e,t]=f.useState(""),[r,n]=f.useState("none"),[a,i]=f.useState(null),[o,l]=f.useState(!1),[c,d]=f.useState(0),[u,h]=f.useState(null),{toast:m}=Pe(),x=b=>{var y;const p=(y=b.target.files)==null?void 0:y[0];if(p){if(p.size>50*1024*1024){m({title:"File too large",description:"Please select a file smaller than 50MB",variant:"destructive"});return}const j=["image/jpeg","image/jpg","image/png","image/gif","image/webp"],N=["video/mp4","video/webm","video/ogg","video/avi","video/mov"];if(r==="photo"&&!j.includes(p.type)){m({title:"Invalid file type",description:"Please select a valid image file (JPEG, PNG, GIF, WebP)",variant:"destructive"});return}if(r==="video"&&!N.includes(p.type)){m({title:"Invalid file type",description:"Please select a valid video file (MP4, WebM, OGG, AVI, MOV)",variant:"destructive"});return}if(i(p),r==="photo"){const k=new FileReader;k.onload=_=>{var S;return h((S=_.target)==null?void 0:S.result)},k.readAsDataURL(p)}else h(null)}},g=async b=>{try{const p=b.name.split(".").pop(),j=`notifications/${`notification_${Date.now()}_${Math.random().toString(36).substring(7)}.${p}`}`;d(10);const{error:N}=await I.storage.from("notification").upload(j,b,{cacheControl:"3600",upsert:!1});if(N)throw console.error("Upload error:",N),N;d(80);const{data:k}=I.storage.from("notification").getPublicUrl(j);if(d(100),!k.publicUrl)throw new Error("Failed to get public URL");return k.publicUrl}catch(p){throw console.error("Error uploading media:",p),p}},v=async()=>{if(!e.trim()){m({title:"Error",description:"Please enter a message",variant:"destructive"});return}l(!0),d(0);try{let b=null;if(a&&r!=="none"&&(m({title:"Uploading media...",description:"Please wait while we upload your file"}),b=await g(a),!b))throw new Error("Failed to upload media");const{data:p,error:y}=await I.from("users").select("id").limit(1e3);if(y)throw console.error("Error fetching users:",y),new Error("Failed to fetch users");if(!p||p.length===0)throw new Error("No users found to send notifications to");const j=p.map(P=>({title:"Admin Notification",message:e,media_url:b,media_type:r==="none"?null:r,recipient_id:P.id,is_read:!1,created_at:new Date().toISOString()})),N=100;let k=0,_=0;for(let P=0;P<j.length;P+=N){const C=j.slice(P,P+N),{error:A}=await I.from("notifications").insert(C);A?(console.error("Batch notification error:",A),_+=C.length):k+=C.length}_>0?m({title:"Partial Success",description:`Notification sent to ${k}/${p.length} users. ${_} failed.`,variant:"destructive"}):m({title:"Success!",description:`Notification sent to ${k} users${b?" with media attachment":""}`}),t(""),n("none"),i(null),h(null),d(0);const S=document.getElementById("media-upload");S&&(S.value="")}catch(b){console.error("Send notification error:",b),m({title:"Error",description:b instanceof Error?b.message:"Failed to send notification",variant:"destructive"})}finally{l(!1),d(0)}},w=()=>{i(null),h(null),d(0);const b=document.getElementById("media-upload");b&&(b.value="")};return s.jsxs(Q,{children:[s.jsxs(de,{children:[s.jsxs(ue,{className:"flex items-center gap-2",children:[s.jsx(dn,{className:"h-5 w-5"}),"Send Notification to All Users"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Send notifications with optional media attachments. Files are stored securely and notifications appear in user dashboards."})]}),s.jsxs(X,{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"message",children:"Notification Message *"}),s.jsx(mr,{id:"message",placeholder:"Enter your notification message...",value:e,onChange:b=>t(b.target.value),rows:4,className:"mt-1",maxLength:500}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[e.length,"/500 characters"]})]}),s.jsxs("div",{children:[s.jsx(pe,{children:"Media Attachment (Optional)"}),s.jsxs(sh,{value:r,onValueChange:b=>{n(b),b==="none"&&w()},className:"mt-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(an,{value:"none",id:"none"}),s.jsx(pe,{htmlFor:"none",children:"No Media"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(an,{value:"photo",id:"photo"}),s.jsxs(pe,{htmlFor:"photo",className:"flex items-center gap-2",children:[s.jsx(BL,{className:"h-4 w-4"}),"Photo Upload (Max 50MB)"]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(an,{value:"video",id:"video"}),s.jsxs(pe,{htmlFor:"video",className:"flex items-center gap-2",children:[s.jsx(zL,{className:"h-4 w-4"}),"Video Upload (Max 50MB)"]})]})]})]}),r!=="none"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs(pe,{htmlFor:"media-upload",children:["Upload ",r==="photo"?"Photo":"Video"]}),s.jsx(ne,{id:"media-upload",type:"file",accept:r==="photo"?"image/*":"video/*",onChange:x,className:"mt-1"}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Supported formats:"," ",r==="photo"?"JPEG, PNG, GIF, WebP":"MP4, WebM, OGG, AVI, MOV"]})]}),a&&s.jsxs("div",{className:"border rounded-lg p-4 bg-muted/50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("p",{className:"text-sm font-medium",children:"Selected File:"}),s.jsx(V,{variant:"ghost",size:"sm",onClick:w,className:"h-6 w-6 p-0",children:s.jsx(er,{className:"h-4 w-4"})})]}),s.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[a.name," (",(a.size/1024/1024).toFixed(2)," ","MB)"]}),u&&r==="photo"&&s.jsx("img",{src:u,alt:"Preview",className:"max-w-full h-32 object-cover rounded border"}),c>0&&c<100&&s.jsxs("div",{className:"mt-2",children:[s.jsx(In,{value:c,className:"h-2"}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Uploading... ",c,"%"]})]})]})]}),s.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsxs("p",{children:["Post Date: ",new Date().toLocaleDateString()]}),s.jsxs("p",{children:["Time: ",new Date().toLocaleTimeString()]})]}),s.jsx(V,{onClick:v,disabled:o||!e.trim()||r!=="none"&&!a,className:"min-w-[120px]",children:o?s.jsxs(s.Fragment,{children:[s.jsx(dn,{className:"h-4 w-4 mr-2 animate-spin"}),"Sending..."]}):s.jsxs(s.Fragment,{children:[s.jsx(dn,{className:"h-4 w-4 mr-2"}),"Send Notification"]})})]})]})]})};var mf="Checkbox",[zq]=tr(mf),[Wq,qy]=zq(mf);function qq(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:d,value:u="on",internal_do_not_use_render:h}=e,[m,x]=as({prop:r,defaultProp:a??!1,onChange:c,caller:mf}),[g,v]=f.useState(null),[w,b]=f.useState(null),p=f.useRef(!1),y=g?!!o||!!g.closest("form"):!0,j={checked:m,disabled:i,setChecked:x,control:g,setControl:v,name:l,form:o,value:u,hasConsumerStoppedPropagationRef:p,required:d,defaultChecked:ia(a)?!1:a,isFormControl:y,bubbleInput:w,setBubbleInput:b};return s.jsx(Wq,{scope:t,...j,children:Hq(h)?h(j):n})}var MT="CheckboxTrigger",DT=f.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:i,value:o,disabled:l,checked:c,required:d,setControl:u,setChecked:h,hasConsumerStoppedPropagationRef:m,isFormControl:x,bubbleInput:g}=qy(MT,e),v=Le(a,u),w=f.useRef(c);return f.useEffect(()=>{const b=i==null?void 0:i.form;if(b){const p=()=>h(w.current);return b.addEventListener("reset",p),()=>b.removeEventListener("reset",p)}},[i,h]),s.jsx(je.button,{type:"button",role:"checkbox","aria-checked":ia(c)?"mixed":c,"aria-required":d,"data-state":BT(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:v,onKeyDown:we(t,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:we(r,b=>{h(p=>ia(p)?!0:!p),g&&x&&(m.current=b.isPropagationStopped(),m.current||b.stopPropagation())})})});DT.displayName=MT;var Hy=f.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:d,form:u,...h}=e;return s.jsx(qq,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:d,name:n,form:u,value:c,internal_do_not_use_render:({isFormControl:m})=>s.jsxs(s.Fragment,{children:[s.jsx(DT,{...h,ref:t,__scopeCheckbox:r}),m&&s.jsx(VT,{__scopeCheckbox:r})]})})});Hy.displayName=mf;var FT="CheckboxIndicator",$T=f.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=qy(FT,r);return s.jsx(Ir,{present:n||ia(i.checked)||i.checked===!0,children:s.jsx(je.span,{"data-state":BT(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});$T.displayName=FT;var UT="CheckboxBubbleInput",VT=f.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:d,value:u,form:h,bubbleInput:m,setBubbleInput:x}=qy(UT,e),g=Le(r,x),v=ly(i),w=oy(n);f.useEffect(()=>{const p=m;if(!p)return;const y=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(y,"checked").set,k=!a.current;if(v!==i&&N){const _=new Event("click",{bubbles:k});p.indeterminate=ia(i),N.call(p,ia(i)?!1:i),p.dispatchEvent(_)}},[m,v,i,a]);const b=f.useRef(ia(i)?!1:i);return s.jsx(je.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??b.current,required:l,disabled:c,name:d,value:u,form:h,...t,tabIndex:-1,ref:g,style:{...t.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});VT.displayName=UT;function Hq(e){return typeof e=="function"}function ia(e){return e==="indeterminate"}function BT(e){return ia(e)?"indeterminate":e?"checked":"unchecked"}const zT=f.forwardRef(({className:e,...t},r)=>s.jsx(Hy,{ref:r,className:_e("peer h-4 w-4 shrink-0 rounded-sm border border-primary/60 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground transition-colors duration-200",e),...t,children:s.jsx($T,{className:_e("flex items-center justify-center text-current"),children:s.jsx(Fh,{className:"h-3.5 w-3.5 transition-transform duration-200"})})}));zT.displayName=Hy.displayName;const Gq=()=>{const[e,t]=f.useState([]),[r,n]=f.useState([]),[a,i]=f.useState(""),[o,l]=f.useState([]),[c,d]=f.useState(""),[u,h]=f.useState(!1),[m,x]=f.useState("all"),{toast:g}=Pe();f.useEffect(()=>{v()},[]),f.useEffect(()=>{let _=e;a&&(_=_.filter(S=>S.username.toLowerCase().includes(a.toLowerCase()))),m!=="all"&&(_=_.filter(S=>S.user_type===m)),n(_)},[a,e,m]);const v=async()=>{try{const{data:_,error:S}=await I.from("users").select("id, username, user_type, profile_photo").order("username");if(S)throw S;const P=(_||[]).map(C=>({id:String(C.id),username:String(C.username),user_type:String(C.user_type),profile_photo:C.profile_photo?String(C.profile_photo):void 0}));t(P),n(P)}catch(_){console.error("Error fetching users:",_),g({title:"Error",description:"Failed to load users",variant:"destructive"})}},w=(_,S)=>{l(S?P=>[...P,_]:P=>P.filter(C=>C!==_))},b=()=>{const _=r.map(S=>S.id);l(S=>[...new Set([...S,..._])])},p=()=>{l([])},y=_=>{l(S=>S.filter(P=>P!==_))},j=async()=>{if(o.length===0){g({title:"Error",description:"Please select at least one user",variant:"destructive"});return}if(!c.trim()){g({title:"Error",description:"Please enter a message",variant:"destructive"});return}h(!0);try{const _=o.map(A=>I.from("direct_messages").insert({sender_id:null,recipient_id:A,message:c.trim(),is_read:!1,is_admin_message:!0,created_at:new Date().toISOString()})),S=await Promise.allSettled(_),P=S.filter(A=>A.status==="rejected"),C=S.filter(A=>A.status==="fulfilled");if(P.length>0&&P.forEach((A,L)=>{console.error(`Message ${L+1} failed:`,A.reason)}),P.length>0){const A=P.map(L=>{var F;return L.status==="rejected"&&((F=L.reason)!=null&&F.message)?L.reason.message:"Unknown error"}).join(", ");g({title:"Partial Success",description:`${C.length}/${o.length} messages sent successfully. Errors: ${A}`,variant:"destructive"})}else g({title:"Success!",description:`Message sent to ${o.length} user${o.length>1?"s":""}`});if(C.length>0){const L=o.slice(0,C.length).map(W=>I.from("notifications").insert({recipient_id:W,title:"New Message from Admin",message:`You have received a new message from the admin: "${c.trim().substring(0,50)}${c.trim().length>50?"...":""}"`,is_read:!1,created_at:new Date().toISOString()})),E=(await Promise.allSettled(L)).filter(W=>W.status==="rejected");E.length>0&&console.error("Some notifications failed to send:",E)}C.length>0&&(d(""),l([]),i(""),x("all"))}catch(_){console.error("Error sending messages:",_);const S=_ instanceof Error?_.message:"Failed to send messages";g({title:"Error",description:`Failed to send messages: ${S}`,variant:"destructive"})}finally{h(!1)}},N=e.filter(_=>o.includes(_.id)),k=[...new Set(e.map(_=>_.user_type))].filter(Boolean);return s.jsx("div",{className:"space-y-6",children:s.jsxs(Q,{children:[s.jsxs(de,{children:[s.jsxs(ue,{className:"flex items-center gap-2",children:[s.jsx(si,{className:"h-5 w-5"}),"Send Direct Message to Users"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Select specific users and send them private messages that will appear in their dashboard"})]}),s.jsxs(X,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Search Users"}),s.jsxs("div",{className:"relative",children:[s.jsx(bs,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(ne,{placeholder:"Search users by username...",value:a,onChange:_=>i(_.target.value),className:"pl-10"})]})]}),s.jsxs("div",{className:"sm:w-48",children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Filter by Type"}),s.jsxs(Sr,{value:m,onValueChange:x,children:[s.jsx(dr,{children:s.jsx(kr,{placeholder:"All types"})}),s.jsxs(ur,{children:[s.jsx(Se,{value:"all",children:"All Types"}),k.map(_=>s.jsx(Se,{value:_,children:_.charAt(0).toUpperCase()+_.slice(1)},_))]})]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(V,{variant:"outline",size:"sm",onClick:b,disabled:r.length===0,children:[s.jsx(Ut,{className:"h-4 w-4 mr-2"}),"Select All Filtered (",r.length,")"]}),s.jsxs(V,{variant:"outline",size:"sm",onClick:p,disabled:o.length===0,children:["Clear All (",o.length,")"]})]}),o.length>0&&s.jsxs("div",{className:"border rounded-lg p-4 bg-muted/50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h4",{className:"font-medium",children:["Selected Users (",o.length,")"]}),s.jsx(V,{variant:"ghost",size:"sm",onClick:p,children:"Clear All"})]}),s.jsx("div",{className:"flex flex-wrap gap-2 max-h-32 overflow-y-auto",children:N.map(_=>s.jsxs(ce,{variant:"secondary",className:"flex items-center gap-2",children:[s.jsx(At,{className:"h-3 w-3"}),_.username,s.jsx(V,{variant:"ghost",size:"sm",onClick:()=>y(_.id),className:"h-4 w-4 p-0 hover:bg-destructive hover:text-destructive-foreground",children:s.jsx(er,{className:"h-3 w-3"})})]},_.id))})]}),s.jsxs("div",{className:"border rounded-lg",children:[s.jsx("div",{className:"p-3 border-b bg-muted/50",children:s.jsxs("h4",{className:"font-medium",children:["Available Users (",r.length,")"]})}),s.jsx(ff,{className:"h-64",children:s.jsx("div",{className:"p-2 space-y-2",children:r.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No users found matching your criteria"}):r.map(_=>s.jsxs("div",{className:"flex items-center space-x-3 p-2 hover:bg-muted/50 rounded",children:[s.jsx(zT,{checked:o.includes(_.id),onCheckedChange:S=>w(_.id,S)}),_.profile_photo&&s.jsx("img",{src:_.profile_photo,alt:_.username,className:"w-8 h-8 rounded-full object-cover"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium truncate",children:_.username}),s.jsx(ce,{variant:"outline",className:"text-xs",children:_.user_type})]})]},_.id))})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Message *"}),s.jsx(mr,{placeholder:"Enter your message...",value:c,onChange:_=>d(_.target.value),rows:6,maxLength:1e3}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[c.length,"/1000 characters"]})]}),s.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsxs("p",{children:["Recipients: ",o.length," user",o.length!==1?"s":""]}),s.jsxs("p",{children:["Send Date: ",new Date().toLocaleDateString()]})]}),s.jsx(V,{onClick:j,disabled:u||o.length===0||!c.trim(),className:"min-w-[120px]",children:u?s.jsxs(s.Fragment,{children:[s.jsx(si,{className:"h-4 w-4 mr-2 animate-pulse"}),"Sending..."]}):s.jsxs(s.Fragment,{children:[s.jsx(si,{className:"h-4 w-4 mr-2"}),"Send Message"]})})]})]})]})})},Kq=()=>{const[e,t]=f.useState([]),[r,n]=f.useState({name:"",description:"",date:"",start_time:"",end_time:"",address:"",city:"",state:"",location:"",genre:"Nightlife",price:0,max_attendees:100,free_spots_strippers:5,free_spots_exotics:5,photo_url:""}),[a,i]=f.useState(null),[o,l]=f.useState(null),[c,d]=f.useState([]),[u,h]=f.useState(!1),[m,x]=f.useState(!1),[g,v]=f.useState(!1),[w,b]=f.useState(!1),[p,y]=f.useState(!1),[j,N]=f.useState(null),[k,_]=f.useState([]),[S,P]=f.useState([]),{toast:C}=Pe();f.useEffect(()=>{L()},[]);const A=async(R,D,te)=>{try{console.log(" Uploading file to storage:",{fileName:R.name,fileSize:R.size,fileType:R.type,bucket:D,folder:te});const J=R.name.split(".").pop(),ae=`${Date.now()}-${Math.random().toString(36).substring(2)}.${J}`,K=te?`${te}/${ae}`:ae,{data:O,error:H}=await I.storage.from(D).upload(K,R);if(H)throw console.error(" Storage upload error:",H),H;console.log(" File uploaded successfully:",O);const{data:{publicUrl:re}}=I.storage.from(D).getPublicUrl(K);return console.log(" Public URL generated:",re),re}catch(J){return console.error(" File upload failed:",J),C({title:"Upload Error",description:`Failed to upload ${R.name}. Please try again.`,variant:"destructive"}),null}},L=async()=>{try{console.log(" Fetching events...");const{data:R,error:D}=await I.from("events").select("*").order("date",{ascending:!0});if(D)throw console.error(" Error fetching events:",D),D;console.log(" Events fetched successfully:",(R==null?void 0:R.length)||0,"events");const te=await Promise.all((R||[]).map(async J=>{const{count:ae}=await I.from("user_events").select("*",{count:"exact",head:!0}).eq("event_id",J.id);return{...J,current_attendees:ae||0}}));t(te)}catch(R){console.error(" Error in fetchEvents:",R),C({title:"Error",description:"Failed to fetch events",variant:"destructive"})}},F=async R=>{try{console.log(" Fetching attendees for event:",R);const{data:D,error:te}=await I.from("user_events").select(`
          id,
          user_id,
          event_id,
          username,
          payment_status,
          created_at,
          users (
            username,
            profile_photo,
            user_type
          )
        `).eq("event_id",R).order("created_at",{ascending:!1});if(te)throw console.error(" Error fetching attendees:",te),te;console.log(" Attendees fetched:",(D==null?void 0:D.length)||0,"attendees"),console.log(" Sample attendee data:",D==null?void 0:D[0]),d(D||[])}catch(D){console.error(" Error in fetchEventAttendees:",D)}},E=async()=>{if(!r.name||!r.date){C({title:"Error",description:"Please fill in event name and date",variant:"destructive"});return}h(!0),x(!0);try{console.log(" Starting event creation process..."),console.log(" Event data:",r);let R=r.photo_url;const D=[],te=[];if(j&&(console.log(" Uploading main photo..."),R=await A(j,"event-photos")||""),k.length>0){console.log(" Uploading videos...",k.length,"files");for(const H of k){const re=await A(H,"event-videos");re&&D.push(re)}console.log(" Videos uploaded:",D.length,"successful")}if(S.length>0){console.log(" Uploading additional photos...",S.length,"files");for(const H of S){const re=await A(H,"event-photos");re&&te.push(re)}console.log(" Additional photos uploaded:",te.length,"successful")}const J=[r.address,r.city,r.state].filter(Boolean).join(", ")||"TBD",ae={name:r.name,description:r.description||null,date:r.date,start_time:r.start_time||null,end_time:r.end_time||null,address:r.address||null,city:r.city||null,state:r.state||null,location:J,genre:r.genre||"Nightlife",price:r.price||0,max_attendees:r.max_attendees||100,free_spots_strippers:r.free_spots_strippers||0,free_spots_exotics:r.free_spots_exotics||0,photo_url:R||null,video_urls:D.length>0?D:null,additional_photos:te.length>0?te:null,created_at:new Date().toISOString()};console.log(" Inserting event into database:",ae);const{data:K,error:O}=await I.from("events").insert(ae).select().single();if(O)throw console.error(" Database insert error:",O),console.error(" Error details:",{message:O.message,details:O.details,hint:O.hint,code:O.code}),O;console.log(" Event created successfully:",K),C({title:"Success",description:"Event created successfully!"}),n({name:"",description:"",date:"",start_time:"",end_time:"",address:"",city:"",state:"",location:"",genre:"Nightlife",price:0,max_attendees:100,free_spots_strippers:5,free_spots_exotics:5,photo_url:""}),N(null),_([]),P([]),v(!1),L()}catch(R){console.error(" Event creation failed:",R),C({title:"Error",description:`Failed to create event: ${R instanceof Error?R.message:"Unknown error"}`,variant:"destructive"})}finally{h(!1),x(!1)}},W=async()=>{if(a){h(!0);try{console.log(" Updating event:",a.id);const R=[a.address,a.city,a.state].filter(Boolean).join(", ")||a.location||"TBD",D={name:a.name,description:a.description,date:a.date,start_time:a.start_time,end_time:a.end_time,address:a.address,city:a.city,state:a.state,location:R,genre:a.genre,price:a.price,max_attendees:a.max_attendees,free_spots_strippers:a.free_spots_strippers,free_spots_exotics:a.free_spots_exotics,photo_url:a.photo_url};console.log(" Update data:",D);const{error:te}=await I.from("events").update(D).eq("id",a.id);if(te)throw console.error(" Update error:",te),te;console.log(" Event updated successfully"),C({title:"Success",description:"Event updated successfully"}),i(null),b(!1),L()}catch(R){console.error(" Event update failed:",R),C({title:"Error",description:"Failed to update event",variant:"destructive"})}finally{h(!1)}}},U=async R=>{if(confirm("Are you sure you want to delete this event? This will also remove all attendees."))try{console.log(" Deleting event:",R);const{error:D}=await I.from("user_events").delete().eq("event_id",R);if(D)throw console.error(" Error deleting attendees:",D),D;const{error:te}=await I.from("events").delete().eq("id",R);if(te)throw console.error(" Error deleting event:",te),te;console.log(" Event deleted successfully"),C({title:"Success",description:"Event deleted successfully"}),L()}catch(D){console.error(" Event deletion failed:",D),C({title:"Error",description:"Failed to delete event",variant:"destructive"})}},Y=async R=>{try{if(console.log(" Removing attendee with ID:",R),!window.confirm("Are you sure you want to remove this attendee?"))return;const{error:te}=await I.from("user_events").delete().eq("id",R);if(te)throw console.error(" Error removing attendee:",te),te;console.log(" Attendee removed successfully from database"),C({title:"Success",description:"Attendee removed successfully"}),o&&await F(o.id),await L()}catch(D){console.error(" Attendee removal failed:",D),C({title:"Error",description:`Failed to remove attendee: ${D.message||"Unknown error"}`,variant:"destructive"})}},M=R=>{l(R),F(R.id),y(!0)},G=R=>{console.log(` Closing ${R} dialog`),R==="add"?(console.log(" Add event dialog closed - Current form state:",r),console.log(" Files selected:",{photoFile:j==null?void 0:j.name,videoFiles:k.map(D=>D.name),additionalPhotoFiles:S.map(D=>D.name)}),v(!1)):R==="edit"?(console.log(" Edit event dialog closed - Current editing event:",a==null?void 0:a.id),b(!1)):R==="attendees"&&(console.log(" Attendees dialog closed - Event:",o==null?void 0:o.name),y(!1))};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Events Management"}),s.jsxs(Xe,{open:g,onOpenChange:R=>{R||G("add"),v(R)},children:[s.jsx(lE,{asChild:!0,children:s.jsxs(V,{children:[s.jsx(JL,{className:"w-4 h-4 mr-2"}),"Add New Event"]})}),s.jsxs(Je,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Ze,{children:s.jsx(Qe,{children:"Create New Event"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Event Name *"}),s.jsx(ne,{value:r.name,onChange:R=>n(D=>({...D,name:R.target.value})),placeholder:"Event name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Genre"}),s.jsxs(Sr,{value:r.genre,onValueChange:R=>n(D=>({...D,genre:R})),children:[s.jsx(dr,{children:s.jsx(kr,{})}),s.jsxs(ur,{children:[s.jsx(Se,{value:"Nightlife",children:"Nightlife"}),s.jsx(Se,{value:"Concerts",children:"Concerts"}),s.jsx(Se,{value:"Yacht Parties",children:"Yacht Parties"}),s.jsx(Se,{value:"Mansion Parties",children:"Mansion Parties"}),s.jsx(Se,{value:"Food & Drink",children:"Food & Drink"}),s.jsx(Se,{value:"Sports",children:"Sports"}),s.jsx(Se,{value:"Arts & Culture",children:"Arts & Culture"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Date *"}),s.jsx(ne,{type:"date",value:r.date,onChange:R=>n(D=>({...D,date:R.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Start Time"}),s.jsx(ne,{type:"time",value:r.start_time,onChange:R=>n(D=>({...D,start_time:R.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"End Time"}),s.jsx(ne,{type:"time",value:r.end_time,onChange:R=>n(D=>({...D,end_time:R.target.value}))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Address"}),s.jsx(ne,{value:r.address,onChange:R=>n(D=>({...D,address:R.target.value})),placeholder:"Street address"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"City"}),s.jsx(ne,{value:r.city,onChange:R=>n(D=>({...D,city:R.target.value})),placeholder:"City"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"State"}),s.jsx(ne,{value:r.state,onChange:R=>n(D=>({...D,state:R.target.value})),placeholder:"State"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Price ($)"}),s.jsx(ne,{type:"number",min:"0",step:"0.01",value:r.price,onChange:R=>n(D=>({...D,price:parseFloat(R.target.value)||0}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Max Attendees"}),s.jsx(ne,{type:"number",min:"1",value:r.max_attendees,onChange:R=>n(D=>({...D,max_attendees:parseInt(R.target.value)||100}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Free Strippers"}),s.jsx(ne,{type:"number",min:"0",value:r.free_spots_strippers,onChange:R=>n(D=>({...D,free_spots_strippers:parseInt(R.target.value)||0}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Free Exotics"}),s.jsx(ne,{type:"number",min:"0",value:r.free_spots_exotics,onChange:R=>n(D=>({...D,free_spots_exotics:parseInt(R.target.value)||0}))})]})]}),s.jsxs("div",{className:"space-y-4 border-t pt-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Media Upload"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-2",children:[s.jsx($r,{className:"w-4 h-4 inline mr-1"}),"Main Event Photo"]}),s.jsx(ne,{type:"file",accept:"image/*",onChange:R=>{var D;return N(((D=R.target.files)==null?void 0:D[0])||null)},className:"file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),j&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Selected: ",j.name]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-2",children:[s.jsx(nn,{className:"w-4 h-4 inline mr-1"}),"Event Videos"]}),s.jsx(ne,{type:"file",accept:"video/*",multiple:!0,onChange:R=>_(Array.from(R.target.files||[])),className:"file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-green-50 file:text-green-700 hover:file:bg-green-100"}),k.length>0&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Selected: ",k.length," video(s)"]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-2",children:[s.jsx($r,{className:"w-4 h-4 inline mr-1"}),"Additional Photos"]}),s.jsx(ne,{type:"file",accept:"image/*",multiple:!0,onChange:R=>P(Array.from(R.target.files||[])),className:"file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100"}),S.length>0&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Selected: ",S.length," photo(s)"]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Or Enter Photo URL"}),s.jsx(ne,{value:r.photo_url,onChange:R=>n(D=>({...D,photo_url:R.target.value})),placeholder:"https://example.com/photo.jpg"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),s.jsx(mr,{value:r.description,onChange:R=>n(D=>({...D,description:R.target.value})),placeholder:"Event description - this will be shown in the details view",rows:3})]}),s.jsx(V,{onClick:E,disabled:u||m,className:"w-full",children:m?s.jsxs(s.Fragment,{children:[s.jsx(dn,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading Files..."]}):u?"Creating Event...":"Create Event"})]})]})]})]}),e.length===0?s.jsx(Q,{children:s.jsx(X,{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"No Events Yet"})})}):s.jsx("div",{className:"grid gap-4",children:e.map(R=>s.jsxs(Q,{children:[s.jsx(de,{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs(ue,{className:"flex items-center gap-2",children:[s.jsx(fr,{className:"w-5 h-5"}),R.name]}),s.jsxs("div",{className:"space-y-1 mt-2 text-sm text-muted-foreground",children:[s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx(bc,{className:"w-4 h-4"}),new Date(R.date).toLocaleDateString(),R.start_time&&` at ${R.start_time}`,R.end_time&&` - ${R.end_time}`]}),R.location&&s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx(it,{className:"w-4 h-4"}),R.location]}),s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx(Tt,{className:"w-4 h-4"}),"$",R.price,"  Max:"," ",R.max_attendees,"  Free:"," ",R.free_spots_strippers," strippers,"," ",R.free_spots_exotics," exotics"]}),s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx(Ut,{className:"w-4 h-4"}),R.current_attendees||0," attendees"]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(V,{size:"sm",variant:"outline",onClick:()=>M(R),children:[s.jsx(Ut,{className:"w-4 h-4 mr-1"}),"Attendees"]}),s.jsxs(V,{size:"sm",variant:"outline",onClick:()=>{i(R),b(!0)},children:[s.jsx(F2,{className:"w-4 h-4 mr-1"}),"Edit"]}),s.jsxs(V,{size:"sm",variant:"destructive",onClick:()=>U(R.id),children:[s.jsx($2,{className:"w-4 h-4 mr-1"}),"Delete"]})]})]})}),R.description&&s.jsx(X,{children:s.jsx("p",{className:"text-sm text-gray-600",children:R.description})})]},R.id))}),s.jsx(Xe,{open:w,onOpenChange:R=>{R||G("edit"),b(R)},children:s.jsxs(Je,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Ze,{children:s.jsx(Qe,{children:"Edit Event"})}),a&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Event Name *"}),s.jsx(ne,{value:a.name,onChange:R=>i(D=>D?{...D,name:R.target.value}:null),placeholder:"Event name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Genre"}),s.jsxs(Sr,{value:a.genre,onValueChange:R=>i(D=>D?{...D,genre:R}:null),children:[s.jsx(dr,{children:s.jsx(kr,{})}),s.jsxs(ur,{children:[s.jsx(Se,{value:"Nightlife",children:"Nightlife"}),s.jsx(Se,{value:"Concerts",children:"Concerts"}),s.jsx(Se,{value:"Yacht Parties",children:"Yacht Parties"}),s.jsx(Se,{value:"Mansion Parties",children:"Mansion Parties"}),s.jsx(Se,{value:"Food & Drink",children:"Food & Drink"}),s.jsx(Se,{value:"Sports",children:"Sports"}),s.jsx(Se,{value:"Arts & Culture",children:"Arts & Culture"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Date *"}),s.jsx(ne,{type:"date",value:a.date,onChange:R=>i(D=>D?{...D,date:R.target.value}:null)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Start Time"}),s.jsx(ne,{type:"time",value:a.start_time,onChange:R=>i(D=>D?{...D,start_time:R.target.value}:null)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"End Time"}),s.jsx(ne,{type:"time",value:a.end_time,onChange:R=>i(D=>D?{...D,end_time:R.target.value}:null)})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Address"}),s.jsx(ne,{value:a.address,onChange:R=>i(D=>D?{...D,address:R.target.value}:null),placeholder:"Street address"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"City"}),s.jsx(ne,{value:a.city,onChange:R=>i(D=>D?{...D,city:R.target.value}:null),placeholder:"City"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"State"}),s.jsx(ne,{value:a.state,onChange:R=>i(D=>D?{...D,state:R.target.value}:null),placeholder:"State"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Price ($)"}),s.jsx(ne,{type:"number",min:"0",step:"0.01",value:a.price,onChange:R=>i(D=>D?{...D,price:parseFloat(R.target.value)||0}:null)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Max Attendees"}),s.jsx(ne,{type:"number",min:"1",value:a.max_attendees,onChange:R=>i(D=>D?{...D,max_attendees:parseInt(R.target.value)||100}:null)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Free Strippers"}),s.jsx(ne,{type:"number",min:"0",value:a.free_spots_strippers,onChange:R=>i(D=>D?{...D,free_spots_strippers:parseInt(R.target.value)||0}:null)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Free Exotics"}),s.jsx(ne,{type:"number",min:"0",value:a.free_spots_exotics,onChange:R=>i(D=>D?{...D,free_spots_exotics:parseInt(R.target.value)||0}:null)})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Photo URL"}),s.jsx(ne,{value:a.photo_url||"",onChange:R=>i(D=>D?{...D,photo_url:R.target.value}:null),placeholder:"https://example.com/photo.jpg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),s.jsx(mr,{value:a.description,onChange:R=>i(D=>D?{...D,description:R.target.value}:null),placeholder:"Event description - this will be shown in the details view",rows:3})]}),s.jsx(V,{onClick:W,disabled:u,className:"w-full",children:u?"Updating...":"Update Event"})]})]})}),s.jsx(Xe,{open:p,onOpenChange:R=>{R||G("attendees"),y(R)},children:s.jsxs(Je,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Ze,{children:s.jsxs(Qe,{children:["Manage Attendees: ",o==null?void 0:o.name]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:["Total Attendees: ",c.length," /"," ",o==null?void 0:o.max_attendees]}),c.length===0?s.jsx("p",{className:"text-center text-gray-500 py-8",children:"No attendees yet"}):s.jsx("div",{className:"grid gap-3",children:c.map(R=>s.jsx(Q,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("img",{src:R.users.profile_photo||"/placeholder.svg",alt:R.users.username,className:"w-10 h-10 rounded-full object-cover"}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:["@",R.users.username]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ce,{variant:"outline",children:R.users.user_type||"User"}),s.jsx(ce,{variant:R.payment_status==="paid"?"default":"secondary",children:R.payment_status})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-sm text-gray-500",children:new Date(R.created_at).toLocaleDateString()}),s.jsxs(V,{size:"sm",variant:"destructive",onClick:()=>Y(R.id),children:[s.jsx(nM,{className:"w-4 h-4 mr-1"}),"Remove"]})]})]})},R.id))})]})]})})]})},Yq=()=>{var se;const[e,t]=f.useState(null),[r,n]=f.useState([]),[a,i]=f.useState({}),[o,l]=f.useState(!1),[c,d]=f.useState(!1),[u,h]=f.useState(null),[m,x]=f.useState(""),[g,v]=f.useState(!1),[w,b]=f.useState(!1),{toast:p}=Pe(),[y,j]=f.useState(""),[N,k]=f.useState(!1),[_,S]=f.useState([]),[P,C]=f.useState(!1),[A,L]=f.useState("");f.useEffect(()=>{F()},[]),f.useEffect(()=>{if(!e){x("");return}const T=e.max_tickets;x(T==null?"":String(T))},[e==null?void 0:e.pool_id,e==null?void 0:e.max_tickets]);const F=async()=>{l(!0);try{await Promise.all([E(),W()])}finally{l(!1)}},E=async()=>{try{const{data:T,error:z}=await I.from("v_jackpot_active_pool").select("pool_id,status,total,period_start,period_end,max_tickets,sold_out_at,sales_resume_at,guaranteed_draw").maybeSingle();if(!z&&T){t(T);return}const{data:Z,error:le}=await I.from("jackpot_pools").select("id, status, period_start, period_end, max_tickets, sold_out_at, sales_resume_at, guaranteed_draw").in("status",["open","sold_out"]).order("id",{ascending:!1}).limit(1).maybeSingle(),q=Z??null;if(le||!q){t(null);return}const{count:he,error:xe}=await I.from("jackpot_tickets").select("id",{count:"exact",head:!0}).eq("pool_id",q.id);if(xe){t({pool_id:q.id,status:q.status??"open",total:0,period_start:q.period_start,period_end:q.period_end,max_tickets:q.max_tickets??null,sold_out_at:q.sold_out_at??null,sales_resume_at:q.sales_resume_at??null,guaranteed_draw:q.guaranteed_draw??null});return}t({pool_id:q.id,status:q.status??"open",total:Number(he||0),period_start:q.period_start,period_end:q.period_end,max_tickets:q.max_tickets??null,sold_out_at:q.sold_out_at??null,sales_resume_at:q.sales_resume_at??null,guaranteed_draw:q.guaranteed_draw??null})}catch(T){console.error("fetchPool error:",T),t(null)}},W=async()=>{const{data:T,error:z}=await I.from("v_jackpot_latest_winners").select("draw_id,drawn_code,executed_at,user_id,role,place,percentage,amount,status").order("executed_at",{ascending:!1}).limit(50);if(z||!T){n([]);return}const Z=T.sort((xe,me)=>new Date(me.executed_at).getTime()-new Date(xe.executed_at).getTime());if(Z.length===0){n([]);return}const le=Z[0].draw_id,q=Z.filter(xe=>xe.draw_id===le);n(q);const he=Array.from(new Set(q.map(xe=>xe.user_id).filter(Boolean)));he.length>0&&await ae(he)},U=async()=>{if(!(e!=null&&e.pool_id))return;const T=m.trim(),z=T.length===0?null:Number.parseInt(T,10);if(T.length>0&&(z===null||Number.isNaN(z)||z<=0)){p({title:"Invalid value",description:"Enter a positive whole number or leave blank to clear.",variant:"destructive"});return}v(!0);try{const{count:Z,error:le}=await Ve.from("jackpot_tickets").select("id",{count:"exact",head:!0}).eq("pool_id",e.pool_id);if(le)throw le;const q=Number(Z??0);if(z!==null&&z<q){p({title:"Cap too low",description:`There are already ${q.toLocaleString()} tickets sold. Set the cap to at least that many or clear it.`,variant:"destructive"});return}const{error:he}=await Ve.from("jackpot_pools").update({max_tickets:z}).eq("id",e.pool_id);if(he)throw he;p({title:"Max tickets updated",description:z===null?"Cap cleared; pool will not limit tickets.":`Cap set to ${z.toLocaleString()}.`});const xe=z===null||z>q;if(e.status==="sold_out"&&xe){const{error:me}=await Ve.from("jackpot_pools").update({status:"open",sold_out_at:null,sales_resume_at:null,guaranteed_draw:!1}).eq("id",e.pool_id);me?(console.error("Failed to reopen pool after cap change:",me),p({title:"Cap updated, but reopen failed",description:me.message??"Pool is still marked sold out.",variant:"destructive"})):p({title:"Pool reopened",description:"Cap raised above ticket total; sales resumed automatically."})}else if(z!==null&&z===q&&e.status!=="sold_out"){const{error:me}=await Ve.from("jackpot_pools").update({status:"sold_out",sold_out_at:new Date().toISOString(),sales_resume_at:null,guaranteed_draw:!0}).eq("id",e.pool_id);me?(console.error("Failed to mark pool sold out after cap change:",me),p({title:"Cap saved, but sold-out update failed",description:me.message??"Pool is still marked open.",variant:"destructive"})):p({title:"Pool marked sold out",description:"Cap equals tickets sold; sales closed automatically."})}await E()}catch(Z){console.error(Z),p({title:"Update failed",description:(Z==null?void 0:Z.message)??"Could not update max tickets.",variant:"destructive"})}finally{v(!1)}},Y=async()=>{if(e!=null&&e.pool_id){b(!0);try{const{error:T}=await Ve.from("jackpot_pools").update({status:"open",sold_out_at:null,sales_resume_at:null,guaranteed_draw:!1}).eq("id",e.pool_id);if(T)throw T;p({title:"Pool reopened",description:"Ticket sales resumed for the current pool."}),await E()}catch(T){console.error(T),p({title:"Could not resume sales",description:(T==null?void 0:T.message)??"Retry or check the logs.",variant:"destructive"})}finally{b(!1)}}},M=async()=>{d(!0);try{const{data:T,error:z}=await I.rpc("api_jackpot_run_draw",{p_now:new Date().toISOString()});if(z)throw p({title:"Draw failed",description:z.message,variant:"destructive"}),z;p({title:"Draw completed",description:"Weekly draw executed successfully."}),await F()}catch(T){console.error(T)}finally{d(!1)}},G=async()=>{const T=(y||"").trim().toUpperCase();if(!/^[A-Z]{5}$/.test(T)){p({title:"Invalid code",description:"Enter a 5-letter code (AZ).",variant:"destructive"});return}d(!0);try{const{data:z,error:Z}=await I.rpc("api_jackpot_run_draw_force",{p_force_code:T,p_now:new Date().toISOString()});if(Z)throw p({title:"Forced draw failed",description:Z.message,variant:"destructive"}),Z;p({title:"Forced draw completed",description:`Draw executed with code ${T}.`}),await F()}catch(z){console.error(z)}finally{d(!1)}},R=async()=>{d(!0);try{const{data:T,error:z}=await I.rpc("api_jackpot_close_and_open",{p_now:new Date().toISOString()}),Z=T||{};if(z||!(Z!=null&&Z.ok)){const le=(z==null?void 0:z.message)||(Z==null?void 0:Z.error)||"Rollover failed";throw p({title:"Rollover failed",description:le,variant:"destructive"}),z||new Error(le)}p({title:"Pool advanced",description:`Closed current pool and opened next (carried: $${Number(Z.carried_rollover||0).toFixed(2)})`}),await F()}catch(T){console.error(T)}finally{d(!1)}},D=async(T,z,Z)=>{h(`${T}:${z}:${Z}`);try{const{error:le}=await Ve.from("jackpot_winners").update({status:Z}).match({draw_id:T,user_id:z});if(le)throw le;await W()}finally{h(null)}},te=T=>Number(T||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),J=T=>(T==null?void 0:T.username)||"",ae=async T=>{try{const{data:z,error:Z}=await I.from("users").select("id, username, first_name, last_name, profile_photo").in("id",T);if(Z)throw Z;const le={};(z||[]).forEach(q=>{le[q.id]={name:J(q)||q.id,avatar_url:q.profile_photo??null}}),i(q=>({...q,...le}))}catch(z){console.error("Error loading user profiles:",z)}},K=f.useMemo(()=>{if(!r.length)return null;const T=r[0];return{draw_id:T.draw_id,code:T.drawn_code,executed_at:T.executed_at}},[r]),O=(T,z)=>{var le;const Z=(le=a[T])==null?void 0:le.name;return Z&&Z.trim().length>0?Z:z},H=async()=>{if(!(e!=null&&e.pool_id)){p({title:"No active pool",description:"Open pool not found.",variant:"destructive"});return}k(!0),await re()},re=async()=>{if(e!=null&&e.pool_id){C(!0);try{let T=null;const z=(A||"").trim();if(z.length>0){const{data:xe,error:me}=await I.from("users").select("id").eq("username",z).maybeSingle();if(me)throw me;if(T=xe!=null&&xe.id?String(xe.id):null,!T){S([]),C(!1),p({title:"No results",description:`No user found for username "${z}"`,variant:"destructive"});return}}let Z=I.from("jackpot_tickets").select("code, created_at").eq("pool_id",e.pool_id).order("created_at",{ascending:!1}).limit(50);T&&(Z=Z.eq("tipper_id",T));const{data:le,error:q}=await Z;if(q)throw q;S((le??[]).filter(xe=>!!xe.code).map(xe=>({code:xe.code,created_at:xe.created_at})))}catch(T){console.error(T),p({title:"Load codes failed",description:(T==null?void 0:T.message)||"Could not load recent codes.",variant:"destructive"}),S([])}finally{C(!1)}}},ee=T=>{j(T.toUpperCase()),k(!1)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Q,{children:[s.jsx(de,{children:s.jsxs(ue,{className:"flex items-center gap-2",children:[s.jsx(at,{className:"w-5 h-5 text-yellow-600"}),"Jackpot Pool"]})}),s.jsxs(X,{children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Status"}),s.jsx("div",{className:"text-xl font-semibold",children:s.jsx(ce,{variant:(e==null?void 0:e.status)==="sold_out"?"destructive":"outline",children:((se=e==null?void 0:e.status)==null?void 0:se.toUpperCase())||""})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Total"}),s.jsxs("div",{className:"text-2xl font-bold",children:["$",te(e==null?void 0:e.total)]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Max Tickets"}),s.jsx("div",{className:"text-xl font-semibold",children:(e==null?void 0:e.max_tickets)??""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Sold Out At"}),s.jsx("div",{className:"text-sm",children:e!=null&&e.sold_out_at?new Date(e.sold_out_at).toLocaleString():""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-500",children:"Sales Resume"}),s.jsx("div",{className:"text-sm",children:e!=null&&e.sales_resume_at?new Date(e.sales_resume_at).toLocaleString():""})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ne,{value:m,onChange:T=>x(T.target.value.replace(/\D/g,"")),placeholder:"Weekly max tickets",className:"w-40"}),s.jsxs(V,{variant:"default",disabled:g||!(e!=null&&e.pool_id),onClick:U,children:[g?s.jsx(ot,{className:"w-4 h-4 mr-2 animate-spin"}):null,"Save Cap"]}),(e==null?void 0:e.status)==="sold_out"&&s.jsxs(V,{variant:"outline",disabled:w,onClick:Y,children:[w?s.jsx(ot,{className:"w-4 h-4 mr-2 animate-spin"}):null,"Reopen Sales"]})]}),s.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ne,{value:y,onChange:T=>j(T.target.value.toUpperCase()),placeholder:"Force code (ABCDE)",className:"w-36",maxLength:5}),s.jsxs(V,{type:"button",variant:"secondary",onClick:H,disabled:c||!(e!=null&&e.pool_id),children:[s.jsx(HL,{className:"w-4 h-4 mr-2"}),"Pick Code"]}),s.jsxs(V,{variant:"secondary",disabled:c||!/^[A-Z]{5}$/.test(y||""),onClick:G,children:[c?s.jsx(ot,{className:"w-4 h-4 mr-2 animate-spin"}):null,"Force Draw"]})]}),s.jsxs(V,{variant:"outline",onClick:F,disabled:o||c,children:[o?s.jsx(ot,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(QL,{className:"w-4 h-4 mr-2"}),"Refresh"]}),s.jsxs(V,{onClick:M,disabled:c,variant:"default",children:[c?s.jsx(ot,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(ca,{className:"w-4 h-4 mr-2"}),"Run Draw"]}),s.jsxs(V,{variant:"outline",onClick:R,disabled:c,title:"Close current pool and open the next week (carries rollover)",children:[c?s.jsx(ot,{className:"w-4 h-4 mr-2 animate-spin"}):null,"Close & Open Next"]})]})]}),K&&s.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:["Last draw candidate (from winners list):"," ",s.jsx("span",{className:"font-medium",children:K.code})," at"," ",new Date(K.executed_at).toLocaleString()]})]})]}),s.jsxs(Q,{children:[s.jsx(de,{children:s.jsx(ue,{children:"Latest Draw Winners"})}),s.jsx(X,{children:r.length===0?s.jsx("div",{className:"text-gray-500",children:"No winners yet."}):s.jsxs(By,{children:[s.jsx(zy,{children:s.jsxs(No,{children:[s.jsx(br,{children:"User"}),s.jsx(br,{children:"Role"}),s.jsx(br,{children:"Place"}),s.jsx(br,{children:"Amount"}),s.jsx(br,{children:"Status"}),s.jsx(br,{className:"text-right",children:"Actions"})]})}),s.jsx(Wy,{children:r.map(T=>{var q,he;const z=`${T.draw_id}:${T.user_id}`,Z=u===`${z}:approved`,le=u===`${z}:paid`;return s.jsxs(No,{children:[s.jsx(or,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Tr,{className:"w-8 h-8",children:[(q=a[T.user_id])!=null&&q.avatar_url?s.jsx(Ar,{src:a[T.user_id].avatar_url,alt:O(T.user_id,T.user_id)}):null,s.jsx(Rr,{className:"text-xs",children:(((he=O(T.user_id,T.user_id))==null?void 0:he[0])||"U").toUpperCase()})]}),s.jsx("span",{className:"font-medium",children:O(T.user_id,T.user_id)})]})}),s.jsx(or,{className:"font-medium capitalize",children:T.role}),s.jsx(or,{children:T.place}),s.jsxs(or,{children:["$",te(T.amount)]}),s.jsx(or,{children:s.jsx(ce,{variant:T.status==="paid"?"default":"outline",children:T.status})}),s.jsxs(or,{className:"text-right space-x-2",children:[s.jsxs(V,{size:"sm",variant:"outline",disabled:T.status!=="pending"||Z,onClick:()=>D(T.draw_id,T.user_id,"approved"),children:[Z?s.jsx(ot,{className:"w-4 h-4 mr-1 animate-spin"}):s.jsx(Yt,{className:"w-4 h-4 mr-1"}),"Approve"]}),s.jsxs(V,{size:"sm",variant:"default",disabled:T.status!=="approved"||le,onClick:()=>D(T.draw_id,T.user_id,"paid"),children:[le?s.jsx(ot,{className:"w-4 h-4 mr-1 animate-spin"}):s.jsx(Tt,{className:"w-4 h-4 mr-1"}),"Mark Paid"]})]})]},z)})})]})})]}),s.jsx(Xe,{open:N,onOpenChange:k,children:s.jsxs(Je,{className:"sm:max-w-lg",children:[s.jsxs(Ze,{children:[s.jsx(Qe,{children:"Pick a recent code"}),s.jsx(fa,{children:"Codes from the active pool (latest first). Filter by username to narrow results."})]}),s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(ne,{placeholder:"Filter by username (optional)",value:A,onChange:T=>L(T.target.value),className:"flex-1"}),s.jsxs(V,{onClick:re,disabled:P||!(e!=null&&e.pool_id),children:[P?s.jsx(ot,{className:"w-4 h-4 mr-2 animate-spin"}):null,"Load"]})]}),s.jsx("div",{className:"mt-2",children:P?s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(ot,{className:"w-4 h-4 animate-spin"}),"Loading codes..."]}):_.length===0?s.jsx("div",{className:"text-gray-500",children:"No recent codes found."}):s.jsx("div",{className:"flex flex-wrap gap-2",children:_.map((T,z)=>s.jsx(V,{size:"sm",variant:"secondary",onClick:()=>ee(T.code),title:new Date(T.created_at).toLocaleString(),children:T.code},`${T.code}-${z}`))})}),s.jsxs("div",{className:"mt-4 text-xs text-gray-500",children:["Pool: ",(e==null?void 0:e.pool_id)||""]})]})})]})},Jq=()=>{const e=pt();f.useEffect(()=>{localStorage.getItem("adminAuth")||e("/adminlogin")},[e]);const t=()=>{localStorage.removeItem("adminAuth"),e("/adminlogin")};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-black",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:s.jsx("div",{className:"aspect-video bg-gray-900 rounded-lg overflow-hidden",children:s.jsxs("video",{className:"w-full h-full object-cover",controls:!0,poster:"https://dimesonly.s3.us-east-2.amazonaws.com/HOUSING-ANGELS+(1).png",children:[s.jsx("source",{src:"https://dimesonlyworld.s3.us-east-2.amazonaws.com/HOME+PAGE+16-9+1080+final.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]})})})}),s.jsx("div",{className:"bg-white shadow-sm border-b",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dimes Only"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Admin Dashboard - Manage DimesOnly platform"})]}),s.jsx(V,{variant:"outline",onClick:t,children:"Logout"})]})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:s.jsxs(sf,{defaultValue:"users",className:"w-full",children:[s.jsx("div",{className:"w-full mb-8",children:s.jsx(ff,{className:"w-full",children:s.jsxs(td,{className:"inline-flex h-10 items-center justify-start rounded-md bg-muted p-1 text-muted-foreground w-max min-w-full md:w-full md:grid md:grid-cols-7",children:[s.jsx(vt,{value:"users",className:"whitespace-nowrap",children:"Users"}),s.jsx(vt,{value:"jackpot",className:"whitespace-nowrap",children:"Jackpot"}),s.jsx(vt,{value:"earnings",className:"whitespace-nowrap",children:"Earnings"}),s.jsx(vt,{value:"ranking",className:"whitespace-nowrap",children:"Ranking"}),s.jsx(vt,{value:"notifications",className:"whitespace-nowrap",children:"Notifications"}),s.jsx(vt,{value:"messages",className:"whitespace-nowrap",children:"Messages"}),s.jsx(vt,{value:"events",className:"whitespace-nowrap",children:"Events"}),s.jsx(vt,{value:"settings",className:"whitespace-nowrap",children:"Settings"})]})})}),s.jsx(bt,{value:"users",children:s.jsx(Dq,{})}),s.jsx(bt,{value:"jackpot",children:s.jsx(Yq,{})}),s.jsx(bt,{value:"earnings",children:s.jsx(Uq,{})}),s.jsx(bt,{value:"ranking",children:s.jsx(Vq,{})}),s.jsx(bt,{value:"notifications",children:s.jsx(Bq,{})}),s.jsx(bt,{value:"messages",children:s.jsx(Gq,{})}),s.jsx(bt,{value:"events",children:s.jsx(Kq,{})}),s.jsx(bt,{value:"settings",children:s.jsx(Oq,{})})]})})]})},Qq=()=>{const[e,t]=f.useState(""),[r,n]=f.useState(""),[a,i]=f.useState(null),[o,l]=f.useState(!1),c=[{username:"admin",password:"password"},{username:"star",password:"star123"},{username:"buddah",password:"buddah123"},{username:"freakyxxx",password:"freaky123"},{username:"freak",password:"freak123"}],d=async(u,h)=>{l(!0),i(null);const m={username:u||e,password:h||r};console.log("Attempting login with:",m);try{const x=await fetch("https://qkcuykpndrolrewwnkwb.supabase.co/functions/v1/c72dcc88-abde-4202-a24c-f8661ef00b2a",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)}),g=await x.json();console.log("Response:",{status:x.status,data:g}),i({status:x.status,success:x.ok,data:g,credentials:m})}catch(x){console.error("Login error:",x),i({status:"ERROR",success:!1,error:x.message,credentials:m})}finally{l(!1)}};return s.jsx("div",{className:"min-h-screen bg-gray-100 p-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsxs(Q,{children:[s.jsx(de,{children:s.jsx(ue,{children:"Login Test Page"})}),s.jsxs(X,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(ne,{placeholder:"Username",value:e,onChange:u=>t(u.target.value)}),s.jsx(ne,{type:"password",placeholder:"Password",value:r,onChange:u=>n(u.target.value)})]}),s.jsx(V,{onClick:()=>d(),disabled:o||!e||!r,className:"w-full",children:o?"Testing...":"Test Login"})]})]}),s.jsxs(Q,{children:[s.jsx(de,{children:s.jsx(ue,{children:"Test Known Users"})}),s.jsx(X,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map((u,h)=>s.jsxs(V,{variant:"outline",onClick:()=>d(u.username,u.password),disabled:o,className:"p-4 h-auto flex flex-col",children:[s.jsx("div",{className:"font-semibold",children:u.username}),s.jsx("div",{className:"text-sm text-gray-500",children:u.password})]},h))})})]}),a&&s.jsxs(Q,{children:[s.jsx(de,{children:s.jsx(ue,{children:"Test Result"})}),s.jsx(X,{children:s.jsx(_i,{className:a.success?"border-green-500":"border-red-500",children:s.jsx(Si,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Status:"})," ",a.status]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Success:"})," ",a.success?"Yes":"No"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Credentials:"})," ",JSON.stringify(a.credentials)]}),s.jsx("div",{children:s.jsx("strong",{children:"Response:"})}),s.jsx("pre",{className:"bg-gray-100 p-2 rounded text-xs overflow-auto",children:JSON.stringify(a.data||a.error,null,2)})]})})})})]})]})})},Xq=()=>{const e=wi();return f.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"text-center p-8 rounded-lg border border-border bg-card shadow-md animate-slide-in",children:[s.jsx("h1",{className:"text-5xl font-bold mb-6 text-primary",children:"404"}),s.jsx("p",{className:"text-xl text-card-foreground mb-6",children:"Page not found"}),s.jsx("a",{href:"/",className:"text-primary hover:text-primary/80 underline transition-colors",children:"Return to Home"})]})})},bN=e=>e?e.split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "):"Membership",Zq=()=>{const[e]=gr(),t=pt(),[r,n]=f.useState(!0),[a,i]=f.useState("processing"),[o,l]=f.useState("");return f.useEffect(()=>{const c=async()=>{const d=e.get("payment"),u=e.get("upgrade_id"),h=e.get("payment_id"),m=e.get("token"),x=e.get("PayerID");if(d==="success"&&u)try{const{data:g,error:v}=await I.from("membership_upgrades").select("*").eq("id",u).single();if(v)throw new Error("Failed to verify upgrade");if(g.upgrade_status==="completed"){const w=bN(g.upgrade_type);i("success"),l(`${w} membership activated successfully! Redirecting...`),sessionStorage.removeItem("membership_upgrade"),uu({title:`${w} Activated!`,description:`Your ${w} membership has been activated. Redirecting to dashboard...`}),setTimeout(()=>{t("/dashboard")},3e3)}else if(g.payment_status==="partially_paid"){const w=bN(g.upgrade_type);i("success"),l(`First installment payment successful! Complete remaining payments to activate ${w}.`),uu({title:"Payment Received",description:"Installment paid. Complete remaining payments to activate your membership."}),setTimeout(()=>{t("/upgrade")},3e3)}else if(i("processing"),l("Payment is being processed. Please wait a moment..."),m&&x)try{console.log("Manually triggering membership activation...");const{data:w,error:b}=await I.functions.invoke("membership-webhook",{body:{event_type:"CHECKOUT.ORDER.APPROVED",resource:{id:g.paypal_order_id}}});if(b){console.error("Webhook trigger error:",b),setTimeout(c,5e3);return}console.log("Webhook triggered successfully:",w),setTimeout(c,2e3);return}catch(w){console.error("Error triggering webhook:",w),setTimeout(c,5e3);return}else{setTimeout(c,5e3);return}}catch(g){console.error("Payment verification error:",g),i("error"),l("Failed to verify payment status. Please contact support.")}else if(d==="success"&&h)try{const{data:g}=await I.from("payments").select("*").eq("id",h).single();if((g==null?void 0:g.payment_status)==="completed")i("success"),l("Event ticket purchased successfully!"),uu({title:"Ticket Purchased!",description:"You're all set for the event."}),setTimeout(()=>{t("/events")},3e3);else{i("processing"),l("Payment is being processed..."),setTimeout(c,5e3);return}}catch{i("error"),l("Failed to verify event payment.")}else if(d==="cancelled")i("error"),l("Payment was cancelled. You can try again anytime."),setTimeout(()=>{t(-1)},3e3);else{t("/dashboard");return}n(!1)};c()},[e,t]),r&&a==="processing"?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 flex items-center justify-center p-4",children:s.jsx(Q,{className:"max-w-md w-full",children:s.jsx(X,{className:"p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ot,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-blue-600"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Processing Payment"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Please wait while we verify your payment..."}),s.jsx("p",{className:"text-sm text-gray-500",children:"This may take a few moments. Please do not close this page."})]})})})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 flex items-center justify-center p-4",children:s.jsx(Q,{className:"max-w-md w-full",children:s.jsx(X,{className:"p-6",children:s.jsxs(_i,{className:`border-2 ${a==="success"?"border-green-500 bg-green-50":"border-red-500 bg-red-50"}`,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[a==="success"&&s.jsx(Yt,{className:"h-5 w-5 text-green-600"}),a==="error"&&s.jsx(go,{className:"h-5 w-5 text-red-600"}),s.jsx(TC,{className:a==="success"?"text-green-800":"text-red-800",children:a==="success"?"Payment Successful":"Payment Failed"})]}),s.jsx(Si,{className:`mt-2 ${a==="success"?"text-green-700":"text-red-700"}`,children:o})]})})})})},eH=()=>s.jsx(ff,{className:"h-96 w-full rounded-md border p-4",children:s.jsxs("div",{className:"space-y-4 text-sm",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-lg font-bold",children:"HOUSING ANGELS, LLC"}),s.jsx("h3",{className:"text-md font-semibold",children:"STRIPPER & EXOTIC FEMALE PARTICIPATION AGREEMENT"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Annual Compensation Guarantee Program  Diamond Plus Membership"})]}),s.jsx("p",{children:'This Agreement ("Agreement") is entered into by and between Housing Angels, LLC ("Company") and the undersigned participant ("Participant"), effective as of the date of signing.'}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",children:"1. Program Overview"}),s.jsx("p",{children:"Housing Angels, LLC offers a guaranteed $25,000 annual compensation to the first 300 approved Strippers and Exotic Females who meet all program requirements. Payments are issued quarterly in the amount of $6,250.00."}),s.jsx("p",{children:"The guarantee begins once the platform DimesOnly.World has reached a verified user base of:"}),s.jsxs("ul",{className:"list-disc list-inside ml-4",children:[s.jsx("li",{children:"1,000 Female Stripper/Exotic profiles, and"}),s.jsx("li",{children:'3,000 Male or Female "Normal" profiles.'})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",children:"2. Membership Fee"}),s.jsx("p",{children:"To activate participation in this program, the Participant must enroll in Diamond Plus Membership."}),s.jsxs("p",{children:[s.jsx("strong",{children:"Diamond Plus Membership Fee: $349.99"})," (includes online notary fee)"]}),s.jsx("p",{children:"This is a one-time, non-refundable fee."}),s.jsx("p",{children:"Payment confirms commitment to the program and eligibility for quarterly payments upon meeting all requirements."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",children:"3. Participant Requirements (Per Quarter)"}),s.jsx("p",{children:"To qualify for the $6,250 quarterly payout, Participant must complete the following every quarter:"}),s.jsxs("div",{className:"ml-4 space-y-2",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"3.1 Weekly Referrals"}),s.jsxs("ul",{className:"list-disc list-inside ml-4",children:[s.jsx("li",{children:"Minimum 7 new verified referrals per week (84 per quarter)"}),s.jsx("li",{children:"Deduction: $28.27 per missing referral per week"})]})]}),s.jsxs("div",{children:[s.jsx("strong",{children:"3.2 Weekly Content Uploads"}),s.jsxs("ul",{className:"list-disc list-inside ml-4",children:[s.jsx("li",{children:"Minimum 7 new photos/videos per week (168 items total)"}),s.jsx("li",{children:"Deduction: $14.14 per missing photo or video"})]})]}),s.jsxs("div",{children:[s.jsx("strong",{children:"3.3 Event Participation"}),s.jsxs("ul",{className:"list-disc list-inside ml-4",children:[s.jsx("li",{children:"1 event per month (3 total per quarter)"}),s.jsx("li",{children:"Deduction: $500 per missed event"})]})]}),s.jsxs("div",{children:[s.jsx("strong",{children:"3.4 New User Engagement"}),s.jsxs("ul",{className:"list-disc list-inside ml-4",children:[s.jsx("li",{children:"Send 7 weekly messages to new users not referred by you (84 total per quarter)"}),s.jsx("li",{children:"Deduction: $28.27 per missing message per week"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",children:"4. Compensation Terms"}),s.jsx("p",{children:"If all quarterly requirements are met, Participant will receive:"}),s.jsxs("ul",{className:"list-disc list-inside ml-4",children:[s.jsx("li",{children:"$6,250.00 every 3 months"}),s.jsx("li",{children:"$25,000.00 total annually"})]}),s.jsx("p",{children:"Proportional Deductions apply for any missed items based on the rates above. Deductions will be subtracted from the quarter's payout."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",children:"5. Diamond Membership Plus Clause"}),s.jsx("p",{children:"If Participant earns $12,000 or more in platform income during any quarter (e.g., tips, referrals, merchandise, or other features), the $6,250 guarantee becomes void permanently."}),s.jsx("p",{children:"From that point, all income will be based solely on earned platform revenue."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",children:"6. Terms & Termination"}),s.jsx("p",{children:"This agreement remains in effect as long as:"}),s.jsxs("ul",{className:"list-disc list-inside ml-4",children:[s.jsx("li",{children:"Participant is one of the first 300 approved Stripper/Exotic members"}),s.jsx("li",{children:"Participant complies with all Section 3 requirements"}),s.jsx("li",{children:"Participant remains active and in good standing on DimesOnly.World"})]}),s.jsx("p",{children:"Failure to meet obligations or community standards may result in termination from the program."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",children:"7. Notarization & Activation"}),s.jsx("p",{children:"This agreement must be signed and notarized digitally. A licensed online notary will verify your identity and provide you with a copy for your records."}),s.jsx("p",{children:"Once notarized and the $349.99 payment is received, your Diamond Plus Membership will be active."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",children:"8. Signature & Acknowledgment"}),s.jsx("p",{children:"By signing below, you agree to the terms and confirm your enrollment in the Diamond Plus Membership tier."})]})]})}),tH=()=>{const{toast:e}=Pe(),[t,r]=f.useState(null),[n,a]=f.useState([]),[i,o]=f.useState(!0),[l,c]=f.useState(!1),[d,u]=f.useState(""),[h,m]=f.useState("full"),[x,g]=f.useState(!1),p=300-n.filter(S=>S.membership_type==="diamond_plus").reduce((S,P)=>S+P.current_count,0);f.useEffect(()=>{y(),j()},[]);const y=async()=>{try{const{data:{user:S}}=await I.auth.getUser();if(!S)return;const{data:P,error:C}=await I.from("users").select("id, username, user_type, membership_tier, diamond_plus_active, phone_number, email").eq("id",S.id).single();if(C)throw C;r(P),u(P.phone_number||"")}catch(S){console.error("Error fetching user data:",S),e({title:"Error",description:"Failed to load user data",variant:"destructive"})}finally{o(!1)}},j=async()=>{try{const{data:S,error:P}=await I.from("membership_limits").select("*");if(P)throw P;a(S)}catch(S){console.error("Error fetching membership limits:",S)}},N=async()=>{if(!t||!d.trim()){e({title:"Missing Information",description:"Please provide your phone number",variant:"destructive"});return}if(p<=0){e({title:"No Spots Available",description:"All Diamond Plus positions have been filled",variant:"destructive"});return}c(!0);try{const S={user_id:t.id,upgrade_type:"diamond_plus",payment_amount:h==="full"?349.99:111.73,payment_method:h==="full"?"paypal_full":"paypal_installment",installment_plan:h==="installment",installment_count:h==="installment"?2:1,phone_number:d,payment_status:"pending",upgrade_status:"pending"},{data:P,error:C}=await I.from("membership_upgrades").insert(S).select().single();if(C)throw C;await I.from("users").update({phone_number:d}).eq("id",t.id);const A=h==="full"?349.99:111.73,L=`${window.location.origin}/payment-return?payment=success&upgrade_id=${P.id}`,F=`${window.location.origin}/payment-return?payment=cancelled`,{data:E,error:W}=await I.functions.invoke("create-paypal-order",{body:{payment_type:"membership",membership_upgrade_id:P.id,user_id:t.id,amount:A,installment_number:1,return_url:L,cancel_url:F,description:h==="full"?"Diamond Plus Membership - Full Payment ($349.99)":"Diamond Plus Membership - Installment 1/2 ($111.73)"}});if(console.log({orderData:E,orderError:W}),W)throw new Error(W.message||"Failed to create PayPal order");if(!(E!=null&&E.success))throw new Error((E==null?void 0:E.error)||"PayPal order creation failed");e({title:"Redirecting to PayPal",description:"Please complete your payment..."}),sessionStorage.setItem("diamond_plus_upgrade",JSON.stringify({upgrade_id:P.id,payment_option:h,amount:A})),window.location.href=E.approval_url}catch(S){console.error("Error processing upgrade:",S),e({title:"Upgrade Failed",description:S.message||"There was an error processing your upgrade. Please try again.",variant:"destructive"})}finally{c(!1)}};if(i)return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:s.jsx("div",{className:"text-white text-xl",children:"Loading..."})});if(!t)return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:s.jsx(Q,{className:"bg-red-900/20 border-red-500",children:s.jsxs(X,{className:"p-8 text-center",children:[s.jsx("h2",{className:"text-red-400 font-bold text-xl mb-2",children:"Access Denied"}),s.jsx("p",{className:"text-red-300",children:"Please log in to access the upgrade page."})]})})});const k=t.user_type==="stripper"||t.user_type==="exotic",_=t.diamond_plus_active;return s.jsx(Xt,{children:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[s.jsx(at,{className:"w-12 h-12 text-yellow-400"}),s.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-yellow-400 to-orange-400 bg-clip-text text-transparent",children:"Diamond Plus Membership"}),s.jsx(at,{className:"w-12 h-12 text-yellow-400"})]}),s.jsx("p",{className:"text-xl text-gray-300 mb-4",children:"Join the elite $25,000/year guarantee program"}),p>0&&k&&s.jsxs(ce,{variant:"destructive",className:"text-lg px-4 py-2",children:["Only ",p," spots remaining!"]})]}),k?_?s.jsx(Q,{className:"bg-green-900/20 border-green-500 mb-8",children:s.jsxs(X,{className:"p-8 text-center",children:[s.jsx(Yt,{className:"w-16 h-16 text-green-400 mx-auto mb-4"}),s.jsx("h2",{className:"text-green-400 font-bold text-2xl mb-2",children:"You're Already Diamond Plus!"}),s.jsx("p",{className:"text-green-300",children:"You have access to the $25,000 annual guarantee program."})]})}):p<=0?s.jsx(Q,{className:"bg-red-900/20 border-red-500 mb-8",children:s.jsxs(X,{className:"p-8 text-center",children:[s.jsx(go,{className:"w-16 h-16 text-red-400 mx-auto mb-4"}),s.jsx("h2",{className:"text-red-400 font-bold text-2xl mb-2",children:"All Spots Taken"}),s.jsx("p",{className:"text-red-300",children:"All 300 Diamond Plus positions have been filled."})]})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-12",children:[s.jsxs(Q,{className:"bg-gradient-to-br from-yellow-900/30 to-orange-900/30 border-yellow-500/50",children:[s.jsx(de,{children:s.jsxs(ue,{className:"flex items-center gap-2 text-yellow-800",children:[s.jsx(Tt,{className:"w-6 h-6"}),"Guaranteed Income"]})}),s.jsx(X,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"text-3xl font-bold text-white",children:"$25,000"}),s.jsx("div",{className:"text-gray-600",children:"per year guaranteed"}),s.jsx("div",{className:"text-lg text-gray-800",children:"$6,250 quarterly payments"}),s.jsx("p",{className:"text-gray-800 text-sm",children:"Guaranteed annual compensation when you meet quarterly requirements"})]})})]}),s.jsxs(Q,{className:"bg-gradient-to-br from-purple-900/30 to-pink-900/30 border-purple-500/50",children:[s.jsx(de,{children:s.jsxs(ue,{className:"flex items-center gap-2 text-purple-800",children:[s.jsx(lr,{className:"w-6 h-6"}),"Exclusive Benefits"]})}),s.jsx(X,{children:s.jsxs("ul",{className:"space-y-2 text-gray-600",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(Yt,{className:"w-4 h-4 text-green-400"}),"Priority placement in rankings"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(Yt,{className:"w-4 h-4 text-green-400"}),"Guaranteed quarterly payouts"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(Yt,{className:"w-4 h-4 text-green-400"}),"Access to exclusive events"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(Yt,{className:"w-4 h-4 text-green-400"}),"Direct support channel"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(Yt,{className:"w-4 h-4 text-green-400"}),"Up to $74,985 a year adding photo and video nudes"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(Yt,{className:"w-4 h-4 text-green-400"}),"Up to $112,500 a year adding x-rated photos and videos"]})]})})]})]}),s.jsxs(Q,{className:"bg-white/10 backdrop-blur border-white/20 mb-8",children:[s.jsx(de,{children:s.jsx(ue,{className:"text-2xl text-center text-white",children:"Choose Your Payment Option"})}),s.jsx(X,{children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsx("div",{className:`p-6 rounded-xl border-2 cursor-pointer transition-all ${h==="full"?"border-yellow-400 bg-yellow-400/10":"border-gray-600 hover:border-gray-500"}`,onClick:()=>m("full"),children:s.jsxs("div",{className:"text-center",children:[s.jsx(Na,{className:"w-8 h-8 text-yellow-400 mx-auto mb-3"}),s.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Full Payment"}),s.jsx("div",{className:"text-3xl font-bold text-yellow-400 mb-2",children:"$349.99"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"One-time payment, immediate activation"})]})}),s.jsx("div",{className:`p-6 rounded-xl border-2 cursor-pointer transition-all ${h==="installment"?"border-yellow-400 bg-yellow-400/10":"border-gray-600 hover:border-gray-500"}`,onClick:()=>m("installment"),children:s.jsxs("div",{className:"text-center",children:[s.jsx(fr,{className:"w-8 h-8 text-yellow-400 mx-auto mb-3"}),s.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"2 Installments"}),s.jsx("div",{className:"text-lg font-bold text-yellow-400 mb-1",children:"$149.00"}),s.jsx("div",{className:"text-sm text-gray-400 mb-2",children:"2 installments include $11.73 installment fee"}),s.jsx("div",{className:"text-2xl font-bold text-yellow-400 mb-1",children:"$111.73"}),s.jsx("div",{className:"text-sm text-gray-400 mb-2",children:" 2 payments"})]})})]})})]}),s.jsxs(Q,{className:"bg-white/10 backdrop-blur border-white/20 mb-8",children:[s.jsx(de,{children:s.jsxs(ue,{className:"flex items-center gap-2 text-white",children:[s.jsx($h,{className:"w-5 h-5"}),"Contact Information"]})}),s.jsx(X,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(pe,{htmlFor:"phone",className:"text-gray-300",children:"Phone Number (Required for PayPal)"}),s.jsx(ne,{id:"phone",type:"tel",value:d,onChange:S=>u(S.target.value),placeholder:"(555) 123-4567",className:"bg-white/20 border-white/30 text-white"})]}),s.jsxs("div",{children:[s.jsx(pe,{className:"text-gray-300",children:"Email"}),s.jsx(ne,{type:"email",value:t.email,disabled:!0,className:"bg-gray-800 border-gray-600 text-gray-400"})]})]})})]}),s.jsxs(Q,{className:"bg-white/10 backdrop-blur border-white/20 mb-8",children:[s.jsx(de,{children:s.jsxs(ue,{className:"flex items-center gap-2 text-white",children:[s.jsx(fu,{className:"w-5 h-5"}),"Participation Agreement"]})}),s.jsxs(X,{children:[s.jsx("p",{className:"text-gray-300 mb-4",children:"Review the full participation agreement before proceeding with your upgrade."}),s.jsxs(Xe,{open:x,onOpenChange:g,children:[s.jsx(lE,{asChild:!0,children:s.jsx(V,{variant:"default",className:"w-full",children:"View Agreement"})}),s.jsxs(Je,{className:"max-w-4xl bg-white text-black",children:[s.jsx(Ze,{children:s.jsx(Qe,{children:"Diamond Plus Participation Agreement"})}),s.jsx(eH,{})]})]})]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx(V,{onClick:N,disabled:l||!d.trim(),className:"bg-gradient-to-r from-yellow-400 to-orange-400 hover:from-yellow-500 hover:to-orange-500 text-black font-bold text-lg px-12 py-4 rounded-xl shadow-lg transform hover:scale-105 transition-all duration-200",children:l?"Processing...":s.jsxs(s.Fragment,{children:[s.jsx(at,{className:"w-5 h-5 mr-2"}),h==="full"?"Pay $349.99 - Upgrade Now":"Pay First Installment $111.73"]})}),s.jsx("p",{className:"text-gray-400 text-sm mt-4",children:"After payment, you'll receive instructions for your notarization video call"})]})]}):s.jsx(Q,{className:"bg-blue-900/20 border-blue-500 mb-8",children:s.jsxs(X,{className:"p-8 text-center",children:[s.jsx(at,{className:"w-16 h-16 text-blue-400 mx-auto mb-4"}),s.jsx("h2",{className:"text-blue-400 font-bold text-2xl mb-2",children:"Diamond Plus Information"}),s.jsx("p",{className:"text-blue-300 mb-4",children:"Diamond Plus membership is exclusively available for Stripper and Exotic user types."}),s.jsxs("div",{className:"bg-blue-800/30 rounded-lg p-4 mb-4",children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Program Benefits:"}),s.jsxs("ul",{className:"text-blue-200 text-sm space-y-1 text-left",children:[s.jsx("li",{children:" $25,000 annual guarantee"}),s.jsx("li",{children:" $6,250 quarterly payments"}),s.jsx("li",{children:" Priority placement in rankings"}),s.jsx("li",{children:" Access to exclusive events"}),s.jsx("li",{children:" Direct support channel"})]})]}),s.jsx("p",{className:"text-blue-300 text-sm",children:"If you're a Stripper or Exotic performer, please contact support to update your account type."})]})})]})})})};function rH({userId:e,onMembershipUpdate:t}){const[r]=gr(),n=pt(),a=r.get("user_id"),i=e||a,[o,l]=f.useState(!1),[c,d]=f.useState(""),{toast:u}=Pe(),h=async()=>{var m;if(!i){u({title:"Error",description:"User ID is missing",variant:"destructive"});return}if(!c){u({title:"Missing Information",description:"Please provide your phone number",variant:"destructive"});return}l(!0);try{const{data:x,error:g}=await I.rpc("check_silver_plus_availability");if(g)throw g;if(!x||!((m=x[0])!=null&&m.available))throw new Error("No more lifetime Silver+ memberships available. It will be available as a monthly subscription soon.");const v={user_id:i,upgrade_type:"silver_plus",payment_amount:74.99,payment_method:"paypal_full",installment_plan:!1,installment_count:1,phone_number:c,payment_status:"pending",upgrade_status:"pending"},{data:w,error:b}=await I.from("membership_upgrades").insert(v).select().single();if(b)throw b;await I.from("users").update({phone_number:c}).eq("id",i);const p=`${window.location.origin}/payment-return?payment=success&upgrade_id=${w.id}`,y=`${window.location.origin}/payment-return?payment=cancelled`,{data:j,error:N}=await I.functions.invoke("create-paypal-order",{body:{payment_type:"membership",membership_upgrade_id:w.id,user_id:i,amount:74.99,installment_number:1,return_url:p,cancel_url:y,description:"Silver+ Lifetime Membership - One-time Payment"}});if(N)throw N;if(!(j!=null&&j.success))throw new Error("Failed to create PayPal order");u({title:"Redirecting to PayPal",description:"Please complete your payment..."}),sessionStorage.setItem("membership_upgrade",JSON.stringify({upgrade_id:w.id,payment_option:"full",amount:74.99})),window.location.href=j.approval_url}catch(x){console.error("Upgrade error:",x),u({title:"Upgrade Failed",description:x.message||"Failed to process upgrade",variant:"destructive"})}finally{l(!1)}};return s.jsx(Ci,{children:s.jsxs("div",{className:"container mx-auto p-4 max-w-4xl",children:[s.jsxs(V,{variant:"ghost",className:"mb-4",onClick:()=>n(-1),children:[s.jsx(Ni,{className:"w-4 h-4 mr-2"})," Back"]}),s.jsxs(Q,{className:"border-0 shadow-lg",children:[s.jsx(de,{className:"text-center",children:s.jsx(ue,{className:"text-3xl font-bold text-blue-600",children:"Upgrade to Silver+ Membership"})}),s.jsx(X,{className:"space-y-6",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold",children:"Membership Benefits"}),s.jsx("ul",{className:"space-y-2",children:["Lifetime access","Exclusive content","Priority support","Member-only events"].map(m=>s.jsxs("li",{className:"flex items-start",children:[s.jsx(Yt,{className:"w-5 h-5 text-green-500 mr-2 mt-0.5"}),s.jsx("span",{children:m})]},m))})]}),s.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg border space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl font-bold text-blue-600",children:"$74.99"}),s.jsx("p",{className:"text-muted-foreground",children:"One-time payment"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(pe,{htmlFor:"phone",children:"Phone Number"}),s.jsx(ne,{id:"phone",type:"tel",placeholder:"+1 (555) 123-4567",value:c,onChange:m=>d(m.target.value),disabled:o,required:!0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Required for payment verification"})]}),s.jsx(V,{className:"w-full py-6 text-lg",size:"lg",onClick:h,disabled:o||!c,children:o?s.jsxs(s.Fragment,{children:[s.jsx(ot,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Na,{className:"mr-2 h-5 w-5"}),"Pay with PayPal"]})})]}),s.jsxs("div",{className:"text-center text-xs text-muted-foreground",children:[s.jsx("p",{children:"Secure payment processed by PayPal"}),s.jsx("p",{className:"mt-1",children:"Cancel anytime"})]})]})]})})]})]})})}function sH({userId:e}){const[t]=gr(),r=pt(),n=t.get("user_id"),a=e||n||void 0,[i,o]=f.useState(!1),[l,c]=f.useState(""),{toast:d}=Pe(),u=async()=>{let h=a;if(!h){const{data:{user:m},error:x}=await I.auth.getUser();if(x){d({title:"Auth Error",description:x.message,variant:"destructive"});return}h=m==null?void 0:m.id}if(!h){d({title:"Error",description:"User ID is missing. Please log in and try again.",variant:"destructive"});return}if(!l){d({title:"Missing Information",description:"Please provide your phone number",variant:"destructive"});return}o(!0);try{const m={user_id:h,upgrade_type:"silver",payment_amount:49.99,payment_method:"paypal_full",installment_plan:!1,installment_count:1,phone_number:l,payment_status:"pending",upgrade_status:"pending"},{data:x,error:g}=await I.from("membership_upgrades").insert(m).select().single();if(g)throw g;await I.from("users").update({phone_number:l}).eq("id",h);const v=`${window.location.origin}/payment-return?payment=success&upgrade_id=${x.id}`,w=`${window.location.origin}/payment-return?payment=cancelled`,{data:b,error:p}=await I.functions.invoke("create-paypal-order",{body:{payment_type:"membership",membership_upgrade_id:x.id,user_id:h,amount:49.99,installment_number:1,return_url:v,cancel_url:w,description:"Silver Membership - One-time Payment"}});if(p)throw p;if(!(b!=null&&b.success))throw new Error("Failed to create PayPal order");d({title:"Redirecting to PayPal",description:"Please complete your payment..."}),sessionStorage.setItem("membership_upgrade",JSON.stringify({upgrade_id:x.id,payment_option:"full",amount:49.99})),window.location.href=b.approval_url}catch(m){console.error("Upgrade error:",m),d({title:"Upgrade Failed",description:m.message||"Failed to process upgrade",variant:"destructive"})}finally{o(!1)}};return s.jsx(Ci,{children:s.jsxs("div",{className:"container mx-auto p-4 max-w-4xl",children:[s.jsxs(V,{variant:"ghost",className:"mb-4",onClick:()=>r(-1),children:[s.jsx(Ni,{className:"w-4 h-4 mr-2"})," Back"]}),s.jsxs(Q,{className:"border-0 shadow-lg",children:[s.jsxs(de,{className:"text-center",children:[s.jsx(ue,{className:"text-3xl font-bold text-blue-600",children:"Upgrade to Silver Membership"}),s.jsx(qs,{children:"One-time payment. Immediate activation after successful payment."})]}),s.jsx(X,{className:"space-y-6",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold",children:"Membership Benefits"}),s.jsx("ul",{className:"space-y-2",children:["View nudes from strippers and exotics","Revenue share benefits per program terms","Do not wait to get sponsored and pay for a profit-sharing position"].map(h=>s.jsxs("li",{className:"flex items-start",children:[s.jsx(Yt,{className:"w-5 h-5 text-green-500 mr-2 mt-0.5"}),s.jsx("span",{children:h})]},h))})]}),s.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg border space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl font-bold text-blue-600",children:"$49.99"}),s.jsx("p",{className:"text-muted-foreground",children:"One-time payment"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(pe,{htmlFor:"phone",children:"Phone Number"}),s.jsx(ne,{id:"phone",type:"tel",placeholder:"+1 (555) 123-4567",value:l,onChange:h=>c(h.target.value),disabled:i,required:!0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Required for payment verification"})]}),s.jsx(V,{className:"w-full py-6 text-lg",size:"lg",onClick:u,disabled:i||!l,children:i?s.jsxs(s.Fragment,{children:[s.jsx(ot,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Na,{className:"mr-2 h-5 w-5"}),"Pay with PayPal"]})})]}),s.jsxs("div",{className:"text-center text-xs text-muted-foreground",children:[s.jsx("p",{children:"Secure payment processed by PayPal"}),s.jsx("p",{className:"mt-1",children:"Cancel anytime"})]})]})]})})]})]})})}function nH(){const[e]=gr(),t=pt(),r=e.get("user_id"),n=(e.get("cadence")||"monthly").toLowerCase(),[a,i]=f.useState(!1),[o,l]=f.useState(""),{toast:c}=Pe(),d=async()=>{i(!0);try{let u=r??void 0;if(!u){const{data:{user:v},error:w}=await I.auth.getUser();if(w){c({title:"Auth Error",description:w.message,variant:"destructive"});return}u=v==null?void 0:v.id}if(!u){c({title:"Error",description:"User ID is missing. Please log in and try again.",variant:"destructive"});return}if(!o){c({title:"Missing Information",description:"Please provide your phone number",variant:"destructive"});return}await I.from("users").update({phone_number:o}).eq("id",u);const h=`${window.location.origin}/payment-return?payment=success&tier=gold&cadence=${n}`,m=`${window.location.origin}/payment-return?payment=cancelled&tier=gold&cadence=${n}`,{data:x,error:g}=await I.functions.invoke("create-paypal-subscription",{body:{user_id:u,tier:"gold",cadence:n,return_url:h,cancel_url:m,description:`Gold Membership - ${n==="yearly"?"Annual":"Monthly"} Subscription`}});if(g)throw g;if(!(x!=null&&x.success))throw new Error((x==null?void 0:x.error)||"Failed to create PayPal subscription");c({title:"Redirecting to PayPal",description:"Please approve your subscription..."}),window.location.href=x.approval_url}catch(u){console.error("Gold subscribe error:",u);const h=typeof(u==null?void 0:u.message)=="string"?u.message:"Failed to start subscription";c({title:"Subscription Error",description:h,variant:"destructive"})}finally{i(!1)}};return s.jsx(Ci,{children:s.jsxs("div",{className:"container mx-auto p-4 max-w-4xl",children:[s.jsxs(V,{variant:"ghost",className:"mb-4",onClick:()=>t(-1),children:[s.jsx(Ni,{className:"w-4 h-4 mr-2"})," Back"]}),s.jsxs(Q,{className:"border-0 shadow-lg",children:[s.jsxs(de,{className:"text-center",children:[s.jsx(ue,{className:"text-3xl font-bold text-amber-500",children:"Upgrade to Gold Membership"}),s.jsxs(qs,{children:[n==="yearly"?"Annual subscription":"Monthly subscription",". Immediate activation after approval."]})]}),s.jsx(X,{className:"space-y-6",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold",children:"Membership Benefits"}),s.jsx("ul",{className:"space-y-2",children:["All the benefits of the Silver Package","Lifetime FREE admission to events surrounding the show","Lifetime subscription to FLAME FLIX affiliated platforms","Increased chances for semi-finals selection","Get featured on our Instagram page along with cast members"].map(u=>s.jsxs("li",{className:"flex items-start",children:[s.jsx(Yt,{className:"w-5 h-5 text-green-500 mr-2 mt-0.5"}),s.jsx("span",{children:u})]},u))})]}),s.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg border space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl font-bold text-amber-600",children:n==="yearly"?"$99.99":"$11.99"}),s.jsx("p",{className:"text-muted-foreground",children:n==="yearly"?"per year":"per month"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(pe,{htmlFor:"phone",children:"Phone Number"}),s.jsx(ne,{id:"phone",type:"tel",placeholder:"+1 (555) 123-4567",value:o,onChange:u=>l(u.target.value),disabled:a,required:!0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Required for payment verification"})]}),s.jsx(V,{className:"w-full py-6 text-lg",size:"lg",onClick:d,disabled:a||!o,children:a?s.jsxs(s.Fragment,{children:[s.jsx(ot,{className:"mr-2 h-4 w-4 animate-spin"})," Processing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Na,{className:"mr-2 h-5 w-5"})," Subscribe with PayPal"]})})]}),s.jsxs("div",{className:"text-center text-xs text-muted-foreground",children:[s.jsx("p",{children:"Secure subscription processed by PayPal"}),s.jsx("p",{className:"mt-1",children:"Cancel anytime"})]})]})]})})]})]})})}function aH(){const[e]=gr(),t=(e.get("cadence")||"monthly").toLowerCase(),r=pt(),[n,a]=f.useState(!1),[i,o]=f.useState(""),{toast:l}=Pe(),c=t==="yearly"?"$49.99":"$4.99",d=t==="yearly"?"per year":"per month",u=async()=>{a(!0);try{const{data:{user:h},error:m}=await I.auth.getUser();if(m)throw m;if(!h)throw new Error("Please log in and try again.");if(!i)throw new Error("Please provide your phone number");await I.from("users").update({phone_number:i}).eq("id",h.id);const x=`${window.location.origin}/payment-return?payment=success&tier=silver&cadence=${t}`,g=`${window.location.origin}/payment-return?payment=cancelled&tier=silver&cadence=${t}`,{data:v,error:w}=await I.functions.invoke("create-paypal-subscription",{body:{user_id:h.id,tier:"silver",cadence:t,return_url:x,cancel_url:g,description:`Silver Membership - ${t}`}});if(w)throw w;if(!(v!=null&&v.success))throw new Error((v==null?void 0:v.error)||"Failed to create PayPal subscription");l({title:"Redirecting to PayPal",description:"Please approve your subscription..."}),window.location.href=v.approval_url}catch(h){console.error("Silver subscribe error:",h),l({title:"Subscription Error",description:(h==null?void 0:h.message)||"Failed to start subscription",variant:"destructive"})}finally{a(!1)}};return s.jsx(Ci,{children:s.jsxs("div",{className:"container mx-auto p-4 max-w-4xl",children:[s.jsxs(V,{variant:"ghost",className:"mb-4",onClick:()=>r(-1),children:[s.jsx(Ni,{className:"w-4 h-4 mr-2"})," Back"]}),s.jsxs(Q,{className:"border-0 shadow-lg",children:[s.jsxs(de,{className:"text-center",children:[s.jsx(ue,{className:"text-3xl font-bold text-gray-900",children:"Upgrade to Silver"}),s.jsxs(qs,{children:[t==="yearly"?"Annual":"Monthly"," subscription. Immediate activation after approval."]})]}),s.jsx(X,{className:"space-y-6",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold",children:"Membership Benefits"}),s.jsx("ul",{className:"space-y-2",children:["20% override on all the free people that join under your link in phase 2.","30% of all subscriptions/memberships sold through your link now.","40% of tips designated to you through your link.","20% of tips if designated to you through someone else's link.","20% of tips if they choose you to tip.","View nudes from strippers and exotics.","Do not wait to get sponsored and pay for a profit-sharing position."].map(h=>s.jsxs("li",{className:"flex items-start",children:[s.jsx(Yt,{className:"w-5 h-5 text-green-500 mr-2 mt-0.5"}),s.jsx("span",{children:h})]},h))})]}),s.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg border space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl font-bold text-gray-900",children:c}),s.jsx("p",{className:"text-muted-foreground",children:d})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(pe,{htmlFor:"phone",children:"Phone Number"}),s.jsx(ne,{id:"phone",type:"tel",placeholder:"+1 (555) 123-4567",value:i,onChange:h=>o(h.target.value),disabled:n,required:!0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Required for payment verification"})]}),s.jsx(V,{className:"w-full py-6 text-lg",size:"lg",onClick:u,disabled:n||!i,children:n?s.jsxs(s.Fragment,{children:[s.jsx(ot,{className:"mr-2 h-4 w-4 animate-spin"})," Processing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Na,{className:"mr-2 h-5 w-5"})," Subscribe with PayPal"]})})]}),s.jsxs("div",{className:"text-center text-xs text-muted-foreground",children:[s.jsx("p",{children:"Secure subscription processed by PayPal"}),s.jsx("p",{className:"mt-1",children:"Cancel anytime"})]})]})]})})]})]})})}function iH(){const[e]=gr(),t=pt(),r=e.get("user_id"),n=(e.get("cadence")||"monthly").toLowerCase(),[a,i]=f.useState(!1),[o,l]=f.useState("split"),[c,d]=f.useState(""),{toast:u}=Pe(),h=async()=>{i(!0);try{let m=r??void 0;if(!m){const{data:{user:b},error:p}=await I.auth.getUser();if(p){u({title:"Auth Error",description:p.message,variant:"destructive"});return}m=b==null?void 0:b.id}if(!m){u({title:"Error",description:"User ID is missing. Please log in and try again.",variant:"destructive"});return}if(!c){u({title:"Missing Information",description:"Please provide your phone number",variant:"destructive"});return}await I.from("users").update({phone_number:c}).eq("id",m);const x=`${window.location.origin}/payment-return?payment=success&tier=diamond&cadence=${n}&billing_option=${n==="yearly"?o:""}`,g=`${window.location.origin}/payment-return?payment=cancelled&tier=diamond&cadence=${n}&billing_option=${n==="yearly"?o:""}`,{data:v,error:w}=await I.functions.invoke("create-paypal-subscription",{body:{user_id:m,tier:"diamond",cadence:n,...n==="yearly"?{billing_option:o}:{},return_url:x,cancel_url:g,description:`Diamond Membership - ${n==="yearly"?o==="full"?"Annual (one payment)":"Annual (split every 4 months)":"Monthly"} Subscription`}});if(w)throw w;if(!(v!=null&&v.success))throw new Error((v==null?void 0:v.error)||"Failed to create PayPal subscription");u({title:"Redirecting to PayPal",description:"Please approve your subscription..."}),window.location.href=v.approval_url}catch(m){console.error("Diamond monthly subscribe error:",m);const x=typeof(m==null?void 0:m.message)=="string"?m.message:"Failed to start subscription";u({title:"Subscription Error",description:x,variant:"destructive"})}finally{i(!1)}};return s.jsx(Ci,{children:s.jsxs("div",{className:"container mx-auto p-4 max-w-4xl",children:[s.jsxs(V,{variant:"ghost",className:"mb-4",onClick:()=>t(-1),children:[s.jsx(Ni,{className:"w-4 h-4 mr-2"})," Back"]}),s.jsxs(Q,{className:"border-0 shadow-lg",children:[s.jsxs(de,{className:"text-center",children:[s.jsxs(ue,{className:"text-3xl font-bold text-cyan-400",children:["Upgrade to Diamond (",n==="yearly"?"Yearly":"Monthly",")"]}),s.jsxs(qs,{children:[n==="yearly"?o==="full"?"Annual subscription (one payment).":"Annual subscription billed in split cycles.":"Monthly subscription."," ","Immediate activation after approval."]})]}),s.jsx(X,{className:"space-y-6",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-semibold",children:"Membership Benefits"}),s.jsx("ul",{className:"space-y-2",children:["GET ALL THE BENEFITS OF FREE, SILVER AND GOLD","VIP Access & VIP Section 4 times a year + 1 guest FREE","Profit share 10% of company gross sales among first 300","Featured on our Instagram page along with cast members","Featured on the opening page of the App every day for 3 years"].map(m=>s.jsxs("li",{className:"flex items-start",children:[s.jsx(Yt,{className:"w-5 h-5 text-green-500 mr-2 mt-0.5"}),s.jsx("span",{children:m})]},m))})]}),s.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg border space-y-6",children:[n==="yearly"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("button",{type:"button",className:`p-3 rounded border text-left ${o==="full"?"border-cyan-600 bg-cyan-50":"border-gray-300 hover:border-cyan-400"}`,onClick:()=>l("full"),children:[s.jsx("div",{className:"font-semibold",children:"Full Payment"}),s.jsx("div",{className:"text-sm text-gray-600",children:"$150.00 once per year"})]}),s.jsxs("button",{type:"button",className:`p-3 rounded border text-left ${o==="split"?"border-cyan-600 bg-cyan-50":"border-gray-300 hover:border-cyan-400"}`,onClick:()=>l("split"),children:[s.jsx("div",{className:"font-semibold",children:"Split Payment"}),s.jsx("div",{className:"text-sm text-gray-600",children:"$53.25 every 4 months (3x per year)"})]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl font-bold text-cyan-600",children:n==="yearly"?"$150.00":"$14.99"}),s.jsx("p",{className:"text-muted-foreground",children:n==="yearly"?o==="full"?"one payment per year":"per year (split)":"per month"}),n==="yearly"&&o==="split"&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Billed as $53.25 every 4 months (3x per year)"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(pe,{htmlFor:"phone",children:"Phone Number"}),s.jsx(ne,{id:"phone",type:"tel",placeholder:"+1 (555) 123-4567",value:c,onChange:m=>d(m.target.value),disabled:a,required:!0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Required for payment verification"})]}),s.jsx(V,{className:"w-full py-6 text-lg",size:"lg",onClick:h,disabled:a||!c,children:a?s.jsxs(s.Fragment,{children:[s.jsx(ot,{className:"mr-2 h-4 w-4 animate-spin"})," Processing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Na,{className:"mr-2 h-5 w-5"})," Subscribe with PayPal"]})})]}),s.jsxs("div",{className:"text-center text-xs text-muted-foreground",children:[s.jsx("p",{children:"Secure subscription processed by PayPal"}),s.jsx("p",{className:"mt-1",children:"Cancel anytime"})]})]})]})})]})]})})}const Gm="/placeholder.svg",oH=e=>e?e.split("_").join(" ").replace(/\b\w/g,t=>t.toUpperCase()):null,lH=({isOpen:e,onClose:t,recipientUsername:r})=>{const{user:n}=Es(),{toast:a}=Pe(),[i,o]=f.useState(null),[l,c]=f.useState([]),[d,u]=f.useState(!1),[h,m]=f.useState(""),[x,g]=f.useState(!1);f.useEffect(()=>{let b=null;const p=()=>{o(null),c([]),m("")};return e?!r||!(n!=null&&n.id)?(n!=null&&n.id||(a({title:"Login required",description:"You need to sign in before you can send messages.",variant:"destructive"}),t()),()=>{if(b)try{b.unsubscribe()}catch{}}):((async()=>{u(!0);try{const{data:j,error:N}=await I.from("users").select("id, username, profile_photo, membership_tier").eq("username",r).single();if(N||!j){a({title:"Unable to start chat",description:"We could not find that performer.",variant:"destructive"}),t();return}const k=j,_={id:String(k.id),username:k.username,profile_photo:k.profile_photo??null,membership_tier:k.membership_tier??null};o(_);const{data:S,error:P}=await I.from("direct_messages").select("*").in("sender_id",[n.id,_.id]).in("recipient_id",[n.id,_.id]).order("created_at",{ascending:!0});if(P)throw P;c(S??[]),await I.from("direct_messages").update({is_read:!0}).eq("recipient_id",n.id).eq("sender_id",_.id).eq("is_read",!1),b=I.channel(`dm_directory_${n.id}_${_.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"direct_messages"},C=>{const A=C.new;(A.sender_id===n.id&&A.recipient_id===_.id||A.sender_id===_.id&&A.recipient_id===n.id)&&(c(L=>L.some(F=>F.id===A.id)?L:[...L,A]),A.recipient_id===n.id&&I.from("direct_messages").update({is_read:!0}).eq("id",A.id))}).subscribe()}catch(j){console.error("Failed to load chat thread:",j),a({title:"Chat unavailable",description:"We could not open this conversation.",variant:"destructive"}),t()}finally{u(!1)}})(),()=>{if(b)try{b.unsubscribe()}catch{}}):(p(),()=>{if(b)try{b.unsubscribe()}catch{}})},[e,r,n==null?void 0:n.id,t,a]);const v=async()=>{const b=h.trim();if(!(!b||!(n!=null&&n.id)||!(i!=null&&i.id))){g(!0);try{const{error:p}=await I.from("direct_messages").insert({sender_id:n.id,recipient_id:i.id,message:b,is_read:!1});if(p)throw p;m("")}catch(p){console.error("Failed to send message:",p),a({title:"Message failed",description:"Please try again.",variant:"destructive"})}finally{g(!1)}}},w=f.useMemo(()=>oH(i==null?void 0:i.membership_tier),[i]);return s.jsx(Xe,{open:e,onOpenChange:b=>{b||t()},children:s.jsx(Je,{className:"max-w-lg w-full p-0 bg-transparent border-none",children:s.jsxs("div",{className:"flex h-[75vh] flex-col overflow-hidden rounded-3xl bg-white shadow-2xl",children:[s.jsx(Ze,{className:"px-5 py-4 border-b",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:(i==null?void 0:i.profile_photo)||Gm,alt:(i==null?void 0:i.username)||"Performer",className:"h-12 w-12 rounded-full object-cover border"}),s.jsxs("div",{className:"flex flex-1 flex-col",children:[s.jsx(Qe,{className:"text-lg font-semibold capitalize",children:(i==null?void 0:i.username)||r}),w&&s.jsx(ce,{className:"mt-1 w-fit bg-blue-600 text-white",children:w})]})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50 px-5 py-4 space-y-4",children:d?s.jsxs("div",{className:"flex h-full items-center justify-center text-gray-500",children:[s.jsx(ot,{className:"mr-2 h-5 w-5 animate-spin"}),"Loading conversation..."]}):l.length===0?s.jsx("div",{className:"flex h-full items-center justify-center text-gray-500",children:"Start the conversation by sending a message."}):l.map(b=>{const p=b.sender_id===(n==null?void 0:n.id);return s.jsxs("div",{className:`flex items-end gap-2 ${p?"justify-end":"justify-start"}`,children:[!p&&s.jsx("img",{src:(i==null?void 0:i.profile_photo)||Gm,alt:(i==null?void 0:i.username)||"User",className:"h-8 w-8 rounded-full object-cover border"}),s.jsxs("div",{className:`max-w-[75%] rounded-2xl px-3 py-2 text-sm shadow ${p?"rounded-br-sm bg-blue-600 text-white":"rounded-bl-sm bg-white text-gray-800 border"}`,children:[s.jsx("div",{className:"whitespace-pre-wrap leading-relaxed",children:b.message}),s.jsx("div",{className:`mt-1 text-[10px] ${p?"text-blue-100":"text-gray-400"}`,children:b.created_at?new Date(b.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})]}),p&&s.jsx("img",{src:(n==null?void 0:n.profilePhoto)||Gm,alt:(n==null?void 0:n.username)||"Me",className:"h-8 w-8 rounded-full object-cover border"})]},b.id)})}),s.jsxs("div",{className:"flex items-end gap-3 border-t bg-white px-5 py-4",children:[s.jsx(mr,{placeholder:"Type a message",value:h,onChange:b=>m(b.target.value),rows:2,className:"flex-1 resize-none",disabled:x||d||!i}),s.jsxs(V,{onClick:v,disabled:x||!h.trim()||!i,className:"flex items-center gap-2",children:[x?s.jsx(ot,{className:"h-4 w-4 animate-spin"}):s.jsx(si,{className:"h-4 w-4"}),"Send"]})]})]})})})},cH=e=>{const t=(e.membership_tier??"").toLowerCase(),r=(e.membership_type??"").toLowerCase();return e.diamond_plus_active||t==="diamond_plus"||r==="diamond_plus"?"Diamond Plus Member":t==="diamond"||r==="diamond"?"Diamond Member":e.silver_plus_active||t==="silver_plus"||r==="silver_plus"||t==="silver"||r==="silver"?"Silver Plus Member":t==="gold"||r==="gold"?"Gold Member":t==="silver"?"Silver Member":"Free Member"},dH=e=>e.rank_number&&e.rank_number>0?`#${e.rank_number}`:e.user_rank&&e.user_rank>0?`#${e.user_rank}`:"Unranked",uH=()=>{const[e,t]=f.useState([]),[r,n]=f.useState([]),[a,i]=f.useState(""),[o,l]=f.useState(!0),c=pt(),[d,u]=f.useState(null),[h,m]=f.useState(!1);f.useEffect(()=>{x()},[]),f.useEffect(()=>{g()},[a,e]);const x=async()=>{try{const{data:p,error:y}=await I.from("users").select(`
            id,
            username,
            profile_photo,
            user_type,
            gender,
            city,
            state,
            membership_tier,
            membership_type,
            diamond_plus_active,
            silver_plus_active,
            rank_number,
            user_rank
          `).not("user_type","is",null).order("created_at",{ascending:!1});if(y)throw y;const j=(p==null?void 0:p.filter(A=>String(A.gender||"").toLowerCase()==="female"&&["stripper","exotic"].includes(String(A.user_type||"").toLowerCase())))??[],N=j.map(A=>A.id),k=new Map,_=new Map;if(N.length>0){const{data:A,error:L}=await I.from("ratings").select("user_id").in("user_id",N);if(L)throw L;(A??[]).forEach(G=>{k.set(G.user_id,(k.get(G.user_id)??0)+1)});const E=new Date().getFullYear(),{data:W,error:U}=await I.from("ratings").select("user_id, rating, year").eq("year",E).in("user_id",N);if(U)throw U;const Y=new Map;(W??[]).forEach(G=>{const R=Y.get(G.user_id)||{total:0,count:0};R.total+=Number(G.rating),R.count+=1,Y.set(G.user_id,R)}),Array.from(Y.entries()).filter(([,G])=>G.count>0).sort((G,R)=>R[1].total-G[1].total).forEach(([G],R)=>{_.set(G,R+1)})}const S=j.map(A=>{const L=A.id,F=_.get(L),E=A.rank_number??A.user_rank??null;return{id:L,username:A.username,profile_photo:A.profile_photo??null,user_type:A.user_type,gender:A.gender,city:A.city??"",state:A.state??"",membership_tier:A.membership_tier??null,membership_type:A.membership_type??null,diamond_plus_active:!!A.diamond_plus_active,silver_plus_active:!!A.silver_plus_active,rank_number:F??E,user_rank:F??E,ratings_count:k.get(L)??0,content_free_count:0,content_nude_count:0,content_xrated_count:0}}),P=new Map;if(S.length>0){const{data:A,error:L}=await Ve.from("user_media").select("user_id, content_tier, is_nude, is_xrated, flagged").in("user_id",S.map(F=>F.id)).eq("flagged",!1);!L&&A&&A.forEach(E=>{const W=P.get(E.user_id)||{free:0,nude:0,xrated:0},U=(E.content_tier??"").toLowerCase();U==="free"?W.free+=1:U==="silver"?W.nude+=1:U==="gold"?W.xrated+=1:(E.is_nude&&(W.nude+=1),E.is_xrated&&(W.xrated+=1)),P.set(E.user_id,W)})}const C=S.map(A=>{const L=P.get(A.id);return{...A,content_free_count:(L==null?void 0:L.free)??0,content_nude_count:(L==null?void 0:L.nude)??0,content_xrated_count:(L==null?void 0:L.xrated)??0}});t(C)}catch(p){console.error("Error fetching profiles:",p)}finally{l(!1)}},g=()=>{if(!a.trim()){n(e);return}const p=a.toLowerCase(),y=e.filter(j=>{const N=`${j.city} ${j.state}`.toLowerCase();return j.username.toLowerCase().includes(p)||N.includes(p)});n(y)},v=p=>{c(`/profile/${p}`)},w=p=>{u(p),m(!0)},b=()=>{m(!1),u(null)};return o?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"text-gray-500",children:"Loading profiles..."})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Browse Dimes"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Search and discover dimes profiles"}),s.jsxs("div",{className:"relative max-w-md mx-auto",children:[s.jsx(bs,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx(ne,{type:"text",placeholder:"Search by username or city or state...",value:a,onChange:p=>i(p.target.value),className:"pl-10"})]})]}),s.jsxs("div",{className:"text-center text-gray-600",children:[r.length," profile",r.length!==1?"s":""," found"]}),r.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.map(p=>{const y=p.city&&p.state?`${p.city}, ${p.state}`:p.city||p.state||"Location not specified",j=cH(p),N=dH(p);return s.jsx(Q,{className:"cursor-pointer hover:shadow-lg transition-shadow duration-200",onClick:()=>v(p.username),children:s.jsx(X,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-24 h-24 rounded-lg overflow-hidden bg-gray-200 flex-shrink-0",children:s.jsx("img",{src:p.profile_photo||"/placeholder.svg",alt:p.username,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("h3",{className:"font-semibold text-lg",children:["@",p.username]}),s.jsx("p",{className:"text-gray-600 text-sm",children:y})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(ce,{variant:"secondary",className:"text-xs capitalize",children:p.gender}),s.jsxs(ce,{variant:"outline",className:"text-xs flex items-center gap-1 capitalize",children:[s.jsx(at,{className:"w-3 h-3"}),p.user_type]}),s.jsx(ce,{className:"text-xs bg-amber-100 text-amber-700",children:j})]})]})]}),s.jsxs("div",{className:"flex flex-col gap-3 bg-gray-50 rounded-lg p-3 border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-semibold text-rose-600",children:"Message Me"}),s.jsxs(V,{size:"sm",variant:"outline",className:"flex items-center gap-2 border-rose-500 text-rose-600 hover:bg-rose-50",onClick:k=>{k.stopPropagation(),w(p)},children:[s.jsx(yo,{className:"w-4 h-4"}),"Message"]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-y-2 text-sm text-gray-700",children:[s.jsxs("span",{children:[s.jsx("strong",{className:"font-semibold text-gray-900",children:"Rated:"})," ",p.ratings_count]}),s.jsxs("span",{children:[s.jsx("strong",{className:"font-semibold text-gray-900",children:"Ranked:"})," ",N]}),s.jsxs("span",{children:[s.jsx("strong",{className:"font-semibold text-gray-900",children:"Free Content:"})," ",p.content_free_count]}),s.jsxs("span",{children:[s.jsx("strong",{className:"font-semibold text-gray-900",children:"Nude Content:"})," ",p.content_nude_count]}),s.jsxs("span",{children:[s.jsx("strong",{className:"font-semibold text-gray-900",children:"X-Rated Content:"})," ",p.content_xrated_count]})]})]}),s.jsxs(V,{size:"sm",className:"w-full",onClick:k=>{k.stopPropagation(),v(p.username)},children:[s.jsx(At,{className:"w-4 h-4 mr-2"}),"View Profile"]})]})})},p.id)})}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(At,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No profiles found"}),s.jsx("p",{className:"text-gray-600",children:a?"Try adjusting your search terms":"No dimes profiles available"})]}),s.jsx(lH,{isOpen:h,onClose:b,recipientUsername:(d==null?void 0:d.username)??null})]})},hH=()=>s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsx("div",{className:"max-w-6xl mx-auto px-4 py-8",children:s.jsx(uH,{})})}),fH=()=>{var _,S;const{username:e}=M5(),t=pt(),{user:r}=Es(),{toast:n}=Pe(),[a,i]=f.useState(null),[o,l]=f.useState([]),[c,d]=f.useState(!0),[u,h]=f.useState("free"),[m,x]=f.useState("free"),g=(...P)=>{};f.useEffect(()=>{e&&(v(),b())},[e]),f.useEffect(()=>{r!=null&&r.id&&b()},[r==null?void 0:r.id]);const v=async()=>{try{const C=(F=>F.replace(/[\u200B\u200C\u200D\u00A0]/g,"").normalize("NFKC").trim().toLowerCase())(String(e));let{data:A,error:L}=await I.from("users").select("id, username, first_name, last_name, bio, profile_photo, banner_photo, user_type, gender, city, state").eq("username",C).maybeSingle();if((!A||L)&&!A){const F=await I.from("users").select("id, username, first_name, last_name, bio, profile_photo, banner_photo, user_type, gender, city, state").ilike("username",C).maybeSingle();A=F.data,L=F.error}if((!A||L)&&!A){const F=await I.from("users").select("id, username, first_name, last_name, bio, profile_photo, banner_photo, user_type, gender, city, state").ilike("username",`%${C}%`),E=F.data;if(E&&E.length>0){const W=M=>String(M||"").toLowerCase(),U=E.find(M=>W(M.username)===C),Y=E.find(M=>W(M.username).startsWith(C));A=U||Y||E[0],L=F.error}}if(!A){g("[Profile] Public fetch returned no data. Trying admin fallback for",C);let F=await Ve.from("users").select("id, username, first_name, last_name, bio, profile_photo, banner_photo, user_type, gender, city, state").eq("username",C).maybeSingle(),E=F.data;if(E||(F=await Ve.from("users").select("id, username, first_name, last_name, bio, profile_photo, banner_photo, user_type, gender, city, state").ilike("username",C).maybeSingle(),E=F.data),!E){const U=(await Ve.from("users").select("id, username, first_name, last_name, bio, profile_photo, banner_photo, user_type, gender, city, state").ilike("username",`%${C}%`)).data;if(U&&U.length>0){const Y=R=>String(R||"").toLowerCase(),M=U.find(R=>Y(R.username)===C),G=U.find(R=>Y(R.username).startsWith(C));E=M||G||U[0]}}E?(g("[Profile] Admin fallback succeeded for",E.username),A=E):g("[Profile] Admin fallback also failed for",C,"error:",L)}if(L||!A){n({title:"Profile not found",description:"The requested profile does not exist.",variant:"destructive"}),t("/dashboard");return}i(A),await w(A.id)}catch(P){console.error("Error fetching profile:",P),n({title:"Error",description:"Failed to load profile.",variant:"destructive"})}finally{d(!1)}},w=async P=>{try{const{data:C,error:A}=await Ve.from("user_media").select("id, media_url, media_type, content_tier, flagged, created_at, storage_path").eq("user_id",P).eq("flagged",!1).order("created_at",{ascending:!1});if(A)throw A;g("Profile media fetched:",C);const L=await Promise.all((C||[]).map(async F=>{let E=F.media_url;if(F.media_type==="video"&&F.storage_path)try{const{data:W,error:U}=await Ve.storage.from("private-media").createSignedUrl(F.storage_path,3600);!U&&(W!=null&&W.signedUrl)&&(E=W.signedUrl)}catch(W){console.warn("Failed to create signed URL for video",F.id,W)}return{id:F.id,url:E,type:F.media_type,content_tier:F.content_tier,flagged:F.flagged,created_at:F.created_at}}));g("Transformed media:",L),l(L)}catch(C){console.error("Error fetching media:",C)}},b=async()=>{if(r!=null&&r.id)try{const{data:P,error:C}=await I.from("users").select("membership_tier, membership_type, silver_plus_active, diamond_plus_active").eq("id",r.id).single();if(!C&&P){const F=(P.membership_tier||P.membership_type||"").toString().toLowerCase(),E=F==="gold"||F==="diamond"?"diamond_plus":F==="silver"?"silver_plus":F;if(P.diamond_plus_active||E==="diamond_plus"){x("diamond_plus");return}if(P.silver_plus_active||E==="silver_plus"){x("silver_plus");return}}const{data:A,error:L}=await I.from("membership_upgrades").select("upgrade_type, upgrade_status").eq("user_id",r.id).eq("upgrade_status","completed").order("created_at",{ascending:!1}).limit(1);if(!L&&A&&A.length>0){const F=String(A[0].upgrade_type||"").toLowerCase();x(F==="gold"||F==="diamond"?"diamond_plus":F==="silver"?"silver_plus":F);return}x("free")}catch(P){console.error("Error fetching membership:",P),x("free")}},p=()=>o.filter(C=>u==="free"?C.content_tier==="free":u==="silver"?C.content_tier==="silver":u==="gold"?C.content_tier==="gold":!1).map(C=>({...C,media_type:C.type,media_url:C.url.startsWith("http")?C.url:`https://qkcuykpndrolrewwnkwb.supabase.co/storage/v1/object/public/media/${C.url}`,url:C.url.startsWith("http")?C.url:`https://qkcuykpndrolrewwnkwb.supabase.co/storage/v1/object/public/media/${C.url}`})),y=P=>P==="free"?!0:P==="silver"?["silver_plus","diamond_plus"].includes(m):P==="gold"?m==="diamond_plus":!1,j=()=>{t(`/tip?tip=${e}`)},N=()=>{t(`/rate?rate=${e}`)},k=P=>{P==="silver"?t("/upgrade-silver-plus"):P==="gold"&&t("/upgrade")};return c?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center",children:s.jsx("div",{className:"text-white text-xl",children:"Loading profile..."})}):a?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900",children:s.jsxs("div",{className:"container mx-auto px-2 sm:px-4 py-4 sm:py-8",children:[s.jsx(Q,{className:"mb-4 sm:mb-6 overflow-hidden",children:s.jsxs("div",{className:"relative h-72 sm:h-64 bg-gradient-to-r from-purple-600 to-blue-600",children:[a.banner_photo&&s.jsx("img",{src:a.banner_photo,alt:"Banner",className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30"}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-3 pt-8 sm:p-6 sm:pt-10",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-end gap-3 sm:gap-6",children:[s.jsx("div",{className:"w-20 h-20 sm:w-32 sm:h-32 rounded-full border-4 border-white overflow-hidden bg-white flex-shrink-0 shadow-lg mt-6 sm:mt-0",children:s.jsx("img",{src:a.profile_photo||"/placeholder.svg",alt:a.username,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"flex-1 text-white text-center sm:text-left",children:[s.jsxs("h1",{className:"text-xl sm:text-3xl font-bold",children:["@",a.username]}),s.jsx("p",{className:"text-sm sm:text-xl opacity-90 break-words",children:a.city&&a.state?`${a.city}, ${a.state}`:a.city?a.city:a.state?a.state:"Location not specified"}),s.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-2 mt-2",children:[s.jsx(ce,{variant:"secondary",className:"bg-white/20 text-white text-xs",children:a.gender}),s.jsx(ce,{variant:"secondary",className:"bg-white/20 text-white text-xs",children:a.user_type})]})]}),!(((_=a.gender)==null?void 0:_.toLowerCase())==="female"&&((S=a.user_type)==null?void 0:S.toLowerCase())==="normal")&&s.jsxs("div",{className:"flex gap-2 sm:gap-3 w-full sm:w-auto",children:[s.jsxs(V,{onClick:j,className:"bg-green-600 hover:bg-green-700 flex-1 sm:flex-none text-sm sm:text-base px-3 sm:px-4 py-2",size:"sm",children:[s.jsx(Tt,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),"Tip"]}),s.jsxs(V,{onClick:N,className:"bg-yellow-600 hover:bg-yellow-700 flex-1 sm:flex-none text-sm sm:text-base px-3 sm:px-4 py-2",size:"sm",children:[s.jsx(lr,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),"Rate"]})]})]}),a.bio&&s.jsx("div",{className:"mt-3 sm:mt-4 text-white/90 text-center sm:text-left",children:s.jsx("p",{className:"text-sm sm:text-base",children:a.bio})})]})]})}),s.jsx(Q,{children:s.jsxs(X,{className:"p-3 sm:p-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-4 sm:mb-6",children:[s.jsx(V,{variant:u==="free"?"default":"outline",onClick:()=>h("free"),className:"flex items-center justify-center gap-2 text-sm sm:text-base py-2 sm:py-3",size:"sm",children:"Free Content"}),s.jsxs(V,{variant:u==="silver"?"default":"outline",onClick:()=>h("silver"),className:"flex items-center justify-center gap-2 text-sm sm:text-base py-2 sm:py-3",size:"sm",children:[s.jsx(at,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"Silver Content",!y("silver")&&s.jsx(na,{className:"w-3 h-3 sm:w-4 sm:h-4"})]}),s.jsxs(V,{variant:u==="gold"?"default":"outline",onClick:()=>h("gold"),className:"flex items-center justify-center gap-2 text-sm sm:text-base py-2 sm:py-3",size:"sm",children:[s.jsx(at,{className:"w-3 h-3 sm:w-4 sm:h-4 text-yellow-500"}),"Gold Content",!y("gold")&&s.jsx(na,{className:"w-3 h-3 sm:w-4 sm:h-4"})]})]}),y(u)?s.jsx("div",{children:p().length>0?s.jsx(Hx,{media:p(),currentUserId:(r==null?void 0:r.id)||"",showLikesAndComments:!0,onDelete:function(P){throw new Error("Function not implemented.")}}):s.jsx("div",{className:"text-center py-8 sm:py-12 text-gray-500",children:s.jsxs("p",{className:"text-sm sm:text-base",children:["No ",u," content available"]})})}):s.jsxs("div",{className:"text-center py-8 sm:py-12 px-4",children:[s.jsx(na,{className:"w-12 h-12 sm:w-16 sm:h-16 mx-auto text-gray-400 mb-3 sm:mb-4"}),s.jsxs("h3",{className:"text-lg sm:text-xl font-semibold mb-2",children:[u==="silver"?"Silver Plus":"Gold"," Required"]}),s.jsx("p",{className:"text-gray-600 mb-3 sm:mb-4 text-sm sm:text-base",children:"Upgrade your membership to access this exclusive content"}),s.jsxs(V,{onClick:()=>k(u),className:"bg-purple-600 hover:bg-purple-700 text-sm sm:text-base px-4 sm:px-6 py-2 sm:py-3",size:"sm",children:["Upgrade to ",u==="silver"?"Silver Plus":"Gold"]})]})]})})]})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center",children:s.jsx("div",{className:"text-white text-xl",children:"Profile not found"})})};function mH(){const[e,t]=f.useState(!0),[r,n]=f.useState([]),[a,i]=f.useState(null),[o,l]=f.useState(null),c=async()=>{var d;try{t(!0),i(null);const{data:u}=await I.auth.getUser(),h=((d=u.user)==null?void 0:d.id)||null;if(l(h),!h){n([]);return}const{data:m,error:x}=await I.from("subscriptions").select("*").eq("user_id",h).order("updated_at",{ascending:!1});if(x){i(x.message),n([]);return}n(m||[])}catch(u){i((u==null?void 0:u.message)||String(u))}finally{t(!1)}};return f.useEffect(()=>{c()},[]),s.jsx("div",{className:"mx-auto max-w-3xl p-4",children:s.jsxs(Q,{children:[s.jsx(de,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"Subscriptions Debug"}),s.jsx(qs,{children:"Inspect your current subscription rows (RLS protected)"})]}),s.jsx(V,{size:"sm",onClick:c,disabled:e,children:e?"Refreshing":"Refresh"})]})}),s.jsxs(X,{children:[!o&&s.jsx("div",{className:"text-sm text-slate-600 mb-4",children:"You are not logged in."}),a&&s.jsx("div",{className:"text-sm text-red-600 mb-4",children:a}),r.length===0?s.jsx("div",{className:"text-sm text-slate-600",children:"No subscription rows found."}):s.jsx("div",{className:"space-y-4",children:r.map(d=>s.jsxs("div",{className:"p-3 rounded border bg-slate-50",children:[s.jsx("div",{className:"text-xs text-slate-500",children:"subscription_id"}),s.jsx("div",{className:"font-mono text-sm break-all",children:d.subscription_id}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mt-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-500",children:"tier:"})," ",d.tier||"-"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-500",children:"cadence:"})," ",d.cadence||"-"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-500",children:"billing:"})," ",d.billing_option||"-"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-500",children:"status:"})," ",d.status||"-"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-500",children:"cycles_paid:"})," ",d.cycles_paid??0]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-500",children:"total_cycles:"})," ",d.total_cycles??"-"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-500",children:"next_billing_time:"})," ",d.next_billing_time||"-"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-500",children:"membership_expires_at:"})," ",d.membership_expires_at||"-"]})]})]},d.id))})]})]})})}const pH=async()=>{const{data:e,error:t}=await I.from("elite_seat_stats").select("seats_max, seats_taken, seats_available").single();if(t)throw t;return e},xH=()=>{const{toast:e}=Pe(),[t]=gr(),r=(t.get("cadence")||"monthly").toLowerCase(),{data:n,isLoading:a,isError:i,refetch:o}=wT({queryKey:["elite-seat-stats"],queryFn:pH,refetchInterval:15e3}),c=((n==null?void 0:n.seats_available)??0)<=0,[d,u]=He.useState(!1),[h,m]=He.useState(!1),x=He.useRef(null),g=He.useRef(null);He.useEffect(()=>{const p=r==="yearly"?g.current:x.current;p&&p.scrollIntoView({behavior:"smooth",block:"center"})},[r]);const v=async()=>{const{data:{user:p},error:y}=await I.auth.getUser();return y?(console.error("auth error",y),e({title:"Auth error",description:y.message,variant:"destructive"}),null):(p==null?void 0:p.id)??null},w=async()=>{if(!c){u(!0);try{const p=await v();if(!p)return;const y=`${window.location.origin}/payment-return?payment=success&tier=elite&cadence=monthly`,j=`${window.location.origin}/payment-return?payment=cancelled&tier=elite&cadence=monthly`,{data:N,error:k}=await I.functions.invoke("create-paypal-subscription",{body:{user_id:p,tier:"elite",cadence:"monthly",return_url:y,cancel_url:j,description:"Elite Membership - Monthly Subscription"}});if(k)throw k;if(!(N!=null&&N.success)||!(N!=null&&N.approval_url))throw new Error((N==null?void 0:N.error)||"Failed to create subscription");e({title:"Redirecting to PayPal",description:"Approve your Elite subscription"}),window.location.href=N.approval_url}catch(p){console.error("Elite monthly start error",p),e({title:"Subscription error",description:(p==null?void 0:p.message)||"Failed to start subscription",variant:"destructive"})}finally{u(!1)}}},b=async()=>{if(!c){m(!0);try{const p=await v();if(!p)return;const y=`${window.location.origin}/payment-return?payment=success&tier=elite&cadence=yearly`,j=`${window.location.origin}/payment-return?payment=cancelled&tier=elite&cadence=yearly`,{data:N,error:k}=await I.functions.invoke("create-paypal-order",{body:{payment_type:"elite_yearly",user_id:p,amount:1e4,return_url:y,cancel_url:j,description:"Elite Membership - Lifetime"}});if(k)throw k;if(!(N!=null&&N.success)||!(N!=null&&N.approval_url))throw new Error((N==null?void 0:N.error)||"Failed to create order");e({title:"Redirecting to PayPal",description:"Approve your Elite lifetime purchase"}),window.location.href=N.approval_url}catch(p){const y=p&&(p.context||p.error);let j=(p==null?void 0:p.message)||"Failed to start checkout";if(y)try{const N=typeof y=="string"?JSON.parse(y):y,k=(N==null?void 0:N.error)||(N==null?void 0:N.message)||JSON.stringify(N);k&&(j=`${j}  ${k}`)}catch{}console.error("Elite lifetime order error",p),e({title:"Checkout error",description:j,variant:"destructive"})}finally{m(!1)}}};return s.jsx(Ci,{children:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-pink-900 to-red-900 p-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsxs("div",{className:"text-center mt-4",children:[s.jsx("h1",{className:"text-4xl font-bold text-white",children:"Elite Membership"}),s.jsx("p",{className:"text-pink-200 mt-2",children:"Limited to 50 lifetime seats"})]}),s.jsxs(Q,{className:"bg-black/70 border-pink-500 text-white",children:[s.jsx(de,{children:s.jsx(ue,{className:"text-pink-400",children:"Seat Availability"})}),s.jsx(X,{children:a?s.jsx("div",{className:"text-gray-300",children:"Loading seat stats..."}):i?s.jsxs("div",{className:"text-red-400",children:["Failed to load seat stats. ",s.jsx("button",{className:"underline",onClick:()=>o(),children:"Retry"})]}):n?s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"text-3xl font-bold",children:[n.seats_taken," / ",n.seats_max]}),s.jsx("div",{className:"text-gray-300",children:"Seats taken"})]}),s.jsxs("div",{className:`text-xl font-semibold ${c?"text-red-400":"text-green-400"}`,children:[n.seats_available," available"]})]}):null})]}),s.jsxs(Q,{className:"bg-black/70 border-pink-500 text-white",children:[s.jsx(de,{children:s.jsx(ue,{className:"text-pink-400",children:"Choose Your Plan"})}),s.jsxs(X,{children:[r==="yearly"?s.jsxs("div",{ref:g,className:"p-4 border rounded-lg border-pink-400 ring-1 ring-pink-500/50",children:[s.jsx("div",{className:"text-2xl font-bold",children:"Lifetime (One-Time)"}),s.jsx("div",{className:"text-gray-300 mb-2",children:"Pay once  lifetime seat immediately"}),s.jsx("div",{className:"text-3xl font-bold text-yellow-300 mb-4",children:"$10,000"}),s.jsx(V,{disabled:c||h,className:"w-full bg-gradient-to-r from-pink-500 to-purple-600",onClick:b,children:h?"Processing...":"Buy Lifetime"}),c&&s.jsx("p",{className:"text-sm text-red-400 mt-2",children:"Elite is currently full."})]}):s.jsxs("div",{ref:x,className:"p-4 border rounded-lg border-pink-400 ring-1 ring-pink-500/50",children:[s.jsx("div",{className:"text-2xl font-bold",children:"Monthly Path"}),s.jsx("div",{className:"text-gray-300 mb-2",children:"12 monthly payments  lifetime seat"}),s.jsx("div",{className:"text-3xl font-bold text-yellow-300 mb-4",children:"$846.33/mo"}),s.jsx(V,{disabled:c||d,className:"w-full bg-gradient-to-r from-pink-500 to-purple-600",onClick:w,children:d?"Processing...":"Start Monthly Subscription"}),c&&s.jsx("p",{className:"text-sm text-red-400 mt-2",children:"Elite is currently full."})]}),s.jsx("p",{className:"text-xs text-gray-400 mt-4",children:"Seats become permanent once lifetime is earned. 50 seat cap enforced."})]})]})]})})})},gH=new gT,yH=()=>s.jsx(vT,{client:gH,children:s.jsx(Xt,{children:s.jsx(xH,{})})}),vH=()=>{const[e,t]=f.useState(""),[r,n]=f.useState(""),[a,i]=f.useState(!1),[o,l]=f.useState(!1),{toast:c}=Pe();f.useEffect(()=>{(async()=>{const{data:h}=await I.auth.getSession();l(!!h.session)})()},[]);const d=async u=>{if(u.preventDefault(),e.length<8){c({title:"Password too short",description:"Use at least 8 characters",variant:"destructive"});return}if(e!==r){c({title:"Passwords do not match",description:"Make sure both fields match",variant:"destructive"});return}i(!0);try{const{error:h}=await I.auth.updateUser({password:e});if(h)throw h;const{data:{user:m}}=await I.auth.getUser();if(!(m!=null&&m.email))throw new Error("User email not found");const g=await(await wa(()=>Promise.resolve().then(()=>ZP),void 0)).hash(e,10);console.log("Syncing password for user:",m.email);try{const{data:w,error:b}=await Ve.from("users").select("id, username, email, password_hash").eq("email",m.email).single();if(b||!w)throw console.error("User not found in custom users table:",b),new Error("User profile not found. Please contact support.");const p=w.id,{error:y}=await Ve.from("users").update({password_hash:g,hash_type:"bcrypt",updated_at:new Date().toISOString()}).eq("email",m.email);if(y){console.error("Failed to update custom users table:",y);const{error:j}=await Ve.from("users").update({password_hash:g,hash_type:"bcrypt",updated_at:new Date().toISOString()}).eq("id",p);if(j)throw console.error("Retry failed:",j),new Error("Failed to update password in database. Please try again.")}console.log(" Password successfully synced for both Supabase Auth and custom users table"),console.log(" User can now login with both username and email")}catch(w){throw console.error("Critical error syncing passwords:",w),new Error((w==null?void 0:w.message)||"Failed to update password. Please try again.")}const{error:v}=await I.auth.updateUser({password:e});v&&console.error("Error updating Supabase Auth password:",v),c({title:"Password updated",description:"You can now log in with your new password"}),await I.auth.signOut(),window.location.replace("/login")}catch(h){console.error("Password reset error:",h),c({title:"Failed to update password",description:"The recovery link may be expired. Try sending a new reset email.",variant:"destructive"})}finally{i(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-md bg-white rounded-lg shadow p-6 space-y-4",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Reset Password"}),!o&&s.jsx(_i,{className:"bg-yellow-50 border-yellow-200",children:s.jsx(Si,{children:"Open this page from the password reset email link. If you already did, the link might be expiredrequest a new reset email from the Login page."})}),s.jsxs("form",{onSubmit:d,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(pe,{htmlFor:"password",children:"New Password"}),s.jsx(ne,{id:"password",type:"password",value:e,onChange:u=>t(u.target.value),placeholder:"Enter new password",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(pe,{htmlFor:"confirm",children:"Confirm Password"}),s.jsx(ne,{id:"confirm",type:"password",value:r,onChange:u=>n(u.target.value),placeholder:"Re-enter new password",required:!0})]}),s.jsx(V,{type:"submit",disabled:a||!o,className:"w-full",children:a?s.jsxs(s.Fragment,{children:[s.jsx(ot,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating..."]}):"Update Password"})]})]})})};function bH(){const t=wi().pathname==="/",r=s.jsxs(X5,{children:[s.jsx(qe,{path:"/",element:s.jsx(zU,{})}),s.jsx(qe,{path:"/login",element:s.jsx(s7,{})}),s.jsx(qe,{path:"/adminlogin",element:s.jsx(a7,{})}),s.jsx(qe,{path:"/test-login",element:s.jsx(Qq,{})}),s.jsx(qe,{path:"/register",element:s.jsx(FB,{})}),s.jsx(qe,{path:"/dashboard",element:s.jsx(NW,{})}),s.jsx(qe,{path:"/events",element:s.jsx(_W,{})}),s.jsx(qe,{path:"/eventsdimes",element:s.jsx(SW,{})}),s.jsx(qe,{path:"/events-dimes-only",element:s.jsx(kW,{})}),s.jsx(qe,{path:"/rate",element:s.jsx(CW,{})}),s.jsx(qe,{path:"/rate-girls",element:s.jsx(EW,{})}),s.jsx(qe,{path:"/rankings",element:s.jsx(PW,{})}),s.jsx(qe,{path:"/tip",element:s.jsx(AW,{})}),s.jsx(qe,{path:"/tip-girls",element:s.jsx(OW,{})}),s.jsx(qe,{path:"/dimes",element:s.jsx(hH,{})}),s.jsx(qe,{path:"/upgrade",element:s.jsx(bq,{})}),s.jsx(qe,{path:"/upgrade-diamond",element:s.jsx(tH,{})}),s.jsx(qe,{path:"/upgrade-silver-plus",element:s.jsx(rH,{})}),s.jsx(qe,{path:"/upgrade-silver",element:s.jsx(sH,{})}),s.jsx(qe,{path:"/upgrade-silver-subscribe",element:s.jsx(aH,{})}),s.jsx(qe,{path:"/upgrade-gold",element:s.jsx(nH,{})}),s.jsx(qe,{path:"/upgrade-diamond-monthly",element:s.jsx(iH,{})}),s.jsx(qe,{path:"/elite",element:s.jsx(yH,{})}),s.jsx(qe,{path:"/profile/:username",element:s.jsx(fH,{})}),s.jsx(qe,{path:"/payment-return",element:s.jsx(Zq,{})}),s.jsx(qe,{path:"/debug-subscription",element:s.jsx(mH,{})}),s.jsx(qe,{path:"/reset-password",element:s.jsx(vH,{})}),s.jsx(qe,{path:"/admin",element:s.jsx(Jq,{})}),s.jsx(qe,{path:"*",element:s.jsx(Xq,{})})]});return s.jsxs("div",{className:"App",children:[t?s.jsx(zM,{children:r}):r,s.jsx(VM,{})]})}function wH(){return s.jsx(DO,{children:s.jsx(i6,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:s.jsx(bH,{})})})}const jH={"client-id":"",currency:"USD",intent:"capture"};console.log("PayPal Client ID:",void 0);q_(document.getElementById("root")).render(s.jsx(He.StrictMode,{children:s.jsx(i5,{options:jH,children:s.jsx(wH,{})})}));
